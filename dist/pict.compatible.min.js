"use strict";function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_unsupportedIterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(t,e):void 0}}function _iterableToArray(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function _defineProperty2(t,e,r){return(e=_toPropertyKey2(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _get(){return _get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=_superPropBase(t,e);if(n){var i=Object.getOwnPropertyDescriptor(n,e);return i.get?i.get.call(arguments.length<3?t:r):i.value}},_get.apply(this,arguments)}function _superPropBase(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=_getPrototypeOf(t)););return t}function _classCallCheck2(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,_toPropertyKey2(n.key),n)}}function _createClass2(t,e,r){return e&&_defineProperties(t.prototype,e),r&&_defineProperties(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function _toPropertyKey2(t){var e=_toPrimitive2(t,"string");return"symbol"===_typeof(e)?e:String(e)}function _toPrimitive2(t,e){if("object"!==_typeof(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==_typeof(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},_setPrototypeOf(t,e)}function _createSuper(t){var e=_isNativeReflectConstruct();return function(){var r,n=_getPrototypeOf(t);if(e){var i=_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return _possibleConstructorReturn(this,r)}}function _possibleConstructorReturn(t,e){if(e&&("object"===_typeof(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(t)}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function _getPrototypeOf(t){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},_getPrototypeOf(t)}function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}!function(t){if("object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).Pict=t()}}((function(){return function t(e,r,n){function i(a,s){if(!r[a]){if(!e[a]){var c="function"==typeof require&&require;if(!s&&c)return c(a,!0);if(o)return o(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var l=r[a]={exports:{}};e[a][0].call(l.exports,(function(t){return i(e[a][1][t]||t)}),l,l.exports,t,e,r,n)}return r[a].exports}for(var o="function"==typeof require&&require,a=0;a<n.length;a++)i(n[a]);return i}({1:[function(t,e,r){var n=t("async.util.eachoflimit"),i=t("async.util.withoutindex");e.exports=function(t,e,r,o){return n(e)(t,i(r),o)}},{"async.util.eachoflimit":3,"async.util.withoutindex":14}],2:[function(t,e,r){e.exports=function(t){return function e(r){function n(){return t.length&&t[r].apply(null,arguments),n.next()}return n.next=function(){return r<t.length-1?e(r+1):null},n}(0)}},{}],3:[function(t,e,r){var n=t("async.util.once"),i=t("async.util.noop"),o=t("async.util.onlyonce"),a=t("async.util.keyiterator");e.exports=function(t){return function(e,r,s){s=n(s||i);var c=a(e=e||[]);if(t<=0)return s(null);var u=!1,l=0,f=!1;!function n(){if(u&&l<=0)return s(null);for(;l<t&&!f;){var i=c();if(null===i)return u=!0,void(l<=0&&s(null));l+=1,r(e[i],i,o((function(t){l-=1,t?(s(t),f=!0):n()})))}}()}}},{"async.util.keyiterator":7,"async.util.noop":9,"async.util.once":10,"async.util.onlyonce":11}],4:[function(t,e,r){var n=t("async.util.setimmediate"),i=t("async.util.restparam");e.exports=function(t){return i((function(e){var r=e.pop();e.push((function(){var t=arguments;i?n((function(){r.apply(null,t)})):r.apply(null,t)}));var i=!0;t.apply(this,e),i=!1}))}},{"async.util.restparam":12,"async.util.setimmediate":13}],5:[function(t,e,r){e.exports=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},{}],6:[function(t,e,r){var n=t("async.util.isarray");e.exports=function(t){return n(t)||"number"==typeof t.length&&t.length>=0&&t.length%1==0}},{"async.util.isarray":5}],7:[function(t,e,r){var n=t("async.util.keys"),i=t("async.util.isarraylike");e.exports=function(t){var e,r,o=-1;return i(t)?(e=t.length,function(){return++o<e?o:null}):(r=n(t),e=r.length,function(){return++o<e?r[o]:null})}},{"async.util.isarraylike":6,"async.util.keys":8}],8:[function(t,e,r){e.exports=Object.keys||function(t){var e=[];for(var r in t)t.hasOwnProperty(r)&&e.push(r);return e}},{}],9:[function(t,e,r){e.exports=function(){}},{}],10:[function(t,e,r){e.exports=function(t){return function(){null!==t&&(t.apply(this,arguments),t=null)}}},{}],11:[function(t,e,r){e.exports=function(t){return function(){if(null===t)throw new Error("Callback was already called.");t.apply(this,arguments),t=null}}},{}],12:[function(t,e,r){e.exports=function(t,e){return e=null==e?t.length-1:+e,function(){for(var r=Math.max(arguments.length-e,0),n=new Array(r),i=0;i<r;i++)n[i]=arguments[i+e];switch(e){case 0:return t.call(this,n);case 1:return t.call(this,arguments[0],n)}}}},{}],13:[function(t,e,r){(function(t){(function(){var r="function"==typeof t&&t,n=function(t){setTimeout(t,0)};e.exports=function(t){return(r||n)(t)}}).call(this)}).call(this,t("timers").setImmediate)},{timers:133}],14:[function(t,e,r){e.exports=function(t){return function(e,r,n){return t(e,n)}}},{}],15:[function(t,e,r){var n=t("async.util.once"),i=t("async.util.noop"),o=t("async.util.isarray"),a=t("async.util.restparam"),s=t("async.util.ensureasync"),c=t("async.iterator");e.exports=function(t,e){if(e=n(e||i),!o(t))return e(new Error("First argument to waterfall must be an array of functions"));if(!t.length)return e();!function t(r){return a((function(n,i){if(n)e.apply(null,[n].concat(i));else{var o=r.next();o?i.push(t(o)):i.push(e),s(r).apply(null,i)}}))}(c(t))()}},{"async.iterator":2,"async.util.ensureasync":4,"async.util.isarray":5,"async.util.noop":9,"async.util.once":10,"async.util.restparam":12}],16:[function(t,e,r){r.byteLength=function(t){var e=c(t),r=e[0],n=e[1];return 3*(r+n)/4-n},r.toByteArray=function(t){var e,r,n=c(t),a=n[0],s=n[1],u=new o(function(t,e,r){return 3*(e+r)/4-r}(0,a,s)),l=0,f=s>0?a-4:a;for(r=0;r<f;r+=4)e=i[t.charCodeAt(r)]<<18|i[t.charCodeAt(r+1)]<<12|i[t.charCodeAt(r+2)]<<6|i[t.charCodeAt(r+3)],u[l++]=e>>16&255,u[l++]=e>>8&255,u[l++]=255&e;2===s&&(e=i[t.charCodeAt(r)]<<2|i[t.charCodeAt(r+1)]>>4,u[l++]=255&e);1===s&&(e=i[t.charCodeAt(r)]<<10|i[t.charCodeAt(r+1)]<<4|i[t.charCodeAt(r+2)]>>2,u[l++]=e>>8&255,u[l++]=255&e);return u},r.fromByteArray=function(t){for(var e,r=t.length,i=r%3,o=[],a=16383,s=0,c=r-i;s<c;s+=a)o.push(u(t,s,s+a>c?c:s+a));1===i?(e=t[r-1],o.push(n[e>>2]+n[e<<4&63]+"==")):2===i&&(e=(t[r-2]<<8)+t[r-1],o.push(n[e>>10]+n[e>>4&63]+n[e<<2&63]+"="));return o.join("")};for(var n=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0;s<64;++s)n[s]=a[s],i[a.charCodeAt(s)]=s;function c(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");return-1===r&&(r=e),[r,r===e?0:4-r%4]}function u(t,e,r){for(var i,o,a=[],s=e;s<r;s+=3)i=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(255&t[s+2]),a.push(n[(o=i)>>18&63]+n[o>>12&63]+n[o>>6&63]+n[63&o]);return a.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},{}],17:[function(t,e,r){!function(t){var r,n=1e6,i=1e6,o="[big.js] ",a=o+"Invalid ",s=a+"decimal places",c=a+"rounding mode",u=o+"Division by zero",l={},f=void 0,h=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function p(t,e,r,n){var i=t.c;if(r===f&&(r=t.constructor.RM),0!==r&&1!==r&&2!==r&&3!==r)throw Error(c);if(e<1)n=3===r&&(n||!!i[0])||0===e&&(1===r&&i[0]>=5||2===r&&(i[0]>5||5===i[0]&&(n||i[1]!==f))),i.length=1,n?(t.e=t.e-e+1,i[0]=1):i[0]=t.e=0;else if(e<i.length){if(n=1===r&&i[e]>=5||2===r&&(i[e]>5||5===i[e]&&(n||i[e+1]!==f||1&i[e-1]))||3===r&&(n||!!i[0]),i.length=e,n)for(;++i[--e]>9;)if(i[e]=0,0===e){++t.e,i.unshift(1);break}for(e=i.length;!i[--e];)i.pop()}return t}function d(t,e,r){var n=t.e,i=t.c.join(""),o=i.length;if(e)i=i.charAt(0)+(o>1?"."+i.slice(1):"")+(n<0?"e":"e+")+n;else if(n<0){for(;++n;)i="0"+i;i="0."+i}else if(n>0)if(++n>o)for(n-=o;n--;)i+="0";else n<o&&(i=i.slice(0,n)+"."+i.slice(n));else o>1&&(i=i.charAt(0)+"."+i.slice(1));return t.s<0&&r?"-"+i:i}l.abs=function(){var t=new this.constructor(this);return t.s=1,t},l.cmp=function(t){var e,r=this,n=r.c,i=(t=new r.constructor(t)).c,o=r.s,a=t.s,s=r.e,c=t.e;if(!n[0]||!i[0])return n[0]?o:i[0]?-a:0;if(o!=a)return o;if(e=o<0,s!=c)return s>c^e?1:-1;for(a=(s=n.length)<(c=i.length)?s:c,o=-1;++o<a;)if(n[o]!=i[o])return n[o]>i[o]^e?1:-1;return s==c?0:s>c^e?1:-1},l.div=function(t){var e=this,r=e.constructor,i=e.c,o=(t=new r(t)).c,a=e.s==t.s?1:-1,c=r.DP;if(c!==~~c||c<0||c>n)throw Error(s);if(!o[0])throw Error(u);if(!i[0])return t.s=a,t.c=[t.e=0],t;var l,h,d,y,g,v=o.slice(),m=l=o.length,b=i.length,w=i.slice(0,l),S=w.length,T=t,_=T.c=[],A=0,P=c+(T.e=e.e-t.e)+1;for(T.s=a,a=P<0?0:P,v.unshift(0);S++<l;)w.push(0);do{for(d=0;d<10;d++){if(l!=(S=w.length))y=l>S?1:-1;else for(g=-1,y=0;++g<l;)if(o[g]!=w[g]){y=o[g]>w[g]?1:-1;break}if(!(y<0))break;for(h=S==l?o:v;S;){if(w[--S]<h[S]){for(g=S;g&&!w[--g];)w[g]=9;--w[g],w[S]+=10}w[S]-=h[S]}for(;!w[0];)w.shift()}_[A++]=y?d:++d,w[0]&&y?w[S]=i[m]||0:w=[i[m]]}while((m++<b||w[0]!==f)&&a--);return _[0]||1==A||(_.shift(),T.e--,P--),A>P&&p(T,P,r.RM,w[0]!==f),T},l.eq=function(t){return 0===this.cmp(t)},l.gt=function(t){return this.cmp(t)>0},l.gte=function(t){return this.cmp(t)>-1},l.lt=function(t){return this.cmp(t)<0},l.lte=function(t){return this.cmp(t)<1},l.minus=l.sub=function(t){var e,r,n,i,o=this,a=o.constructor,s=o.s,c=(t=new a(t)).s;if(s!=c)return t.s=-c,o.plus(t);var u=o.c.slice(),l=o.e,f=t.c,h=t.e;if(!u[0]||!f[0])return f[0]?t.s=-c:u[0]?t=new a(o):t.s=1,t;if(s=l-h){for((i=s<0)?(s=-s,n=u):(h=l,n=f),n.reverse(),c=s;c--;)n.push(0);n.reverse()}else for(r=((i=u.length<f.length)?u:f).length,s=c=0;c<r;c++)if(u[c]!=f[c]){i=u[c]<f[c];break}if(i&&(n=u,u=f,f=n,t.s=-t.s),(c=(r=f.length)-(e=u.length))>0)for(;c--;)u[e++]=0;for(c=e;r>s;){if(u[--r]<f[r]){for(e=r;e&&!u[--e];)u[e]=9;--u[e],u[r]+=10}u[r]-=f[r]}for(;0===u[--c];)u.pop();for(;0===u[0];)u.shift(),--h;return u[0]||(t.s=1,u=[h=0]),t.c=u,t.e=h,t},l.mod=function(t){var e,r=this,n=r.constructor,i=r.s,o=(t=new n(t)).s;if(!t.c[0])throw Error(u);return r.s=t.s=1,e=1==t.cmp(r),r.s=i,t.s=o,e?new n(r):(i=n.DP,o=n.RM,n.DP=n.RM=0,r=r.div(t),n.DP=i,n.RM=o,this.minus(r.times(t)))},l.neg=function(){var t=new this.constructor(this);return t.s=-t.s,t},l.plus=l.add=function(t){var e,r,n,i=this,o=i.constructor;if(t=new o(t),i.s!=t.s)return t.s=-t.s,i.minus(t);var a=i.e,s=i.c,c=t.e,u=t.c;if(!s[0]||!u[0])return u[0]||(s[0]?t=new o(i):t.s=i.s),t;if(s=s.slice(),e=a-c){for(e>0?(c=a,n=u):(e=-e,n=s),n.reverse();e--;)n.push(0);n.reverse()}for(s.length-u.length<0&&(n=u,u=s,s=n),e=u.length,r=0;e;s[e]%=10)r=(s[--e]=s[e]+u[e]+r)/10|0;for(r&&(s.unshift(r),++c),e=s.length;0===s[--e];)s.pop();return t.c=s,t.e=c,t},l.pow=function(t){var e=this,r=new e.constructor("1"),n=r,o=t<0;if(t!==~~t||t<-1e6||t>i)throw Error(a+"exponent");for(o&&(t=-t);1&t&&(n=n.times(e)),t>>=1;)e=e.times(e);return o?r.div(n):n},l.prec=function(t,e){if(t!==~~t||t<1||t>n)throw Error(a+"precision");return p(new this.constructor(this),t,e)},l.round=function(t,e){if(t===f)t=0;else if(t!==~~t||t<-n||t>n)throw Error(s);return p(new this.constructor(this),t+this.e+1,e)},l.sqrt=function(){var t,e,r,n=this,i=n.constructor,a=n.s,s=n.e,c=new i("0.5");if(!n.c[0])return new i(n);if(a<0)throw Error(o+"No square root");0===(a=Math.sqrt(n+""))||a===1/0?((e=n.c.join("")).length+s&1||(e+="0"),s=((s+1)/2|0)-(s<0||1&s),t=new i(((a=Math.sqrt(e))==1/0?"5e":(a=a.toExponential()).slice(0,a.indexOf("e")+1))+s)):t=new i(a+""),s=t.e+(i.DP+=4);do{r=t,t=c.times(r.plus(n.div(r)))}while(r.c.slice(0,s).join("")!==t.c.slice(0,s).join(""));return p(t,(i.DP-=4)+t.e+1,i.RM)},l.times=l.mul=function(t){var e,r=this,n=r.constructor,i=r.c,o=(t=new n(t)).c,a=i.length,s=o.length,c=r.e,u=t.e;if(t.s=r.s==t.s?1:-1,!i[0]||!o[0])return t.c=[t.e=0],t;for(t.e=c+u,a<s&&(e=i,i=o,o=e,u=a,a=s,s=u),e=new Array(u=a+s);u--;)e[u]=0;for(c=s;c--;){for(s=0,u=a+c;u>c;)s=e[u]+o[c]*i[u-c-1]+s,e[u--]=s%10,s=s/10|0;e[u]=s}for(s?++t.e:e.shift(),c=e.length;!e[--c];)e.pop();return t.c=e,t},l.toExponential=function(t,e){var r=this,i=r.c[0];if(t!==f){if(t!==~~t||t<0||t>n)throw Error(s);for(r=p(new r.constructor(r),++t,e);r.c.length<t;)r.c.push(0)}return d(r,!0,!!i)},l.toFixed=function(t,e){var r=this,i=r.c[0];if(t!==f){if(t!==~~t||t<0||t>n)throw Error(s);for(t=t+(r=p(new r.constructor(r),t+r.e+1,e)).e+1;r.c.length<t;)r.c.push(0)}return d(r,!1,!!i)},l.toJSON=l.toString=function(){var t=this,e=t.constructor;return d(t,t.e<=e.NE||t.e>=e.PE,!!t.c[0])},l.toNumber=function(){var t=Number(d(this,!0,!0));if(!0===this.constructor.strict&&!this.eq(t.toString()))throw Error(o+"Imprecise conversion");return t},l.toPrecision=function(t,e){var r=this,i=r.constructor,o=r.c[0];if(t!==f){if(t!==~~t||t<1||t>n)throw Error(a+"precision");for(r=p(new i(r),t,e);r.c.length<t;)r.c.push(0)}return d(r,t<=r.e||r.e<=i.NE||r.e>=i.PE,!!o)},l.valueOf=function(){var t=this,e=t.constructor;if(!0===e.strict)throw Error(o+"valueOf disallowed");return d(t,t.e<=e.NE||t.e>=e.PE,!0)},r=function t(){function e(r){var n=this;if(!(n instanceof e))return r===f?t():new e(r);if(r instanceof e)n.s=r.s,n.e=r.e,n.c=r.c.slice();else{if("string"!=typeof r){if(!0===e.strict&&"bigint"!=typeof r)throw TypeError(a+"value");r=0===r&&1/r<0?"-0":String(r)}!function(t,e){var r,n,i;if(!h.test(e))throw Error(a+"number");t.s="-"==e.charAt(0)?(e=e.slice(1),-1):1,(r=e.indexOf("."))>-1&&(e=e.replace(".",""));(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length);for(i=e.length,n=0;n<i&&"0"==e.charAt(n);)++n;if(n==i)t.c=[t.e=0];else{for(;i>0&&"0"==e.charAt(--i););for(t.e=r-n-1,t.c=[],r=0;n<=i;)t.c[r++]=+e.charAt(n++)}}(n,r)}n.constructor=e}return e.prototype=l,e.DP=20,e.RM=1,e.NE=-7,e.PE=21,e.strict=false,e.roundDown=0,e.roundHalfUp=1,e.roundHalfEven=2,e.roundUp=3,e}(),r.default=r.Big=r,void 0!==e&&e.exports?e.exports=r:t.Big=r}(this)},{}],18:[function(t,e,r){},{}],19:[function(t,e,r){arguments[4][18][0].apply(r,arguments)},{dup:18}],20:[function(t,e,r){(function(e){(function(){var e=t("base64-js"),n=t("ieee754");r.Buffer=a,r.SlowBuffer=function(t){+t!=t&&(t=0);return a.alloc(+t)},r.INSPECT_MAX_BYTES=50;var i=2147483647;function o(t){if(t>i)throw new RangeError('The value "'+t+'" is invalid for option "size"');var e=new Uint8Array(t);return e.__proto__=a.prototype,e}function a(t,e,r){if("number"==typeof t){if("string"==typeof e)throw new TypeError('The "string" argument must be of type string. Received type number');return u(t)}return s(t,e,r)}function s(t,e,r){if("string"==typeof t)return function(t,e){"string"==typeof e&&""!==e||(e="utf8");if(!a.isEncoding(e))throw new TypeError("Unknown encoding: "+e);var r=0|h(t,e),n=o(r),i=n.write(t,e);i!==r&&(n=n.slice(0,i));return n}(t,e);if(ArrayBuffer.isView(t))return l(t);if(null==t)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+_typeof(t));if(U(t,ArrayBuffer)||t&&U(t.buffer,ArrayBuffer))return function(t,e,r){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(r||0))throw new RangeError('"length" is outside of buffer bounds');var n;n=void 0===e&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,e):new Uint8Array(t,e,r);return n.__proto__=a.prototype,n}(t,e,r);if("number"==typeof t)throw new TypeError('The "value" argument must not be of type number. Received type number');var n=t.valueOf&&t.valueOf();if(null!=n&&n!==t)return a.from(n,e,r);var i=function(t){if(a.isBuffer(t)){var e=0|f(t.length),r=o(e);return 0===r.length||t.copy(r,0,0,e),r}if(void 0!==t.length)return"number"!=typeof t.length||H(t.length)?o(0):l(t);if("Buffer"===t.type&&Array.isArray(t.data))return l(t.data)}(t);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof t[Symbol.toPrimitive])return a.from(t[Symbol.toPrimitive]("string"),e,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+_typeof(t))}function c(t){if("number"!=typeof t)throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function u(t){return c(t),o(t<0?0:0|f(t))}function l(t){for(var e=t.length<0?0:0|f(t.length),r=o(e),n=0;n<e;n+=1)r[n]=255&t[n];return r}function f(t){if(t>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return 0|t}function h(t,e){if(a.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||U(t,ArrayBuffer))return t.byteLength;if("string"!=typeof t)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+_typeof(t));var r=t.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;for(var i=!1;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return N(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return B(t).length;default:if(i)return n?-1:N(t).length;e=(""+e).toLowerCase(),i=!0}}function p(t,e,r){var n=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return E(this,e,r);case"utf8":case"utf-8":return A(this,e,r);case"ascii":return C(this,e,r);case"latin1":case"binary":return k(this,e,r);case"base64":return _(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function d(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}function y(t,e,r,n,i){if(0===t.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),H(r=+r)&&(r=i?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(i)return-1;r=t.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof e&&(e=a.from(e,n)),a.isBuffer(e))return 0===e.length?-1:g(t,e,r,n,i);if("number"==typeof e)return e&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):g(t,[e],r,n,i);throw new TypeError("val must be string, number or Buffer")}function g(t,e,r,n,i){var o,a=1,s=t.length,c=e.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||e.length<2)return-1;a=2,s/=2,c/=2,r/=2}function u(t,e){return 1===a?t[e]:t.readUInt16BE(e*a)}if(i){var l=-1;for(o=r;o<s;o++)if(u(t,o)===u(e,-1===l?0:o-l)){if(-1===l&&(l=o),o-l+1===c)return l*a}else-1!==l&&(o-=o-l),l=-1}else for(r+c>s&&(r=s-c),o=r;o>=0;o--){for(var f=!0,h=0;h<c;h++)if(u(t,o+h)!==u(e,h)){f=!1;break}if(f)return o}return-1}function v(t,e,r,n){r=Number(r)||0;var i=t.length-r;n?(n=Number(n))>i&&(n=i):n=i;var o=e.length;n>o/2&&(n=o/2);for(var a=0;a<n;++a){var s=parseInt(e.substr(2*a,2),16);if(H(s))return a;t[r+a]=s}return a}function m(t,e,r,n){return F(N(e,t.length-r),t,r,n)}function b(t,e,r,n){return F(function(t){for(var e=[],r=0;r<t.length;++r)e.push(255&t.charCodeAt(r));return e}(e),t,r,n)}function w(t,e,r,n){return b(t,e,r,n)}function S(t,e,r,n){return F(B(e),t,r,n)}function T(t,e,r,n){return F(function(t,e){for(var r,n,i,o=[],a=0;a<t.length&&!((e-=2)<0);++a)n=(r=t.charCodeAt(a))>>8,i=r%256,o.push(i),o.push(n);return o}(e,t.length-r),t,r,n)}function _(t,r,n){return 0===r&&n===t.length?e.fromByteArray(t):e.fromByteArray(t.slice(r,n))}function A(t,e,r){r=Math.min(t.length,r);for(var n=[],i=e;i<r;){var o,a,s,c,u=t[i],l=null,f=u>239?4:u>223?3:u>191?2:1;if(i+f<=r)switch(f){case 1:u<128&&(l=u);break;case 2:128==(192&(o=t[i+1]))&&(c=(31&u)<<6|63&o)>127&&(l=c);break;case 3:o=t[i+1],a=t[i+2],128==(192&o)&&128==(192&a)&&(c=(15&u)<<12|(63&o)<<6|63&a)>2047&&(c<55296||c>57343)&&(l=c);break;case 4:o=t[i+1],a=t[i+2],s=t[i+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&(c=(15&u)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&c<1114112&&(l=c)}null===l?(l=65533,f=1):l>65535&&(l-=65536,n.push(l>>>10&1023|55296),l=56320|1023&l),n.push(l),i+=f}return function(t){var e=t.length;if(e<=P)return String.fromCharCode.apply(String,t);var r="",n=0;for(;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=P));return r}(n)}r.kMaxLength=i,a.TYPED_ARRAY_SUPPORT=function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()}catch(t){return!1}}(),a.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}}),"undefined"!=typeof Symbol&&null!=Symbol.species&&a[Symbol.species]===a&&Object.defineProperty(a,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),a.poolSize=8192,a.from=function(t,e,r){return s(t,e,r)},a.prototype.__proto__=Uint8Array.prototype,a.__proto__=Uint8Array,a.alloc=function(t,e,r){return function(t,e,r){return c(t),t<=0?o(t):void 0!==e?"string"==typeof r?o(t).fill(e,r):o(t).fill(e):o(t)}(t,e,r)},a.allocUnsafe=function(t){return u(t)},a.allocUnsafeSlow=function(t){return u(t)},a.isBuffer=function(t){return null!=t&&!0===t._isBuffer&&t!==a.prototype},a.compare=function(t,e){if(U(t,Uint8Array)&&(t=a.from(t,t.offset,t.byteLength)),U(e,Uint8Array)&&(e=a.from(e,e.offset,e.byteLength)),!a.isBuffer(t)||!a.isBuffer(e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;for(var r=t.length,n=e.length,i=0,o=Math.min(r,n);i<o;++i)if(t[i]!==e[i]){r=t[i],n=e[i];break}return r<n?-1:n<r?1:0},a.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return a.alloc(0);var r;if(void 0===e)for(e=0,r=0;r<t.length;++r)e+=t[r].length;var n=a.allocUnsafe(e),i=0;for(r=0;r<t.length;++r){var o=t[r];if(U(o,Uint8Array)&&(o=a.from(o)),!a.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(n,i),i+=o.length}return n},a.byteLength=h,a.prototype._isBuffer=!0,a.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)d(this,e,e+1);return this},a.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)d(this,e,e+3),d(this,e+1,e+2);return this},a.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)d(this,e,e+7),d(this,e+1,e+6),d(this,e+2,e+5),d(this,e+3,e+4);return this},a.prototype.toString=function(){var t=this.length;return 0===t?"":0===arguments.length?A(this,0,t):p.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(t){if(!a.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===a.compare(this,t)},a.prototype.inspect=function(){var t="",e=r.INSPECT_MAX_BYTES;return t=this.toString("hex",0,e).replace(/(.{2})/g,"$1 ").trim(),this.length>e&&(t+=" ... "),"<Buffer "+t+">"},a.prototype.compare=function(t,e,r,n,i){if(U(t,Uint8Array)&&(t=a.from(t,t.offset,t.byteLength)),!a.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+_typeof(t));if(void 0===e&&(e=0),void 0===r&&(r=t?t.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),e<0||r>t.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&e>=r)return 0;if(n>=i)return-1;if(e>=r)return 1;if(this===t)return 0;for(var o=(i>>>=0)-(n>>>=0),s=(r>>>=0)-(e>>>=0),c=Math.min(o,s),u=this.slice(n,i),l=t.slice(e,r),f=0;f<c;++f)if(u[f]!==l[f]){o=u[f],s=l[f];break}return o<s?-1:s<o?1:0},a.prototype.includes=function(t,e,r){return-1!==this.indexOf(t,e,r)},a.prototype.indexOf=function(t,e,r){return y(this,t,e,r,!0)},a.prototype.lastIndexOf=function(t,e,r){return y(this,t,e,r,!1)},a.prototype.write=function(t,e,r,n){if(void 0===e)n="utf8",r=this.length,e=0;else if(void 0===r&&"string"==typeof e)n=e,r=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-e;if((void 0===r||r>i)&&(r=i),t.length>0&&(r<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return v(this,t,e,r);case"utf8":case"utf-8":return m(this,t,e,r);case"ascii":return b(this,t,e,r);case"latin1":case"binary":return w(this,t,e,r);case"base64":return S(this,t,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,t,e,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var P=4096;function C(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(127&t[i]);return n}function k(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(t[i]);return n}function E(t,e,r){var n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);for(var i="",o=e;o<r;++o)i+=L(t[o]);return i}function O(t,e,r){for(var n=t.slice(e,r),i="",o=0;o<n.length;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function M(t,e,r){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}function D(t,e,r,n,i,o){if(!a.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}function R(t,e,r,n,i,o){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function j(t,e,r,i,o){return e=+e,r>>>=0,o||R(t,0,r,4),n.write(t,e,r,i,23,4),r+4}function x(t,e,r,i,o){return e=+e,r>>>=0,o||R(t,0,r,8),n.write(t,e,r,i,52,8),r+8}a.prototype.slice=function(t,e){var r=this.length;(t=~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),(e=void 0===e?r:~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t);var n=this.subarray(t,e);return n.__proto__=a.prototype,n},a.prototype.readUIntLE=function(t,e,r){t>>>=0,e>>>=0,r||M(t,e,this.length);for(var n=this[t],i=1,o=0;++o<e&&(i*=256);)n+=this[t+o]*i;return n},a.prototype.readUIntBE=function(t,e,r){t>>>=0,e>>>=0,r||M(t,e,this.length);for(var n=this[t+--e],i=1;e>0&&(i*=256);)n+=this[t+--e]*i;return n},a.prototype.readUInt8=function(t,e){return t>>>=0,e||M(t,1,this.length),this[t]},a.prototype.readUInt16LE=function(t,e){return t>>>=0,e||M(t,2,this.length),this[t]|this[t+1]<<8},a.prototype.readUInt16BE=function(t,e){return t>>>=0,e||M(t,2,this.length),this[t]<<8|this[t+1]},a.prototype.readUInt32LE=function(t,e){return t>>>=0,e||M(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},a.prototype.readUInt32BE=function(t,e){return t>>>=0,e||M(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},a.prototype.readIntLE=function(t,e,r){t>>>=0,e>>>=0,r||M(t,e,this.length);for(var n=this[t],i=1,o=0;++o<e&&(i*=256);)n+=this[t+o]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*e)),n},a.prototype.readIntBE=function(t,e,r){t>>>=0,e>>>=0,r||M(t,e,this.length);for(var n=e,i=1,o=this[t+--n];n>0&&(i*=256);)o+=this[t+--n]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*e)),o},a.prototype.readInt8=function(t,e){return t>>>=0,e||M(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},a.prototype.readInt16LE=function(t,e){t>>>=0,e||M(t,2,this.length);var r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},a.prototype.readInt16BE=function(t,e){t>>>=0,e||M(t,2,this.length);var r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},a.prototype.readInt32LE=function(t,e){return t>>>=0,e||M(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},a.prototype.readInt32BE=function(t,e){return t>>>=0,e||M(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},a.prototype.readFloatLE=function(t,e){return t>>>=0,e||M(t,4,this.length),n.read(this,t,!0,23,4)},a.prototype.readFloatBE=function(t,e){return t>>>=0,e||M(t,4,this.length),n.read(this,t,!1,23,4)},a.prototype.readDoubleLE=function(t,e){return t>>>=0,e||M(t,8,this.length),n.read(this,t,!0,52,8)},a.prototype.readDoubleBE=function(t,e){return t>>>=0,e||M(t,8,this.length),n.read(this,t,!1,52,8)},a.prototype.writeUIntLE=function(t,e,r,n){(t=+t,e>>>=0,r>>>=0,n)||D(this,t,e,r,Math.pow(2,8*r)-1,0);var i=1,o=0;for(this[e]=255&t;++o<r&&(i*=256);)this[e+o]=t/i&255;return e+r},a.prototype.writeUIntBE=function(t,e,r,n){(t=+t,e>>>=0,r>>>=0,n)||D(this,t,e,r,Math.pow(2,8*r)-1,0);var i=r-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+r},a.prototype.writeUInt8=function(t,e,r){return t=+t,e>>>=0,r||D(this,t,e,1,255,0),this[e]=255&t,e+1},a.prototype.writeUInt16LE=function(t,e,r){return t=+t,e>>>=0,r||D(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},a.prototype.writeUInt16BE=function(t,e,r){return t=+t,e>>>=0,r||D(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},a.prototype.writeUInt32LE=function(t,e,r){return t=+t,e>>>=0,r||D(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},a.prototype.writeUInt32BE=function(t,e,r){return t=+t,e>>>=0,r||D(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},a.prototype.writeIntLE=function(t,e,r,n){if(t=+t,e>>>=0,!n){var i=Math.pow(2,8*r-1);D(this,t,e,r,i-1,-i)}var o=0,a=1,s=0;for(this[e]=255&t;++o<r&&(a*=256);)t<0&&0===s&&0!==this[e+o-1]&&(s=1),this[e+o]=(t/a>>0)-s&255;return e+r},a.prototype.writeIntBE=function(t,e,r,n){if(t=+t,e>>>=0,!n){var i=Math.pow(2,8*r-1);D(this,t,e,r,i-1,-i)}var o=r-1,a=1,s=0;for(this[e+o]=255&t;--o>=0&&(a*=256);)t<0&&0===s&&0!==this[e+o+1]&&(s=1),this[e+o]=(t/a>>0)-s&255;return e+r},a.prototype.writeInt8=function(t,e,r){return t=+t,e>>>=0,r||D(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},a.prototype.writeInt16LE=function(t,e,r){return t=+t,e>>>=0,r||D(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},a.prototype.writeInt16BE=function(t,e,r){return t=+t,e>>>=0,r||D(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},a.prototype.writeInt32LE=function(t,e,r){return t=+t,e>>>=0,r||D(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},a.prototype.writeInt32BE=function(t,e,r){return t=+t,e>>>=0,r||D(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},a.prototype.writeFloatLE=function(t,e,r){return j(this,t,e,!0,r)},a.prototype.writeFloatBE=function(t,e,r){return j(this,t,e,!1,r)},a.prototype.writeDoubleLE=function(t,e,r){return x(this,t,e,!0,r)},a.prototype.writeDoubleBE=function(t,e,r){return x(this,t,e,!1,r)},a.prototype.copy=function(t,e,r,n){if(!a.isBuffer(t))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-r&&(n=t.length-e+r);var i=n-r;if(this===t&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(e,r,n);else if(this===t&&r<e&&e<n)for(var o=i-1;o>=0;--o)t[o+e]=this[o+r];else Uint8Array.prototype.set.call(t,this.subarray(r,n),e);return i},a.prototype.fill=function(t,e,r,n){if("string"==typeof t){if("string"==typeof e?(n=e,e=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!a.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===t.length){var i=t.charCodeAt(0);("utf8"===n&&i<128||"latin1"===n)&&(t=i)}}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<r)throw new RangeError("Out of range index");if(r<=e)return this;var o;if(e>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0),"number"==typeof t)for(o=e;o<r;++o)this[o]=t;else{var s=a.isBuffer(t)?t:a.from(t,n),c=s.length;if(0===c)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(o=0;o<r-e;++o)this[o+e]=s[o%c]}return this};var I=/[^+/0-9A-Za-z-_]/g;function L(t){return t<16?"0"+t.toString(16):t.toString(16)}function N(t,e){var r;e=e||1/0;for(var n=t.length,i=null,o=[],a=0;a<n;++a){if((r=t.charCodeAt(a))>55295&&r<57344){if(!i){if(r>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(a+1===n){(e-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(e-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((e-=1)<0)break;o.push(r)}else if(r<2048){if((e-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function B(t){return e.toByteArray(function(t){if((t=(t=t.split("=")[0]).trim().replace(I,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function F(t,e,r,n){for(var i=0;i<n&&!(i+r>=e.length||i>=t.length);++i)e[i+r]=t[i];return i}function U(t,e){return t instanceof e||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===e.name}function H(t){return t!=t}}).call(this)}).call(this,t("buffer").Buffer)},{"base64-js":16,buffer:20,ieee754:77}],21:[function(t,e,r){e.exports={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}},{}],22:[function(t,e,r){var n=t("fable-serviceproviderbase"),i=t("./LinkedList.js"),o=function(t){_inherits(r,t);var e=_createSuper(r);function r(t,n,o){var a;return _classCallCheck2(this,r),(a=void 0===t?e.call(this,{}):e.call(this,t,n,o)).serviceType="ObjectCache",a._HashMap={},a._RecordMap={},a._List=new i,a.maxLength=0,a.maxAge=0,_possibleConstructorReturn(a)}return _createClass2(r,[{key:"RecordMap",get:function(){return this._RecordMap}},{key:"put",value:function(t,e){if(this._HashMap.hasOwnProperty(e))return this._HashMap[e].Datum=t,this._RecordMap[e]=t,this._HashMap[e].Datum;var r=this._List.push(t,e);return this._HashMap[r.Hash]=r,this._RecordMap[e]=t,this.maxLength>0&&this._List.length>this.maxLength&&(r=this._List.pop(),delete this._RecordMap[r.Hash],delete this._HashMap[r.Hash]),r.Metadata.Created=+new Date,r.Datum}},{key:"read",value:function(t){return!!this._HashMap.hasOwnProperty(t)&&this._HashMap[t].Datum}},{key:"touch",value:function(t){if(!this._HashMap.hasOwnProperty(t))return!1;var e=this._List.remove(this._HashMap[t]);return delete this._RecordMap[t],delete this._HashMap[t],this.put(e.Datum,e.Hash)}},{key:"expire",value:function(t){if(!this._HashMap.hasOwnProperty(t))return!1;var e=this._HashMap[t];return e=this._List.remove(e),delete this._RecordMap[e.Hash],delete this._HashMap[e.Hash],e}},{key:"pruneBasedOnExpiration",value:function(t,e){var r=void 0===e?[]:e;if(this.maxAge<1)return t(r);for(var n=+new Date,i=Object.keys(this._HashMap),o=0;o<i.length;o++)n-this._HashMap[i[o]].Metadata.Created>=this.maxAge&&r.push(this.expire(i[o]));t(r)}},{key:"pruneBasedOnLength",value:function(t,e){var r=void 0===e?[]:e;if(this.maxLength>0)for(;this._List.length>this.maxLength;)r.push(this._List.pop());return t(r)}},{key:"pruneCustom",value:function(t,e,r){for(var n=void 0===r?[]:r,i=Object.keys(this._HashMap),o=0;o<i.length;o++){var a=this._HashMap[i[o]];e(a.Datum,a.Hash,a)&&n.push(this.expire(i[o]))}t(n)}},{key:"prune",value:function(t){var e=this,r=[];if(this._List.length<1)return t(r);this.pruneBasedOnExpiration((function(n){e.pruneBasedOnLength(t,r)}),r)}},{key:"getNode",value:function(t){return!!this._HashMap.hasOwnProperty(t)&&this._HashMap[t]}}]),r}(n);e.exports=o},{"./LinkedList.js":24,"fable-serviceproviderbase":44}],23:[function(t,e,r){var n=_createClass2((function t(){_classCallCheck2(this,t),this.Hash=!1,this.Datum=!1,this.Metadata={},this.LeftNode=!1,this.RightNode=!1,this.__ISNODE=!0}));e.exports=n},{}],24:[function(t,e,r){var n=t("./LinkedList-Node.js"),i=function(){function t(){_classCallCheck2(this,t),this.totalNodes=0,this.length=0,this.head=!1,this.tail=!1}return _createClass2(t,[{key:"initializeNode",value:function(t,e){if(void 0===t)return!1;this.totalNodes++;var r=void 0!==e?e:"NODE[".concat(this.totalNodes,"]"),i=new n;return i.Hash=r,i.Datum=t,i}},{key:"append",value:function(t,e){var r=this.initializeNode(t,e);return!!r&&(this.length++,1==this.length?(this.head=r,this.tail=r,r):(this.tail.RightNode=r,r.LeftNode=this.tail,this.tail=r,r))}},{key:"push",value:function(t,e){return this.append(t,e)}},{key:"prepend",value:function(t,e){var r=this.initializeNode(t,e);return!!r&&(this.length++,1==this.length?(this.head=r,this.tail=r,r):(this.head.LeftNode=r,r.RightNode=this.head,this.head=r,r))}},{key:"remove",value:function(t){return void 0!==t&&(!!t.__ISNODE&&(this.length--,this.length<1?(this.head=!1,this.tail=!1,t):t.LeftNode&&t.RightNode?(t.LeftNode.RightNode=t.RightNode,t.RightNode.LeftNode=t.LeftNode,t.RightNode=!1,t.LeftNode=!1,t):t.LeftNode?(t.LeftNode.RightNode=!1,this.tail=t.LeftNode,t.LeftNode=!1,t):(t.RightNode.LeftNode=!1,this.head=t.RightNode,t.RightNode=!1,t)))}},{key:"pop",value:function(){return this.remove(this.head)}},{key:"each",value:function(t,e){var r=this;if(this.length<1)return e();var n=!1;return function i(o){if(o)return e(o);if(n){if(!n.RightNode)return e();n=n.RightNode}else n=r.head;t(n.Datum,n.Hash,i)}()}},{key:"seek",value:function(t){if(!t)return!1;if(this.length<1)return!1;if(t>=this.length)return!1;for(var e=this.head,r=0;r<t;r++)e=e.RightNode;return e}}]),t}();e.exports=i},{"./LinkedList-Node.js":23}],25:[function(t,e,r){var n=t("get-intrinsic"),i=t("./"),o=i(n("String.prototype.indexOf"));e.exports=function(t,e){var r=n(t,!!e);return"function"==typeof r&&o(t,".prototype.")>-1?i(r):r}},{"./":26,"get-intrinsic":69}],26:[function(t,e,r){var n=t("function-bind"),i=t("get-intrinsic"),o=t("set-function-length"),a=i("%TypeError%"),s=i("%Function.prototype.apply%"),c=i("%Function.prototype.call%"),u=i("%Reflect.apply%",!0)||n.call(c,s),l=i("%Object.defineProperty%",!0),f=i("%Math.max%");if(l)try{l({},"a",{value:1})}catch(t){l=null}e.exports=function(t){if("function"!=typeof t)throw new a("a function is required");var e=u(n,c,arguments);return o(e,1+f(0,t.length-(arguments.length-1)),!0)};var h=function(){return u(n,s,arguments)};l?l(e.exports,"apply",{value:h}):e.exports.apply=h},{"function-bind":68,"get-intrinsic":69,"set-function-length":109}],27:[function(t,e,r){r.parse=function(t,e){if("string"!=typeof t)throw new TypeError("argument str must be a string");var r={},n=(e||{}).decode||o,i=0;for(;i<t.length;){var a=t.indexOf("=",i);if(-1===a)break;var c=t.indexOf(";",i);if(-1===c)c=t.length;else if(c<a){i=t.lastIndexOf(";",a-1)+1;continue}var u=t.slice(i,a).trim();if(void 0===r[u]){var l=t.slice(a+1,c).trim();34===l.charCodeAt(0)&&(l=l.slice(1,-1)),r[u]=s(l,n)}i=c+1}return r},r.serialize=function(t,e,r){var o=r||{},s=o.encode||a;if("function"!=typeof s)throw new TypeError("option encode is invalid");if(!i.test(t))throw new TypeError("argument name is invalid");var c=s(e);if(c&&!i.test(c))throw new TypeError("argument val is invalid");var u=t+"="+c;if(null!=o.maxAge){var l=o.maxAge-0;if(isNaN(l)||!isFinite(l))throw new TypeError("option maxAge is invalid");u+="; Max-Age="+Math.floor(l)}if(o.domain){if(!i.test(o.domain))throw new TypeError("option domain is invalid");u+="; Domain="+o.domain}if(o.path){if(!i.test(o.path))throw new TypeError("option path is invalid");u+="; Path="+o.path}if(o.expires){var f=o.expires;if(!function(t){return"[object Date]"===n.call(t)||t instanceof Date}(f)||isNaN(f.valueOf()))throw new TypeError("option expires is invalid");u+="; Expires="+f.toUTCString()}o.httpOnly&&(u+="; HttpOnly");o.secure&&(u+="; Secure");o.partitioned&&(u+="; Partitioned");if(o.priority){switch("string"==typeof o.priority?o.priority.toLowerCase():o.priority){case"low":u+="; Priority=Low";break;case"medium":u+="; Priority=Medium";break;case"high":u+="; Priority=High";break;default:throw new TypeError("option priority is invalid")}}if(o.sameSite){switch("string"==typeof o.sameSite?o.sameSite.toLowerCase():o.sameSite){case!0:u+="; SameSite=Strict";break;case"lax":u+="; SameSite=Lax";break;case"strict":u+="; SameSite=Strict";break;case"none":u+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return u};var n=Object.prototype.toString,i=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function o(t){return-1!==t.indexOf("%")?decodeURIComponent(t):t}function a(t){return encodeURIComponent(t)}function s(t,e){try{return e(t)}catch(e){return t}}},{}],28:[function(t,e,r){var n,i;n=this,i=function(){var t=6e4,e=36e5,r="millisecond",n="second",i="minute",o="hour",a="day",s="week",c="month",u="quarter",l="year",f="date",h="Invalid Date",p=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,d=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,y={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(t){var e=["th","st","nd","rd"],r=t%100;return"["+t+(e[(r-20)%10]||e[r]||e[0])+"]"}},g=function(t,e,r){var n=String(t);return!n||n.length>=e?t:""+Array(e+1-n.length).join(r)+t},v={s:g,z:function(t){var e=-t.utcOffset(),r=Math.abs(e),n=Math.floor(r/60),i=r%60;return(e<=0?"+":"-")+g(n,2,"0")+":"+g(i,2,"0")},m:function t(e,r){if(e.date()<r.date())return-t(r,e);var n=12*(r.year()-e.year())+(r.month()-e.month()),i=e.clone().add(n,c),o=r-i<0,a=e.clone().add(n+(o?-1:1),c);return+(-(n+(r-i)/(o?i-a:a-i))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(t){return{M:c,y:l,w:s,d:a,D:f,h:o,m:i,s:n,ms:r,Q:u}[t]||String(t||"").toLowerCase().replace(/s$/,"")},u:function(t){return void 0===t}},m="en",b={};b[m]=y;var w="$isDayjsObject",S=function(t){return t instanceof P||!(!t||!t[w])},T=function t(e,r,n){var i;if(!e)return m;if("string"==typeof e){var o=e.toLowerCase();b[o]&&(i=o),r&&(b[o]=r,i=o);var a=e.split("-");if(!i&&a.length>1)return t(a[0])}else{var s=e.name;b[s]=e,i=s}return!n&&i&&(m=i),i||!n&&m},_=function(t,e){if(S(t))return t.clone();var r="object"==_typeof(e)?e:{};return r.date=t,r.args=arguments,new P(r)},A=v;A.l=T,A.i=S,A.w=function(t,e){return _(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var P=function(){function y(t){this.$L=T(t.locale,null,!0),this.parse(t),this.$x=this.$x||t.x||{},this[w]=!0}var g=y.prototype;return g.parse=function(t){this.$d=function(t){var e=t.date,r=t.utc;if(null===e)return new Date(NaN);if(A.u(e))return new Date;if(e instanceof Date)return new Date(e);if("string"==typeof e&&!/Z$/i.test(e)){var n=e.match(p);if(n){var i=n[2]-1||0,o=(n[7]||"0").substring(0,3);return r?new Date(Date.UTC(n[1],i,n[3]||1,n[4]||0,n[5]||0,n[6]||0,o)):new Date(n[1],i,n[3]||1,n[4]||0,n[5]||0,n[6]||0,o)}}return new Date(e)}(t),this.init()},g.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},g.$utils=function(){return A},g.isValid=function(){return!(this.$d.toString()===h)},g.isSame=function(t,e){var r=_(t);return this.startOf(e)<=r&&r<=this.endOf(e)},g.isAfter=function(t,e){return _(t)<this.startOf(e)},g.isBefore=function(t,e){return this.endOf(e)<_(t)},g.$g=function(t,e,r){return A.u(t)?this[e]:this.set(r,t)},g.unix=function(){return Math.floor(this.valueOf()/1e3)},g.valueOf=function(){return this.$d.getTime()},g.startOf=function(t,e){var r=this,u=!!A.u(e)||e,h=A.p(t),p=function(t,e){var n=A.w(r.$u?Date.UTC(r.$y,e,t):new Date(r.$y,e,t),r);return u?n:n.endOf(a)},d=function(t,e){return A.w(r.toDate()[t].apply(r.toDate("s"),(u?[0,0,0,0]:[23,59,59,999]).slice(e)),r)},y=this.$W,g=this.$M,v=this.$D,m="set"+(this.$u?"UTC":"");switch(h){case l:return u?p(1,0):p(31,11);case c:return u?p(1,g):p(0,g+1);case s:var b=this.$locale().weekStart||0,w=(y<b?y+7:y)-b;return p(u?v-w:v+(6-w),g);case a:case f:return d(m+"Hours",0);case o:return d(m+"Minutes",1);case i:return d(m+"Seconds",2);case n:return d(m+"Milliseconds",3);default:return this.clone()}},g.endOf=function(t){return this.startOf(t,!1)},g.$set=function(t,e){var s,u=A.p(t),h="set"+(this.$u?"UTC":""),p=(s={},s[a]=h+"Date",s[f]=h+"Date",s[c]=h+"Month",s[l]=h+"FullYear",s[o]=h+"Hours",s[i]=h+"Minutes",s[n]=h+"Seconds",s[r]=h+"Milliseconds",s)[u],d=u===a?this.$D+(e-this.$W):e;if(u===c||u===l){var y=this.clone().set(f,1);y.$d[p](d),y.init(),this.$d=y.set(f,Math.min(this.$D,y.daysInMonth())).$d}else p&&this.$d[p](d);return this.init(),this},g.set=function(t,e){return this.clone().$set(t,e)},g.get=function(t){return this[A.p(t)]()},g.add=function(r,u){var f,h=this;r=Number(r);var p=A.p(u),d=function(t){var e=_(h);return A.w(e.date(e.date()+Math.round(t*r)),h)};if(p===c)return this.set(c,this.$M+r);if(p===l)return this.set(l,this.$y+r);if(p===a)return d(1);if(p===s)return d(7);var y=(f={},f[i]=t,f[o]=e,f[n]=1e3,f)[p]||1,g=this.$d.getTime()+r*y;return A.w(g,this)},g.subtract=function(t,e){return this.add(-1*t,e)},g.format=function(t){var e=this,r=this.$locale();if(!this.isValid())return r.invalidDate||h;var n=t||"YYYY-MM-DDTHH:mm:ssZ",i=A.z(this),o=this.$H,a=this.$m,s=this.$M,c=r.weekdays,u=r.months,l=r.meridiem,f=function(t,r,i,o){return t&&(t[r]||t(e,n))||i[r].slice(0,o)},p=function(t){return A.s(o%12||12,t,"0")},y=l||function(t,e,r){var n=t<12?"AM":"PM";return r?n.toLowerCase():n};return n.replace(d,(function(t,n){return n||function(t){switch(t){case"YY":return String(e.$y).slice(-2);case"YYYY":return A.s(e.$y,4,"0");case"M":return s+1;case"MM":return A.s(s+1,2,"0");case"MMM":return f(r.monthsShort,s,u,3);case"MMMM":return f(u,s);case"D":return e.$D;case"DD":return A.s(e.$D,2,"0");case"d":return String(e.$W);case"dd":return f(r.weekdaysMin,e.$W,c,2);case"ddd":return f(r.weekdaysShort,e.$W,c,3);case"dddd":return c[e.$W];case"H":return String(o);case"HH":return A.s(o,2,"0");case"h":return p(1);case"hh":return p(2);case"a":return y(o,a,!0);case"A":return y(o,a,!1);case"m":return String(a);case"mm":return A.s(a,2,"0");case"s":return String(e.$s);case"ss":return A.s(e.$s,2,"0");case"SSS":return A.s(e.$ms,3,"0");case"Z":return i}return null}(t)||i.replace(":","")}))},g.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},g.diff=function(r,f,h){var p,d=this,y=A.p(f),g=_(r),v=(g.utcOffset()-this.utcOffset())*t,m=this-g,b=function(){return A.m(d,g)};switch(y){case l:p=b()/12;break;case c:p=b();break;case u:p=b()/3;break;case s:p=(m-v)/6048e5;break;case a:p=(m-v)/864e5;break;case o:p=m/e;break;case i:p=m/t;break;case n:p=m/1e3;break;default:p=m}return h?p:A.a(p)},g.daysInMonth=function(){return this.endOf(c).$D},g.$locale=function(){return b[this.$L]},g.locale=function(t,e){if(!t)return this.$L;var r=this.clone(),n=T(t,e,!0);return n&&(r.$L=n),r},g.clone=function(){return A.w(this.$d,this)},g.toDate=function(){return new Date(this.valueOf())},g.toJSON=function(){return this.isValid()?this.toISOString():null},g.toISOString=function(){return this.$d.toISOString()},g.toString=function(){return this.$d.toUTCString()},y}(),C=P.prototype;return _.prototype=C,[["$ms",r],["$s",n],["$m",i],["$H",o],["$W",a],["$M",c],["$y",l],["$D",f]].forEach((function(t){C[t[1]]=function(e){return this.$g(e,t[0],t[1])}})),_.extend=function(t,e){return t.$i||(t(e,P,_),t.$i=!0),_},_.locale=T,_.isDayjs=S,_.unix=function(t){return _(1e3*t)},_.en=b[m],_.Ls=b,_.p={},_},"object"==_typeof(r)&&void 0!==e?e.exports=i():(n="undefined"!=typeof globalThis?globalThis:n||self).dayjs=i()},{}],29:[function(t,e,r){var n,i;n=this,i=function(){return function(t,e){var r=e.prototype,n=r.format;r.format=function(t){var e=this,r=this.$locale();if(!this.isValid())return n.bind(this)(t);var i=this.$utils(),o=(t||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,(function(t){switch(t){case"Q":return Math.ceil((e.$M+1)/3);case"Do":return r.ordinal(e.$D);case"gggg":return e.weekYear();case"GGGG":return e.isoWeekYear();case"wo":return r.ordinal(e.week(),"W");case"w":case"ww":return i.s(e.week(),"w"===t?1:2,"0");case"W":case"WW":return i.s(e.isoWeek(),"W"===t?1:2,"0");case"k":case"kk":return i.s(String(0===e.$H?24:e.$H),"k"===t?1:2,"0");case"X":return Math.floor(e.$d.getTime()/1e3);case"x":return e.$d.getTime();case"z":return"["+e.offsetName()+"]";case"zzz":return"["+e.offsetName("long")+"]";default:return t}}));return n.bind(this)(o)}}},"object"==_typeof(r)&&void 0!==e?e.exports=i():(n="undefined"!=typeof globalThis?globalThis:n||self).dayjs_plugin_advancedFormat=i()},{}],30:[function(t,e,r){var n,i;n=this,i=function(){var t="day";return function(e,r,n){var i=function(e){return e.add(4-e.isoWeekday(),t)},o=r.prototype;o.isoWeekYear=function(){return i(this).year()},o.isoWeek=function(e){if(!this.$utils().u(e))return this.add(7*(e-this.isoWeek()),t);var r,o,a,s=i(this),c=(r=this.isoWeekYear(),a=4-(o=(this.$u?n.utc:n)().year(r).startOf("year")).isoWeekday(),o.isoWeekday()>4&&(a+=7),o.add(a,t));return s.diff(c,"week")+1},o.isoWeekday=function(t){return this.$utils().u(t)?this.day()||7:this.day(this.day()%7?t:t-7)};var a=o.startOf;o.startOf=function(t,e){var r=this.$utils(),n=!!r.u(e)||e;return"isoweek"===r.p(t)?n?this.date(this.date()-(this.isoWeekday()-1)).startOf("day"):this.date(this.date()-1-(this.isoWeekday()-1)+7).endOf("day"):a.bind(this)(t,e)}}},"object"==_typeof(r)&&void 0!==e?e.exports=i():(n="undefined"!=typeof globalThis?globalThis:n||self).dayjs_plugin_isoWeek=i()},{}],31:[function(t,e,r){var n,i;n=this,i=function(){return function(t,e,r){t=t||{};var n=e.prototype,i={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function o(t,e,r,i){return n.fromToBase(t,e,r,i)}r.en.relativeTime=i,n.fromToBase=function(e,n,o,a,s){for(var c,u,l,f=o.$locale().relativeTime||i,h=t.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],p=h.length,d=0;d<p;d+=1){var y=h[d];y.d&&(c=a?r(e).diff(o,y.d,!0):o.diff(e,y.d,!0));var g=(t.rounding||Math.round)(Math.abs(c));if(l=c>0,g<=y.r||!y.r){g<=1&&d>0&&(y=h[d-1]);var v=f[y.l];s&&(g=s(""+g)),u="string"==typeof v?v.replace("%d",g):v(g,n,y.l,l);break}}if(n)return u;var m=l?f.future:f.past;return"function"==typeof m?m(u):m.replace("%s",u)},n.to=function(t,e){return o(t,e,this,!0)},n.from=function(t,e){return o(t,e,this)};var a=function(t){return t.$u?r.utc():r()};n.toNow=function(t){return this.to(a(this),t)},n.fromNow=function(t){return this.from(a(this),t)}}},"object"==_typeof(r)&&void 0!==e?e.exports=i():(n="undefined"!=typeof globalThis?globalThis:n||self).dayjs_plugin_relativeTime=i()},{}],32:[function(t,e,r){var n,i;n=this,i=function(){var t={year:0,month:1,day:2,hour:3,minute:4,second:5},e={};return function(r,n,i){var o,a=function(t,r,n){void 0===n&&(n={});var i=new Date(t),o=function(t,r){void 0===r&&(r={});var n=r.timeZoneName||"short",i=t+"|"+n,o=e[i];return o||(o=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:t,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZoneName:n}),e[i]=o),o}(r,n);return o.formatToParts(i)},s=function(e,r){for(var n=a(e,r),o=[],s=0;s<n.length;s+=1){var c=n[s],u=c.type,l=c.value,f=t[u];f>=0&&(o[f]=parseInt(l,10))}var h=o[3],p=24===h?0:h,d=o[0]+"-"+o[1]+"-"+o[2]+" "+p+":"+o[4]+":"+o[5]+":000",y=+e;return(i.utc(d).valueOf()-(y-=y%1e3))/6e4},c=n.prototype;c.tz=function(t,e){void 0===t&&(t=o);var r=this.utcOffset(),n=this.toDate(),a=n.toLocaleString("en-US",{timeZone:t}),s=Math.round((n-new Date(a))/1e3/60),c=i(a,{locale:this.$L}).$set("millisecond",this.$ms).utcOffset(15*-Math.round(n.getTimezoneOffset()/15)-s,!0);if(e){var u=c.utcOffset();c=c.add(r-u,"minute")}return c.$x.$timezone=t,c},c.offsetName=function(t){var e=this.$x.$timezone||i.tz.guess(),r=a(this.valueOf(),e,{timeZoneName:t}).find((function(t){return"timezonename"===t.type.toLowerCase()}));return r&&r.value};var u=c.startOf;c.startOf=function(t,e){if(!this.$x||!this.$x.$timezone)return u.call(this,t,e);var r=i(this.format("YYYY-MM-DD HH:mm:ss:SSS"),{locale:this.$L});return u.call(r,t,e).tz(this.$x.$timezone,!0)},i.tz=function(t,e,r){var n=r&&e,a=r||e||o,c=s(+i(),a);if("string"!=typeof t)return i(t).tz(a);var u=function(t,e,r){var n=t-60*e*1e3,i=s(n,r);if(e===i)return[n,e];var o=s(n-=60*(i-e)*1e3,r);return i===o?[n,i]:[t-60*Math.min(i,o)*1e3,Math.max(i,o)]}(i.utc(t,n).valueOf(),c,a),l=u[0],f=u[1],h=i(l).utcOffset(f);return h.$x.$timezone=a,h},i.tz.guess=function(){return Intl.DateTimeFormat().resolvedOptions().timeZone},i.tz.setDefault=function(t){o=t}}},"object"==_typeof(r)&&void 0!==e?e.exports=i():(n="undefined"!=typeof globalThis?globalThis:n||self).dayjs_plugin_timezone=i()},{}],33:[function(t,e,r){var n,i;n=this,i=function(){var t="minute",e=/[+-]\d\d(?::?\d\d)?/g,r=/([+-]|\d\d)/g;return function(n,i,o){var a=i.prototype;o.utc=function(t){return new i({date:t,utc:!0,args:arguments})},a.utc=function(e){var r=o(this.toDate(),{locale:this.$L,utc:!0});return e?r.add(this.utcOffset(),t):r},a.local=function(){return o(this.toDate(),{locale:this.$L,utc:!1})};var s=a.parse;a.parse=function(t){t.utc&&(this.$u=!0),this.$utils().u(t.$offset)||(this.$offset=t.$offset),s.call(this,t)};var c=a.init;a.init=function(){if(this.$u){var t=this.$d;this.$y=t.getUTCFullYear(),this.$M=t.getUTCMonth(),this.$D=t.getUTCDate(),this.$W=t.getUTCDay(),this.$H=t.getUTCHours(),this.$m=t.getUTCMinutes(),this.$s=t.getUTCSeconds(),this.$ms=t.getUTCMilliseconds()}else c.call(this)};var u=a.utcOffset;a.utcOffset=function(n,i){var o=this.$utils().u;if(o(n))return this.$u?0:o(this.$offset)?u.call(this):this.$offset;if("string"==typeof n&&(n=function(t){void 0===t&&(t="");var n=t.match(e);if(!n)return null;var i=(""+n[0]).match(r)||["-",0,0],o=i[0],a=60*+i[1]+ +i[2];return 0===a?0:"+"===o?a:-a}(n),null===n))return this;var a=Math.abs(n)<=16?60*n:n,s=this;if(i)return s.$offset=a,s.$u=0===n,s;if(0!==n){var c=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(s=this.local().add(a+c,t)).$offset=a,s.$x.$localOffset=c}else s=this.utc();return s};var l=a.format;a.format=function(t){var e=t||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return l.call(this,e)},a.valueOf=function(){var t=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*t},a.isUTC=function(){return!!this.$u},a.toISOString=function(){return this.toDate().toISOString()},a.toString=function(){return this.toDate().toUTCString()};var f=a.toDate;a.toDate=function(t){return"s"===t&&this.$offset?o(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():f.call(this)};var h=a.diff;a.diff=function(t,e,r){if(t&&this.$u===t.$u)return h.call(this,t,e,r);var n=this.local(),i=o(t).local();return h.call(n,i,e,r)}}},"object"==_typeof(r)&&void 0!==e?e.exports=i():(n="undefined"!=typeof globalThis?globalThis:n||self).dayjs_plugin_utc=i()},{}],34:[function(t,e,r){var n,i;n=this,i=function(){var t="week",e="year";return function(r,n,i){var o=n.prototype;o.week=function(r){if(void 0===r&&(r=null),null!==r)return this.add(7*(r-this.week()),"day");var n=this.$locale().yearStart||1;if(11===this.month()&&this.date()>25){var o=i(this).startOf(e).add(1,e).date(n),a=i(this).endOf(t);if(o.isBefore(a))return 1}var s=i(this).startOf(e).date(n).startOf(t).subtract(1,"millisecond"),c=this.diff(s,t,!0);return c<0?i(this).startOf("week").week():Math.ceil(c)},o.weeks=function(t){return void 0===t&&(t=null),this.week(t)}}},"object"==_typeof(r)&&void 0!==e?e.exports=i():(n="undefined"!=typeof globalThis?globalThis:n||self).dayjs_plugin_weekOfYear=i()},{}],35:[function(t,e,r){var n;n=this,"object"==_typeof(r)&&void 0!==e?e.exports=function(t,e){e.prototype.weekday=function(t){var e=this.$locale().weekStart||0,r=this.$W,n=(r<e?r+7:r)-e;return this.$utils().u(t)?n:this.subtract(n,"day").add(t,"day")}}:(n="undefined"!=typeof globalThis?globalThis:n||self).dayjs_plugin_weekday=function(t,e){e.prototype.weekday=function(t){var e=this.$locale().weekStart||0,r=this.$W,n=(r<e?r+7:r)-e;return this.$utils().u(t)?n:this.subtract(n,"day").add(t,"day")}}},{}],36:[function(t,e,r){var n=t("has-property-descriptors")(),i=t("get-intrinsic"),o=n&&i("%Object.defineProperty%",!0);if(o)try{o({},"a",{value:1})}catch(t){o=!1}var a=i("%SyntaxError%"),s=i("%TypeError%"),c=t("gopd");e.exports=function(t,e,r){if(!t||"object"!==_typeof(t)&&"function"!=typeof t)throw new s("`obj` must be an object or a function`");if("string"!=typeof e&&"symbol"!==_typeof(e))throw new s("`property` must be a string or a symbol`");if(arguments.length>3&&"boolean"!=typeof arguments[3]&&null!==arguments[3])throw new s("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&"boolean"!=typeof arguments[4]&&null!==arguments[4])throw new s("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&"boolean"!=typeof arguments[5]&&null!==arguments[5])throw new s("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&"boolean"!=typeof arguments[6])throw new s("`loose`, if provided, must be a boolean");var n=arguments.length>3?arguments[3]:null,i=arguments.length>4?arguments[4]:null,u=arguments.length>5?arguments[5]:null,l=arguments.length>6&&arguments[6],f=!!c&&c(t,e);if(o)o(t,e,{configurable:null===u&&f?f.configurable:!u,enumerable:null===n&&f?f.enumerable:!n,value:r,writable:null===i&&f?f.writable:!i});else{if(!l&&(n||i||u))throw new a("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.");t[e]=r}}},{"get-intrinsic":69,gopd:70,"has-property-descriptors":71}],37:[function(t,e,r){var n,i="object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))?Reflect:null,o=i&&"function"==typeof i.apply?i.apply:function(t,e,r){return Function.prototype.apply.call(t,e,r)};n=i&&"function"==typeof i.ownKeys?i.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var a=Number.isNaN||function(t){return t!=t};function s(){s.init.call(this)}e.exports=s,e.exports.once=function(t,e){return new Promise((function(r,n){function i(r){t.removeListener(e,o),n(r)}function o(){"function"==typeof t.removeListener&&t.removeListener("error",i),r([].slice.call(arguments))}v(t,e,o,{once:!0}),"error"!==e&&function(t,e,r){"function"==typeof t.on&&v(t,"error",e,r)}(t,i,{once:!0})}))},s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var c=10;function u(t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+_typeof(t))}function l(t){return void 0===t._maxListeners?s.defaultMaxListeners:t._maxListeners}function f(t,e,r,n){var i,o,a,s;if(u(r),void 0===(o=t._events)?(o=t._events=Object.create(null),t._eventsCount=0):(void 0!==o.newListener&&(t.emit("newListener",e,r.listener?r.listener:r),o=t._events),a=o[e]),void 0===a)a=o[e]=r,++t._eventsCount;else if("function"==typeof a?a=o[e]=n?[r,a]:[a,r]:n?a.unshift(r):a.push(r),(i=l(t))>0&&a.length>i&&!a.warned){a.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=t,c.type=e,c.count=a.length,s=c,console&&console.warn&&console.warn(s)}return t}function h(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function p(t,e,r){var n={fired:!1,wrapFn:void 0,target:t,type:e,listener:r},i=h.bind(n);return i.listener=r,n.wrapFn=i,i}function d(t,e,r){var n=t._events;if(void 0===n)return[];var i=n[e];return void 0===i?[]:"function"==typeof i?r?[i.listener||i]:[i]:r?function(t){for(var e=new Array(t.length),r=0;r<e.length;++r)e[r]=t[r].listener||t[r];return e}(i):g(i,i.length)}function y(t){var e=this._events;if(void 0!==e){var r=e[t];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function g(t,e){for(var r=new Array(e),n=0;n<e;++n)r[n]=t[n];return r}function v(t,e,r,n){if("function"==typeof t.on)n.once?t.once(e,r):t.on(e,r);else{if("function"!=typeof t.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+_typeof(t));t.addEventListener(e,(function i(o){n.once&&t.removeEventListener(e,i),r(o)}))}}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return c},set:function(t){if("number"!=typeof t||t<0||a(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");c=t}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||a(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},s.prototype.getMaxListeners=function(){return l(this)},s.prototype.emit=function(t){for(var e=[],r=1;r<arguments.length;r++)e.push(arguments[r]);var n="error"===t,i=this._events;if(void 0!==i)n=n&&void 0===i.error;else if(!n)return!1;if(n){var a;if(e.length>0&&(a=e[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var c=i[t];if(void 0===c)return!1;if("function"==typeof c)o(c,this,e);else{var u=c.length,l=g(c,u);for(r=0;r<u;++r)o(l[r],this,e)}return!0},s.prototype.addListener=function(t,e){return f(this,t,e,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(t,e){return f(this,t,e,!0)},s.prototype.once=function(t,e){return u(e),this.on(t,p(this,t,e)),this},s.prototype.prependOnceListener=function(t,e){return u(e),this.prependListener(t,p(this,t,e)),this},s.prototype.removeListener=function(t,e){var r,n,i,o,a;if(u(e),void 0===(n=this._events))return this;if(void 0===(r=n[t]))return this;if(r===e||r.listener===e)0==--this._eventsCount?this._events=Object.create(null):(delete n[t],n.removeListener&&this.emit("removeListener",t,r.listener||e));else if("function"!=typeof r){for(i=-1,o=r.length-1;o>=0;o--)if(r[o]===e||r[o].listener===e){a=r[o].listener,i=o;break}if(i<0)return this;0===i?r.shift():function(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}(r,i),1===r.length&&(n[t]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",t,a||e)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(t){var e,r,n;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[t]),this;if(0===arguments.length){var i,o=Object.keys(r);for(n=0;n<o.length;++n)"removeListener"!==(i=o[n])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(e=r[t]))this.removeListener(t,e);else if(void 0!==e)for(n=e.length-1;n>=0;n--)this.removeListener(t,e[n]);return this},s.prototype.listeners=function(t){return d(this,t,!0)},s.prototype.rawListeners=function(t){return d(this,t,!1)},s.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):y.call(t,e)},s.prototype.listenerCount=y,s.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]}},{}],38:[function(t,e,r){var n=function(t){_inherits(r,t);var e=_createSuper(r);function r(t,n){var i;return _classCallCheck2(this,r),(i=e.call(this,t,n))._Settings="object"==_typeof(t)?t:{},i.serviceType="Logging-Provider",i.loggerUUID=i.generateInsecureUUID(),i.levels=["trace","debug","info","warn","error","fatal"],i}return _createClass2(r,[{key:"generateInsecureUUID",value:function(){var t=(new Date).getTime();return"LOGSTREAM-xxxxxx-yxxxxx".replace(/[xy]/g,(function(e){var r=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"==e?r:3&r|8).toString(16)}))}},{key:"initialize",value:function(){}},{key:"trace",value:function(t,e){this.write("trace",t,e)}},{key:"debug",value:function(t,e){this.write("debug",t,e)}},{key:"info",value:function(t,e){this.write("info",t,e)}},{key:"warn",value:function(t,e){this.write("warn",t,e)}},{key:"error",value:function(t,e){this.write("error",t,e)}},{key:"fatal",value:function(t,e){this.write("fatal",t,e)}},{key:"write",value:function(t,e,r){return!0}}]),r}(t("fable-serviceproviderbase").CoreServiceProviderBase);e.exports=n},{"fable-serviceproviderbase":44}],39:[function(t,e,r){var n;e.exports=((n={}).console=t("./Fable-Log-Logger-Console.js"),n.default=n.console,n)},{"./Fable-Log-Logger-Console.js":41}],40:[function(t,e,r){e.exports=[{loggertype:"console",streamtype:"console",level:"trace"}]},{}],41:[function(t,e,r){var n=function(t){_inherits(r,t);var e=_createSuper(r);function r(t,n){var i;_classCallCheck2(this,r),(i=e.call(this,t))._ShowTimeStamps=!i._Settings.hasOwnProperty("showtimestamps")||1==i._Settings.showtimestamps,i._FormattedTimeStamps=!i._Settings.hasOwnProperty("formattedtimestamps")||1==i._Settings.formattedtimestamps,i._ContextMessage=i._Settings.hasOwnProperty("Context")?"(".concat(i._Settings.Context,")"):n._Settings.hasOwnProperty("Product")?"(".concat(n._Settings.Product,")"):"Unnamed_Log_Context",i._OutputLogLinesToConsole=!i._Settings.hasOwnProperty("outputloglinestoconsole")||i._Settings.outputloglinestoconsole,i._OutputObjectsToConsole=!i._Settings.hasOwnProperty("outputobjectstoconsole")||i._Settings.outputobjectstoconsole,i.prefixCache={};for(var o=0;o<=i.levels.length;o++)i.prefixCache[i.levels[o]]="[".concat(i.levels[o],"] ").concat(i._ContextMessage,": "),i._ShowTimeStamps&&(i.prefixCache[i.levels[o]]=" "+i.prefixCache[i.levels[o]]);return i}return _createClass2(r,[{key:"write",value:function(t,e,r){var n="";this._ShowTimeStamps&&this._FormattedTimeStamps?n=(new Date).toISOString():this._ShowTimeStamps&&(n=+new Date);var i="".concat(n).concat(this.prefixCache[t]).concat(e);return this._OutputLogLinesToConsole&&console.log(i),this._OutputObjectsToConsole&&void 0!==r&&console.log(JSON.stringify(r,null,2)),i}}]),r}(t("./Fable-Log-BaseLogger.js"));e.exports=n},{"./Fable-Log-BaseLogger.js":38}],42:[function(t,e,r){var n=t("./Fable-Log-Logger-Console.js"),i=t("fs"),o=t("path"),a=function(t){_inherits(r,t);var e=_createSuper(r);function r(t,n){var a;return _classCallCheck2(this,r),(a=e.call(this,t,n)).logFileRawPath=a._Settings.hasOwnProperty("path")?a._Settings.path:"./".concat(a._ContextMessage,".log"),a.logFilePath=o.normalize(a.logFileRawPath),a.logFileStreamOptions=a._Settings.hasOwnProperty("fileStreamoptions")?a._Settings.fileStreamOptions:{flags:"a",encoding:"utf8"},a.fileWriter=i.createWriteStream(a.logFilePath,a.logFileStreamOptions),a.activelyWriting=!1,a.logLineStrings=[],a.logObjectStrings=[],a.defaultWriteCompleteCallback=function(){},a.defaultBufferFlushCallback=function(){},a}return _createClass2(r,[{key:"closeWriter",value:function(t){var e="function"==typeof t?t:function(){};if(this.fileWriter)return this.fileWriter.end("\n"),this.fileWriter.once("finish",e.bind(this))}},{key:"completeBufferFlushToLogFile",value:function(t){this.activelyWriting=!1;var e="function"==typeof t?t:this.defaultBufferFlushCallback;if(!(this.logLineStrings.length>0))return e();this.flushBufferToLogFile(e)}},{key:"flushBufferToLogFile",value:function(t){if(!this.activelyWriting){this.activelyWriting=!0;var e="function"==typeof t?t:this.defaultBufferFlushCallback,r=this.logLineStrings,n=this.logObjectStrings;this.logLineStrings=[],this.logObjectStrings=[];for(var i="",o=0;o<r.length;o++)i+="".concat(r[o],"\n"),!1!==n[o]&&(i+="".concat(n[o],"\n"));if(this.fileWriter.write(i,"utf8"))return this.completeBufferFlushToLogFile(e);this.fileWriter.once("drain",this.completeBufferFlushToLogFile.bind(this,e))}}},{key:"write",value:function(t,e,n){var i=_get(_getPrototypeOf(r.prototype),"write",this).call(this,t,e,n);this.logLineStrings.push(i),void 0!==n?this.logObjectStrings.push(JSON.stringify(n,null,4)):this.logObjectStrings.push(!1),this.flushBufferToLogFile()}}]),r}(n);e.exports=a},{"./Fable-Log-Logger-Console.js":41,fs:19,path:92}],43:[function(t,e,r){var n=function(e){_inherits(n,e);var r=_createSuper(n);function n(e,i){var o;_classCallCheck2(this,n),(o=r.call(this,e,i)).serviceType="Logging";var a="object"===_typeof(e)?e:{};return o._Settings=a,o._Providers=t("./Fable-Log-DefaultProviders-Node.js"),o._StreamDefinitions=a.hasOwnProperty("LogStreams")?a.LogStreams:t("./Fable-Log-DefaultStreams.json"),o.logStreams=[],o.logProviders={},o.activeLogStreams={},o.logStreamsTrace=[],o.logStreamsDebug=[],o.logStreamsInfo=[],o.logStreamsWarn=[],o.logStreamsError=[],o.logStreamsFatal=[],o.datumDecorator=function(t){return t},o.uuid="string"==typeof a.Product?a.Product:"Default",o}return _createClass2(n,[{key:"addLogger",value:function(t,e){if(this.activeLogStreams.hasOwnProperty(t.loggerUUID))return!1;switch(this.logStreams.push(t),this.activeLogStreams[t.loggerUUID]=!0,e){case"trace":this.logStreamsTrace.push(t);case"debug":this.logStreamsDebug.push(t);case"info":this.logStreamsInfo.push(t);case"warn":this.logStreamsWarn.push(t);case"error":this.logStreamsError.push(t);case"fatal":this.logStreamsFatal.push(t)}return!0}},{key:"setDatumDecorator",value:function(t){this.datumDecorator="function"==typeof t?t:function(t){return t}}},{key:"trace",value:function(t,e){for(var r=this.datumDecorator(e),n=0;n<this.logStreamsTrace.length;n++)this.logStreamsTrace[n].trace(t,r)}},{key:"debug",value:function(t,e){for(var r=this.datumDecorator(e),n=0;n<this.logStreamsDebug.length;n++)this.logStreamsDebug[n].debug(t,r)}},{key:"info",value:function(t,e){for(var r=this.datumDecorator(e),n=0;n<this.logStreamsInfo.length;n++)this.logStreamsInfo[n].info(t,r)}},{key:"warn",value:function(t,e){for(var r=this.datumDecorator(e),n=0;n<this.logStreamsWarn.length;n++)this.logStreamsWarn[n].warn(t,r)}},{key:"error",value:function(t,e){for(var r=this.datumDecorator(e),n=0;n<this.logStreamsError.length;n++)this.logStreamsError[n].error(t,r)}},{key:"fatal",value:function(t,e){for(var r=this.datumDecorator(e),n=0;n<this.logStreamsFatal.length;n++)this.logStreamsFatal[n].fatal(t,r)}},{key:"initialize",value:function(){for(var t=0;t<this._StreamDefinitions.length;t++){var e=Object.assign({loggertype:"default",streamtype:"console",level:"info"},this._StreamDefinitions[t]);this._Providers.hasOwnProperty(e.loggertype)?this.addLogger(new this._Providers[e.loggertype](e,this),e.level):console.log("Error initializing log stream: bad loggertype in stream definition ".concat(JSON.stringify(e)))}for(var r=0;r<this.logStreams.length;r++)this.logStreams[r].initialize()}},{key:"logTime",value:function(t,e){var r=void 0!==t?t:"Time",n=new Date;this.info("".concat(r," ").concat(n," (epoch ").concat(+n,")"),e)}},{key:"getTimeStamp",value:function(){return+new Date}},{key:"getTimeDelta",value:function(t){return+new Date-t}},{key:"logTimeDelta",value:function(t,e,r){var n=void 0!==e?e:"Time Measurement",i=(_typeof(r),+new Date);this.info("".concat(n," logged at (epoch ").concat(+i,") took (").concat(t,"ms)"),r)}},{key:"logTimeDeltaHuman",value:function(t,e,r){var n=void 0!==e?e:"Time Measurement",i=+new Date,o=parseInt(t%1e3),a=parseInt(t/1e3%60),s=parseInt(t/6e4%60),c=parseInt(t/36e5);o=o<10?"00"+o:o<100?"0"+o:o,a=a<10?"0"+a:a,s=s<10?"0"+s:s,c=c<10?"0"+c:c,this.info("".concat(n," logged at (epoch ").concat(+i,") took (").concat(t,"ms) or (").concat(c,":").concat(s,":").concat(a,".").concat(o,")"),r)}},{key:"logTimeDeltaRelative",value:function(t,e,r){this.logTimeDelta(this.getTimeDelta(t),e,r)}},{key:"logTimeDeltaRelativeHuman",value:function(t,e,r){this.logTimeDeltaHuman(this.getTimeDelta(t),e,r)}}]),n}(t("fable-serviceproviderbase").CoreServiceProviderBase);e.exports=n,e.exports.LogProviderBase=t("./Fable-Log-BaseLogger.js"),e.exports.LogProviderConsole=t("./Fable-Log-Logger-Console.js"),e.exports.LogProviderFlatfile=t("./Fable-Log-Logger-SimpleFlatFile.js")},{"./Fable-Log-BaseLogger.js":38,"./Fable-Log-DefaultProviders-Node.js":39,"./Fable-Log-DefaultStreams.json":40,"./Fable-Log-Logger-Console.js":41,"./Fable-Log-Logger-SimpleFlatFile.js":42,"fable-serviceproviderbase":44}],44:[function(t,e,r){var n=function(){function t(e,r,n){_classCallCheck2(this,t),"object"===_typeof(e)&&e.isFable?this.connectFable(e):this.fable=!1,this.fable?(this.UUID=e.getUUID(),this.options="object"===_typeof(r)?r:{}):(this.options="object"!==_typeof(e)||e.isFable?"object"===_typeof(r)?r:{}:e,this.UUID="CORE-SVC-".concat(Math.floor(89999*Math.random()+1e4))),this.serviceType="Unknown-".concat(this.UUID),this.Hash="string"==typeof n?n:this.fable||"string"!=typeof r?"".concat(this.UUID):r}return _createClass2(t,[{key:"connectFable",value:function(t){if("object"!==_typeof(t)||!t.isFable){var e="Fable Service Provider Base: Cannot connect to Fable, invalid Fable object passed in.  The pFable parameter was a [".concat(_typeof(t),"].}");return console.log(e),new Error(e)}return this.fable||(this.fable=t),this.log||(this.log=this.fable.Logging),this.services||(this.services=this.fable.services),this.servicesMap||(this.servicesMap=this.fable.servicesMap),!0}}]),t}();_defineProperty2(n,"isFableService",!0),e.exports=n,e.exports.CoreServiceProviderBase=n},{}],45:[function(t,e,r){e.exports={Product:"ApplicationNameHere",ProductVersion:"0.0.0",ConfigFile:!1,LogStreams:[{level:"trace"}]}},{}],46:[function(t,e,r){(function(r){(function(){var n=t("precedent"),i=function(){function t(e){_classCallCheck2(this,t),this.templateProcessor=new n,this.templateProcessor.addPattern("${","}",(function(t){var e=t.trim(),n=e.indexOf("|"),i=n>=0?e.substring(n+1):"",o=n>-1?e.substring(0,n):e;return r.env.hasOwnProperty(o)?r.env[o]:i}))}return _createClass2(t,[{key:"parseSetting",value:function(t){return this.templateProcessor.parseString(t)}}]),t}();e.exports=i}).call(this)}).call(this,t("_process"))},{_process:98,precedent:95}],47:[function(t,e,r){var n=t("fable-serviceproviderbase").CoreServiceProviderBase,i=t("./Fable-Settings-TemplateProcessor.js"),o=function(e){_inherits(n,e);var r=_createSuper(n);function n(e,o){var a;_classCallCheck2(this,n),(a=r.call(this,e,o)).serviceType="SettingsManager",a.settingsTemplateProcessor=new i,a._configureEnvTemplating(e),a.default=a.buildDefaultSettings();var s=a.merge(e,a.buildDefaultSettings());if(a.base=JSON.parse(JSON.stringify(s)),s.DefaultConfigFile)try{s=a.merge(t(s.DefaultConfigFile),s)}catch(t){console.log("Fable-Settings Warning: Default configuration file specified but there was a problem loading it.  Falling back to base."),console.log("     Loading Exception: "+t)}if(s.ConfigFile)try{s=a.merge(t(s.ConfigFile),s)}catch(t){console.log("Fable-Settings Warning: Configuration file specified but there was a problem loading it.  Falling back to base."),console.log("     Loading Exception: "+t)}return a.settings=s,a}return _createClass2(n,[{key:"buildDefaultSettings",value:function(){return JSON.parse(JSON.stringify(t("./Fable-Settings-Default")))}},{key:"_configureEnvTemplating",value:function(t){this._PerformEnvTemplating=!t||!0!==t.NoEnvReplacement}},{key:"_resolveEnv",value:function(t){for(var e in t)"object"===_typeof(t[e])?this._resolveEnv(t[e]):"string"==typeof t[e]&&(t[e]=this.settingsTemplateProcessor.parseSetting(t[e]))}},{key:"_isObject",value:function(t){return"object"===_typeof(t)&&!Array.isArray(t)}},{key:"_deepMergeObjects",value:function(t,e){var r=this;if(e&&this._isObject(e))return Object.keys(e).forEach((function(n){var i=e[n];if(r._isObject(i)){var o=t[n];if(o&&r._isObject(o))return void r._deepMergeObjects(o,i)}t[n]=i})),t}},{key:"merge",value:function(t,e){var r="object"===_typeof(t)?t:{},n="object"===_typeof(e)?e:this.settings,i=JSON.parse(JSON.stringify(r));return n=this._deepMergeObjects(n,i),this._PerformEnvTemplating&&this._resolveEnv(n),this._configureEnvTemplating(n),n}},{key:"fill",value:function(t){var e="object"===_typeof(t)?t:{},r=JSON.parse(JSON.stringify(e));return this.settings=this._deepMergeObjects(r,this.settings),this.settings}}]),n}(n);e.exports=o,e.exports.new=function(t){return new o(t)}},{"./Fable-Settings-Default":45,"./Fable-Settings-TemplateProcessor.js":46,"fable-serviceproviderbase":44}],48:[function(t,e,r){var n=function(){function t(){_classCallCheck2(this,t),this.getRandomValues="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)}return _createClass2(t,[{key:"generateWhatWGBytes",value:function(){var t=new Uint8Array(16);return this.getRandomValues(t),t}},{key:"generateRandomBytes",value:function(){for(var t,e=new Uint8Array(16),r=0;r<16;r++)0==(3&r)&&(t=4294967296*Math.random()),e[r]=t>>>((3&r)<<3)&255;return e}},{key:"generate",value:function(){return this.getRandomValues?this.generateWhatWGBytes():this.generateRandomBytes()}}]),t}();e.exports=n},{}],49:[function(t,e,r){var n=t("fable-serviceproviderbase").CoreServiceProviderBase,i=t("./Fable-UUID-Random.js"),o=function(t){_inherits(r,t);var e=_createSuper(r);function r(t,n){var o;_classCallCheck2(this,r),(o=e.call(this,t,n)).serviceType="UUID",o._UUIDModeRandom=!("object"!==_typeof(t)||!t.hasOwnProperty("UUIDModeRandom"))&&1==t.UUIDModeRandom,o._UUIDLength="object"===_typeof(t)&&t.hasOwnProperty("UUIDLength")?t.UUIDLength+0:8,o._UUIDRandomDictionary="object"===_typeof(t)&&t.hasOwnProperty("UUIDDictionary")?t.UUIDDictionary+0:"0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",o.randomByteGenerator=new i,o._HexLookup=[];for(var a=0;a<256;++a)o._HexLookup[a]=(a+256).toString(16).substr(1);return o}return _createClass2(r,[{key:"bytesToUUID",value:function(t){var e=0;return[this._HexLookup[t[e++]],this._HexLookup[t[e++]],this._HexLookup[t[e++]],this._HexLookup[t[e++]],"-",this._HexLookup[t[e++]],this._HexLookup[t[e++]],"-",this._HexLookup[t[e++]],this._HexLookup[t[e++]],"-",this._HexLookup[t[e++]],this._HexLookup[t[e++]],"-",this._HexLookup[t[e++]],this._HexLookup[t[e++]],this._HexLookup[t[e++]],this._HexLookup[t[e++]],this._HexLookup[t[e++]],this._HexLookup[t[e++]]].join("")}},{key:"generateUUIDv4",value:function(){new Array(16);var t=this.randomByteGenerator.generate();return t[6]=15&t[6]|64,t[8]=63&t[8]|128,this.bytesToUUID(t)}},{key:"generateRandom",value:function(){for(var t="",e=0;e<this._UUIDLength;e++)t+=this._UUIDRandomDictionary.charAt(Math.floor(Math.random()*(this._UUIDRandomDictionary.length-1)));return t}},{key:"getUUID",value:function(){return this._UUIDModeRandom?this.generateRandom():this.generateUUIDv4()}}]),r}(n);e.exports=o,e.exports.new=function(t){return new o(t)}},{"./Fable-UUID-Random.js":48,"fable-serviceproviderbase":44}],50:[function(t,e,r){var n=t("fable-settings"),i=t("fable-uuid"),o=t("fable-log"),a=t("fable-serviceproviderbase"),s=function(e){_inherits(s,e);var r=_createSuper(s);function s(e){var a;return _classCallCheck2(this,s),(a=r.call(this,e)).serviceType="ServiceManager",a.serviceTypes=[],a.servicesMap={},a.services={},a.serviceClasses={},a.extraServiceInitialization=!1,a.LogNoisiness=0,a.SettingsManager=new n(e),a.SettingsManager=a.SettingsManager,a.UUID=new i(a.SettingsManager.settings),a.Logging=new o(a.SettingsManager.settings),a.Logging.initialize(),a.ServiceManager=_assertThisInitialized(a),a.serviceManager=_assertThisInitialized(a),a.connectFable(_assertThisInitialized(a)),a.connectPreinitServiceProviderInstance(a.UUID),a.connectPreinitServiceProviderInstance(a.Logging),a.connectPreinitServiceProviderInstance(a.SettingsManager),a.addAndInstantiateServiceType("EnvironmentData",t("./services/Fable-Service-EnvironmentData.js")),a.addServiceType("Template",t("./services/Fable-Service-Template.js")),a.addServiceType("MetaTemplate",t("./services/Fable-Service-MetaTemplate.js")),a.addServiceType("Anticipate",t("./services/Fable-Service-Anticipate.js")),a.addAndInstantiateServiceType("Dates",t("./services/Fable-Service-DateManipulation.js")),a.addAndInstantiateServiceType("DataFormat",t("./services/Fable-Service-DataFormat.js")),a.addAndInstantiateServiceType("DataGeneration",t("./services/Fable-Service-DataGeneration.js")),a.addAndInstantiateServiceType("Utility",t("./services/Fable-Service-Utility.js")),a.addServiceType("Operation",t("./services/Fable-Service-Operation.js")),a.addServiceType("RestClient",t("./services/Fable-Service-RestClient.js")),a.addServiceType("CSVParser",t("./services/Fable-Service-CSVParser.js")),a.addServiceType("Manifest",t("manyfest")),a.addServiceType("ObjectCache",t("cachetrax")),a.addServiceType("FilePersistence",t("./services/Fable-Service-FilePersistence.js")),a}return _createClass2(s,[{key:"isFable",get:function(){return!0}},{key:"settings",get:function(){return this.SettingsManager.settings}},{key:"settingsManager",get:function(){return this.SettingsManager}},{key:"getUUID",value:function(){return this.UUID.getUUID()}},{key:"newAnticipate",value:function(){return this.instantiateServiceProviderWithoutRegistration("Anticipate")}},{key:"addServiceType",value:function(t,e){this.servicesMap.hasOwnProperty(t)?this.log.warn("Adding a service type [".concat(t,"] that already exists.")):(this.servicesMap[t]={},this.serviceTypes.push(t)),"function"==typeof e&&e.isFableService?this.serviceClasses[t]=e:(this.log.error("Attempted to add service type [".concat(t,"] with an invalid class.  Using base service class, which will not crash but won't provide meaningful services.")),this.serviceClasses[t]=a)}},{key:"addAndInstantiateServiceType",value:function(t,e){return this.addServiceType(t,e),this.instantiateServiceProvider(t,{},"".concat(t,"-Default"))}},{key:"instantiateServiceProviderFromPrototype",value:function(t,e,r,n){var i=new n(this,e,r);return this.extraServiceInitialization&&(i=this.extraServiceInitialization(i)),this.servicesMap[t][i.Hash]=i,this.services.hasOwnProperty(t)||this.setDefaultServiceInstantiation(t,i.Hash),i}},{key:"instantiateServiceProvider",value:function(t,e,r){var n=this.instantiateServiceProviderWithoutRegistration(t,e,r);return this.servicesMap[t][n.Hash]=n,this.services.hasOwnProperty(t)||this.setDefaultServiceInstantiation(t,n.Hash),n}},{key:"instantiateServiceProviderWithoutRegistration",value:function(t,e,r){var n=new this.serviceClasses[t](this,e,r);return this.extraServiceInitialization&&(n=this.extraServiceInitialization(n)),n}},{key:"connectPreinitServiceProviderInstance",value:function(t){var e=t.serviceType,r=t.Hash;return t.connectFable(this),this.servicesMap.hasOwnProperty(e)||(this.servicesMap[e]={}),this.servicesMap[e][r]=t,this.services.hasOwnProperty(e)||this.setDefaultServiceInstantiation(e,r,!1),t}},{key:"setDefaultServiceInstantiation",value:function(t,e,r){var n=void 0===r||r;return!!this.servicesMap[t].hasOwnProperty(e)&&(this.hasOwnProperty(t)&&!n||(this[t]=this.servicesMap[t][e]),this.services.hasOwnProperty(t)&&!n||(this.services[t]=this.servicesMap[t][e]),!0)}}]),s}(a.CoreServiceProviderBase);e.exports=s,e.exports.new=function(t){return new s(t)},e.exports.LogProviderBase=o.LogProviderBase,e.exports.ServiceProviderBase=a,e.exports.CoreServiceProviderBase=a.CoreServiceProviderBase,e.exports.precedent=n.precedent},{"./services/Fable-Service-Anticipate.js":51,"./services/Fable-Service-CSVParser.js":52,"./services/Fable-Service-DataFormat.js":53,"./services/Fable-Service-DataGeneration.js":55,"./services/Fable-Service-DateManipulation.js":56,"./services/Fable-Service-EnvironmentData.js":57,"./services/Fable-Service-FilePersistence.js":58,"./services/Fable-Service-MetaTemplate.js":59,"./services/Fable-Service-Operation.js":63,"./services/Fable-Service-RestClient.js":64,"./services/Fable-Service-Template.js":65,"./services/Fable-Service-Utility.js":66,cachetrax:22,"fable-log":43,"fable-serviceproviderbase":44,"fable-settings":47,"fable-uuid":49,manyfest:89}],51:[function(t,e,r){var n=function(t){_inherits(r,t);var e=_createSuper(r);function r(t,n,i){var o;return _classCallCheck2(this,r),(o=e.call(this,t,n,i)).serviceType="AsyncAnticipate",o.operationQueue=[],o.erroredOperations=[],o.executingOperationCount=0,o.completedOperationCount=0,o.callDepth=0,o.maxOperations=1,o.lastError=void 0,o.waitingFunctions=[],o}return _createClass2(r,[{key:"checkQueue",value:function(){if(this.operationQueue.length>0&&this.executingOperationCount<this.maxOperations){var t=this.operationQueue.shift();this.executingOperationCount+=1,t(this.buildAnticipatorCallback())}else if(this.waitingFunctions.length>0&&this.executingOperationCount<1){for(var e=0;e<this.waitingFunctions.length;e++)this.waitingFunctions[e](this.lastError);this.lastError=void 0,this.waitingFunctions=[]}}},{key:"anticipate",value:function(t){this.operationQueue.push(t),this.checkQueue()}},{key:"buildAnticipatorCallback",value:function(){var t={Called:!1,Error:void 0,OperationSet:this};return function(e){if(t.Called)throw new Error("Anticipation async callback called twice...");t.Called=!0,t.error=e,t.OperationSet.executingOperationCount-=1,t.OperationSet.completedOperationCount+=1,t.OperationSet.callDepth++,t.OperationSet.callDepth>400?(t.OperationSet.callDepth=0,setTimeout(t.OperationSet.checkQueue.bind(this),0)):t.OperationSet.checkQueue()}.bind(this)}},{key:"wait",value:function(t){this.waitingFunctions.push(t),this.checkQueue()}}]),r}(t("fable-serviceproviderbase"));e.exports=n},{"fable-serviceproviderbase":44}],52:[function(t,e,r){var n=function(t){_inherits(r,t);var e=_createSuper(r);function r(t,n,i){var o;return _classCallCheck2(this,r),(o=e.call(this,t,n,i)).serviceType="CSVParser",o.Header=[],o.HeaderFieldNames=[],o.Delimiter=",",o.QuoteCharacter='"',o.CleanCharacters=["\r"],o.HeaderLineIndex=0,o.HasHeader=!0,o.HasSetHeader=!1,o.EmitHeader=!1,o.EmitJSON=!0,o.EscapedQuoteString="&quot;",o.CurrentLine="",o.CurrentRecord=[],o.InQuote=!1,o.InEscapedQuote=!1,o.LinesParsed=0,o.RowsEmitted=0,o}return _createClass2(r,[{key:"marshalRowToJSON",value:function(t){if(!Array.isArray(t))return!1;for(var e=this.HeaderFieldNames.length;e<t.length;e++)this.HeaderFieldNames[e]="".concat(e);for(var r={},n=0;n<t.length;n++)r[this.HeaderFieldNames[n]]=t[n];return r}},{key:"setHeader",value:function(t){this.Header=t;for(var e=0;e<this.Header.length;e++)void 0===this.Header[e]?this.HeaderFieldNames[e]="".concat(e):this.HeaderFieldNames[e]=this.Header[e].toString().trim()}},{key:"resetRowState",value:function(){this.CurrentRecord=[]}},{key:"pushLine",value:function(){for(var t=0;t<this.CleanCharacters.length;t++)this.CurrentLine=this.CurrentLine.replace(this.CleanCharacters[t],"");this.CurrentRecord.push(this.CurrentLine),this.CurrentLine=""}},{key:"emitRow",value:function(t){var e=void 0===t?this.EmitJSON:t;this.RowsEmitted++;var r=this.CurrentRecord;return this.CurrentRecord=[],e?this.marshalRowToJSON(r):r}},{key:"parseCSVLine",value:function(t){this.LinesParsed++;for(var e=0;e<t.length;e++)this.InQuote||t[e]!=this.Delimiter?t[e]==this.QuoteCharacter?this.InEscapedQuote?this.InEscapedQuote=!1:this.InQuote?e<t.length&&t[e+1]==this.QuoteCharacter?(this.CurrentLine+=this.EscapedQuoteString,this.InEscapedQuote=!0):this.InQuote=!1:this.InQuote=!0:this.CurrentLine+=t[e]:this.pushLine();return!this.InQuote&&(this.pushLine(),this.HasHeader&&!this.HasSetHeader&&this.RowsEmitted==this.HeaderLineIndex?(this.HasSetHeader=!0,this.setHeader(this.emitRow(!1)),!!this.EmitHeader&&this.Header):this.emitRow())}}]),r}(t("fable-serviceproviderbase"));e.exports=n},{"fable-serviceproviderbase":44}],53:[function(t,e,r){var n=function(t){_inherits(r,t);var e=_createSuper(r);function r(t,n,i){var o;return _classCallCheck2(this,r),_defineProperty2(_assertThisInitialized(o=e.call(this,t,n,i)),"stringPadStart",(function(t,e,r){var n=t.toString();return this.stringGeneratePaddingString(n,e,r)+n})),_defineProperty2(_assertThisInitialized(o),"stringPadEnd",(function(t,e,r){var n=t.toString();return n+this.stringGeneratePaddingString(n,e,r)})),o.serviceType="DataArithmatic",o._Regex_formatterInsertCommas=/.{1,3}/g,o._Regex_formatterAddCommasToNumber=/^([-+]?)(0?)(\d+)(.?)(\d+)$/g,o._Regex_formatterDollarsRemoveCommas=/,/gi,o._Regex_formatterCleanNonAlphaChar=/[^a-zA-Z]/gi,o._Regex_formatterCapitalizeEachWord=/([a-zA-Z]+)/g,o._Value_MoneySign_Currency="$",o._Value_NaN_Currency="--",o._Value_GroupSeparator_Number=",",o._Value_Prefix_StringHash="HSH",o._Value_Clean_formatterCleanNonAlpha="",o._UseEngineStringStartsWith="function"==typeof String.prototype.startsWith,o._UseEngineStringEndsWith="function"==typeof String.prototype.endsWith,o}return _createClass2(r,[{key:"stringReverse",value:function(t){return t.split("").reverse().join("")}},{key:"stringStartsWith",value:function(t,e,r){return this._UseEngineStringStartsWith?t.startsWith(e,r):this.stringStartsWith_Polyfill.call(t,e,r)}},{key:"stringStartsWith_Polyfill",value:function(t,e){return this.slice(e||0,t.length)===t}},{key:"stringEndsWith",value:function(t,e,r){return this._UseEngineStringEndsWith?t.endsWith(e,r):this.stringEndsWith_Polyfill.call(t,e,r)}},{key:"stringEndsWith_Polyfill",value:function(t,e){return e<this.length?e|=0:e=this.length,this.substr(e-t.length,t.length)===t}},{key:"insecureStringHash",value:function(t){for(var e=0,r=t.length,n=0;n<r;)e=(e<<5)-e+t.charCodeAt(n++)|0;return"".concat(this._Value_Prefix_StringHash).concat(e)}},{key:"capitalizeEachWord",value:function(t){return t.replace(this._Regex_formatterCapitalizeEachWord,(function(t){return t.charAt(0).toUpperCase()+t.substr(1)}))}},{key:"cleanEnclosureWrapCharacters",value:function(t,e){return e.startsWith(t)&&e.endsWith(t)?e.substring(1,e.length-1):e}},{key:"cleanNonAlphaCharacters",value:function(t){return"string"==typeof t&&""!=t?t.replace(this._Regex_formatterCleanNonAlphaChar,this._Value_Clean_formatterCleanNonAlpha):""}},{key:"formatterInsertCommas",value:function(t){var e=this.stringReverse(t).match(this._Regex_formatterInsertCommas).join(",");return this.stringReverse(e)}},{key:"processAddCommasToNumberRegex",value:function(t,e,r,n,i,o){return e+(i?this.formatterInsertCommas(n)+i+o:this.formatterInsertCommas(n+o))}},{key:"formatterAddCommasToNumber",value:function(t){return t.toString().replace(this._Regex_formatterAddCommasToNumber,this.processAddCommasToNumberRegex.bind(this))}},{key:"formatterDollars",value:function(t){if(isNaN(t))return this._Value_NaN_Currency;if(null==t)return this._Value_NaN_Currency;var e=this.fable.Utility.bigNumber(t).toFixed(2);return isNaN(e)&&("string"==typeof t&&(e=parseFloat(t.replace(this._Value_MoneySign_Currency,"").replace(this._Regex_formatterDollarsRemoveCommas,"")).toFixed(2)),isNaN(e))?this._Value_NaN_Currency:"$".concat(this.formatterAddCommasToNumber(e))}},{key:"formatterRoundNumber",value:function(t,e){var r=void 0===e?2:e;if(isNaN(t)){return(0).toFixed(r)}if(null==t)return"";var n=this.fable.Utility.bigNumber(t).toFixed(r);if(isNaN(n)){return(0).toFixed(r)}return n}},{key:"stringGeneratePaddingString",value:function(t,e,r){var n=e>>0,i=String(void 0!==r?r:" ");if(t.length>e)return"";var o=e-t.length;return o>i.length&&(i+=i.repeat(n/i.length)),i.slice(0,o)}},{key:"formatTimeSpan",value:function(t){if("number"!=typeof t)return"";var e=parseInt(t%1e3),r=parseInt(t/1e3%60),n=parseInt(t/6e4%60),i=parseInt(t/36e5);return"".concat(this.stringPadStart(i,2,"0"),":").concat(this.stringPadStart(n,2,"0"),":").concat(this.stringPadStart(r,2,"0"),".").concat(this.stringPadStart(e,3,"0"))}},{key:"formatTimeDelta",value:function(t,e){return"number"!=typeof t||"number"!=typeof e?"":this.formatTimeSpan(e-t)}},{key:"getMonthFromDate",value:function(t){return["January","February","March","April","May","June","July","August","September","October","November","December"][t.getMonth()]}},{key:"getMonthAbbreviatedFromDate",value:function(t){return["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][t.getMonth()]}},{key:"formatMonthDayYearFromDate",value:function(t,e){var r=void 0!==e&&e,n=t.getMonth()+1,i=t.getDate(),o=t.getFullYear();return r&&(n=this.stringPadStart(n,2,"0"),i=this.stringPadStart(i,2,"0"),o=this.stringPadStart(o,4,"0")),"".concat(n,"/").concat(i,"/").concat(o)}},{key:"formatSortableStringFromDate",value:function(t){return t.getFullYear()+this.stringPadStart(t.getMonth(),2,"0")+this.stringPadStart(t.getDate(),2,"0")}},{key:"stringBeforeMatch",value:function(t,e){return t.split(e)[0]}},{key:"stringAfterMatch",value:function(t,e){var r=t.indexOf(e);return r<0||r+e.length>=t.length?"":t.substring(r+e.length)}},{key:"stringCountEnclosures",value:function(t,e,r){for(var n="string"==typeof t?t:"",i="string"==typeof e?e:"(",o="string"==typeof r?r:")",a=0,s=0,c=0;c<n.length;c++)n[c]==i?(0==s&&a++,s++):n[c]==o&&s--;return a}},{key:"stringGetEnclosureValueByIndex",value:function(t,e,r,n){for(var i="string"==typeof t?t:"",o="number"==typeof e?e:0,a="string"==typeof r?r:"(",s="string"==typeof n?n:")",c=0,u=0,l=!1,f=0,h=0,p=0;p<i.length;p++)i[p]==a?1==++u&&o==++c-1&&(l=!0,f=p):i[p]==s&&0==--u&&l&&h<=f&&(h=p,l=!1);return c<=o?"":h>0&&h>f?i.substring(f+1,h):i.substring(f+1)}},{key:"stringRemoveEnclosureByIndex",value:function(t,e,r,n){for(var i="string"==typeof t?t:"",o="number"==typeof e?e:0,a="string"==typeof r?r:"(",s="string"==typeof n?n:")",c=0,u=0,l=!1,f=0,h=0,p=0;p<i.length;p++)i[p]==a?1==++u&&o==++c-1&&(l=!0,f=p):i[p]==s&&0==--u&&l&&h<=f&&(h=p,l=!1);if(c<=o)return i;var d="";return f>1&&(d=i.substring(0,f)),i.length>h+1&&h>f&&(d+=i.substring(h+1)),d}}]),r}(t("fable-serviceproviderbase"));e.exports=n},{"fable-serviceproviderbase":44}],54:[function(t,e,r){e.exports={DefaultIntegerMinimum:0,DefaultIntegerMaximum:9999999,DefaultNumericStringLength:10,MonthSet:["January","February","March","April","May","June","July","August","September","October","November","December"],WeekDaySet:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],ColorSet:["Red","Orange","Yellow","Green","Blue","Indigo","Violet","Pink","Purple","Turquoise","Gold","Lime","Maroon","Navy","Coral","Teal","Brown","White","Black","Sky","Berry","Grey","Straw","Silver","Sapphire"],SurNameSet:["Smith","Johnson","Williams","Brown","Jones","Miller","Davis","Garcia","Rodriguez","Wilson","Martinez","Anderson","Taylor","Thomas","Hernandez","Moore","Martin","Jackson","Thompson","White","Lopez","Lee","Gonzalez","Harris","Clark","Lewis","Robinson","Walker","Perez","Hall","Young","Allen","Sanchez","Wright","King","Scott","Green","Baker","Adams","Nelson","Hill","Ramirez","Campbell","Mitchell","Roberts","Carter","Phillips","Evans","Turner","Torres","Parker","Collins","Edwards","Stewart","Flores","Morris","Nguyen","Murphy","Rivera","Cook","Rogers","Morgan","Peterson","Cooper","Reed","Bailey","Bell","Gomez","Kelly","Howard","Ward","Cox","Diaz","Richardson","Wood","Watson","Brooks","Bennett","Gray","James","Reyes","Cruz","Hughes","Price","Myers","Long","Foster","Sanders","Ross","Morales","Powell","Sullivan","Russell","Ortiz","Jenkins","Gutierrez","Perry","Butler","Barnes","Fisher"],NameSet:["Mary","Patricia","Jennifer","Linda","Elizabeth","Barbara","Susan","Jessica","Sarah","Karen","Lisa","Nancy","Betty","Sandra","Margaret","Ashley","Kimberly","Emily","Donna","Michelle","Carol","Amanda","Melissa","Deborah","Stephanie","Dorothy","Rebecca","Sharon","Laura","Cynthia","Amy","Kathleen","Angela","Shirley","Brenda","Emma","Anna","Pamela","Nicole","Samantha","Katherine","Christine","Helen","Debra","Rachel","Carolyn","Janet","Maria","Catherine","Heather","Diane","Olivia","Julie","Joyce","Victoria","Ruth","Virginia","Lauren","Kelly","Christina","Joan","Evelyn","Judith","Andrea","Hannah","Megan","Cheryl","Jacqueline","Martha","Madison","Teresa","Gloria","Sara","Janice","Ann","Kathryn","Abigail","Sophia","Frances","Jean","Alice","Judy","Isabella","Julia","Grace","Amber","Denise","Danielle","Marilyn","Beverly","Charlotte","Natalie","Theresa","Diana","Brittany","Doris","Kayla","Alexis","Lori","Marie","James","Robert","John","Michael","David","William","Richard","Joseph","Thomas","Christopher","Charles","Daniel","Matthew","Anthony","Mark","Donald","Steven","Andrew","Paul","Joshua","Kenneth","Kevin","Brian","George","Timothy","Ronald","Jason","Edward","Jeffrey","Ryan","Jacob","Gary","Nicholas","Eric","Jonathan","Stephen","Larry","Justin","Scott","Brandon","Benjamin","Samuel","Gregory","Alexander","Patrick","Frank","Raymond","Jack","Dennis","Jerry","Tyler","Aaron","Jose","Adam","Nathan","Henry","Zachary","Douglas","Peter","Kyle","Noah","Ethan","Jeremy","Walter","Christian","Keith","Roger","Terry","Austin","Sean","Gerald","Carl","Harold","Dylan","Arthur","Lawrence","Jordan","Jesse","Bryan","Billy","Bruce","Gabriel","Joe","Logan","Alan","Juan","Albert","Willie","Elijah","Wayne","Randy","Vincent","Mason","Roy","Ralph","Bobby","Russell","Bradley","Philip","Eugene"]}},{}],55:[function(t,e,r){var n=function(e){_inherits(n,e);var r=_createSuper(n);function n(e,i,o){var a;return _classCallCheck2(this,n),(a=r.call(this,e,i,o)).serviceType="DataGeneration",a.defaultData=t("./Fable-Service-DataGeneration-DefaultValues.json"),a}return _createClass2(n,[{key:"randomIntegerBetween",value:function(t,e){return Math.floor(Math.random()*(e-t))+t}},{key:"randomIntegerUpTo",value:function(t){return this.randomIntegerBetween(0,t)}},{key:"randomInteger",value:function(){return Math.floor(Math.random()*this.defaultData.DefaultIntegerMaximum)}},{key:"randomNumericString",value:function(t,e){var r=void 0===t?10:t,n=void 0===e?Math.pow(10,r)-1:e;return this.services.DataFormat.stringPadStart(this.randomIntegerUpTo(n),t,"0")}},{key:"randomMonth",value:function(){return this.defaultData.MonthSet[this.randomIntegerUpTo(this.defaultData.MonthSet.length-1)]}},{key:"randomDayOfWeek",value:function(){return this.defaultData.WeekDaySet[this.randomIntegerUpTo(this.defaultData.WeekDaySet.length-1)]}},{key:"randomColor",value:function(){return this.defaultData.ColorSet[this.randomIntegerUpTo(this.defaultData.ColorSet.length-1)]}},{key:"randomName",value:function(){return this.defaultData.NameSet[this.randomIntegerUpTo(this.defaultData.NameSet.length-1)]}},{key:"randomSurname",value:function(){return this.defaultData.SurNameSet[this.randomIntegerUpTo(this.defaultData.SurNameSet.length-1)]}}]),n}(t("fable-serviceproviderbase"));e.exports=n},{"./Fable-Service-DataGeneration-DefaultValues.json":54,"fable-serviceproviderbase":44}],56:[function(t,e,r){var n=function(e){_inherits(n,e);var r=_createSuper(n);function n(e,i,o){var a;return _classCallCheck2(this,n),(a=r.call(this,e,i,o)).serviceType="Dates",a.dayJS=t("dayjs"),a.plugin_weekOfYear=t("dayjs/plugin/weekOfYear"),a.dayJS.extend(a.plugin_weekOfYear),a.plugin_weekday=t("dayjs/plugin/weekday"),a.dayJS.extend(a.plugin_weekday),a.plugin_isoWeek=t("dayjs/plugin/isoWeek"),a.dayJS.extend(a.plugin_isoWeek),a.plugin_timezone=t("dayjs/plugin/timezone"),a.dayJS.extend(a.plugin_timezone),a.plugin_relativetime=t("dayjs/plugin/relativeTime"),a.dayJS.extend(a.plugin_relativetime),a.plugin_utc=t("dayjs/plugin/utc"),a.dayJS.extend(a.plugin_utc),a.plugin_advancedFormat=t("dayjs/plugin/advancedFormat"),a.dayJS.extend(a.plugin_advancedFormat),a}return _createClass2(n)}(t("fable-serviceproviderbase"));e.exports=n},{dayjs:28,"dayjs/plugin/advancedFormat":29,"dayjs/plugin/isoWeek":30,"dayjs/plugin/relativeTime":31,"dayjs/plugin/timezone":32,"dayjs/plugin/utc":33,"dayjs/plugin/weekOfYear":34,"dayjs/plugin/weekday":35,"fable-serviceproviderbase":44}],57:[function(t,e,r){var n=function(t){_inherits(r,t);var e=_createSuper(r);function r(t,n,i){var o;return _classCallCheck2(this,r),(o=e.call(this,t,n,i)).serviceType="EnvironmentData",o.Environment="node.js",o}return _createClass2(r)}(t("fable-serviceproviderbase"));e.exports=n},{"fable-serviceproviderbase":44}],58:[function(t,e,r){(function(r){(function(){var n=t("fable-serviceproviderbase"),i=t("fs"),o=t("path"),a=t("readline"),s=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,s,c){var u;return _classCallCheck2(this,n),(u=e.call(this,t,s,c)).serviceType="FilePersistence",u.options.hasOwnProperty("Mode")||(u.options.Mode=parseInt("0777",8)&~r.umask()),u.libFS=i,u.libPath=o,u.libReadline=a,u}return _createClass2(n,[{key:"joinPath",value:function(){return o.resolve.apply(o,arguments)}},{key:"existsSync",value:function(t){return i.existsSync(t)}},{key:"exists",value:function(t,e){return e(null,this.existsSync(t))}},{key:"appendFileSync",value:function(t,e,r){var n=void 0===r?"utf8":r;return i.appendFileSync(t,e,n)}},{key:"deleteFileSync",value:function(t){return i.unlinkSync(t)}},{key:"deleteFolderSync",value:function(t){return i.rmdirSync(t)}},{key:"readFileSync",value:function(t,e){var r=void 0===e?"utf8":e;return i.readFileSync(t,r)}},{key:"readFile",value:function(t,e,r){var n=void 0===e?"utf8":e;return i.readFile(t,n,r)}},{key:"writeFileSync",value:function(t,e,r){var n=void 0===r?"utf8":r;return i.writeFileSync(t,e,n)}},{key:"writeFileSyncFromObject",value:function(t,e){return this.writeFileSync(t,JSON.stringify(e,null,4))}},{key:"writeFileSyncFromArray",value:function(t,e){if(!Array.isArray(e))return this.log.error("File Persistence Service attempted to write ".concat(t," from array but the expected array was not an array (it was a ").concat(_typeof(e),").")),Error("Attempted to write ${pFileName} from array but the expected array was not an array (it was a ${typeof(pFileArray)}).");for(var r=0;r<e.length;r++)return this.appendFileSync(t,"".concat(e[r],"\n"))}},{key:"writeFile",value:function(t,e,r,n){var o=void 0===r?"utf8":r;return i.writeFile(t,e,o,n)}},{key:"lineReaderFactory",value:function(t,e,r,n){var o={};return"string"==typeof t&&(o.filePath=t,o.fileStream=i.createReadStream(o.filePath),o.reader=a.createInterface({input:o.fileStream,crlfDelay:1/0}),"function"==typeof n&&o.reader.on("error",n),o.reader.on("line","function"==typeof e?e:function(){}),"function"==typeof r&&o.reader.on("close",r),o)}},{key:"makeFolderRecursive",value:function(t,e){var r=this,n=t;if("string"==typeof t)n={Path:t};else if("object"!==_typeof(t))return e(new Error("Parameters object or string not properly passed to recursive folder create.")),!1;return"string"!=typeof n.Path?(e(new Error("Parameters object needs a path to run the folder create operation.")),!1):(n.hasOwnProperty("Mode")||(n.Mode=this.options.Mode),void 0===n.CurrentPathIndex?(n.ActualPath=o.normalize(n.Path),n.ActualPathParts=n.ActualPath.split(o.sep),n.CurrentPathIndex=0,n.CurrentPath=""):(n.CurrentPath==o.sep?n.CurrentPath=n.CurrentPath+n.ActualPathParts[n.CurrentPathIndex]:n.CurrentPath=n.CurrentPath+o.sep+n.ActualPathParts[n.CurrentPathIndex],n.CurrentPathIndex++),n.CurrentPathIndex>=n.ActualPathParts.length?e(null):void i.open(n.CurrentPath+o.sep+n.ActualPathParts[n.CurrentPathIndex],"r",(function(t,a){if(a&&i.closeSync(a),!t||"ENOENT"!=t.code)return r.makeFolderRecursive(n,e);i.mkdir(n.CurrentPath+o.sep+n.ActualPathParts[n.CurrentPathIndex],n.Mode,(function(t){return t?"EEXIST"==t.code?r.makeFolderRecursive(n,e):(console.log(t.code),e(t)):r.makeFolderRecursive(n,e)}))})))}}]),n}(n);e.exports=s}).call(this)}).call(this,t("_process"))},{_process:98,"fable-serviceproviderbase":44,fs:19,path:92,readline:19}],59:[function(t,e,r){var n=t("fable-serviceproviderbase"),i=t("./Fable-Service-MetaTemplate/MetaTemplate-WordTree.js"),o=t("./Fable-Service-MetaTemplate/MetaTemplate-StringParser.js"),a=function(t){_inherits(r,t);var e=_createSuper(r);function r(t,n,a){var s;return _classCallCheck2(this,r),(s=e.call(this,t,n,a)).serviceType="MetaTemplate",s.WordTree=new i,s.StringParser=new o(s.fable),s.ParseTree=s.WordTree.ParseTree,s}return _createClass2(r,[{key:"addPattern",value:function(t,e,r){return this.WordTree.addPattern(t,e,r)}},{key:"addPatternAsync",value:function(t,e,r){return this.WordTree.addPatternAsync(t,e,r)}},{key:"addPatternBoth",value:function(t,e,r,n){return this.WordTree.addPatternBoth(t,e,r,n)}},{key:"parseString",value:function(t,e,r){return this.LogNoisiness>4&&this.fable.log.trace("Metatemplate parsing template string [".concat(t,"] where the callback is a ").concat(_typeof(r)),{TemplateData:e}),this.StringParser.parseString(t,this.ParseTree,e,r)}}]),r}(n);e.exports=a},{"./Fable-Service-MetaTemplate/MetaTemplate-StringParser.js":60,"./Fable-Service-MetaTemplate/MetaTemplate-WordTree.js":61,"fable-serviceproviderbase":44}],60:[function(t,e,r){var n=function(){function t(e){_classCallCheck2(this,t),this.fable=e}return _createClass2(t,[{key:"newParserState",value:function(t){return{ParseTree:t,Asynchronous:!1,Output:"",OutputBuffer:"",Pattern:{},PatternMatch:!1,PatternMatchEnd:!1}}},{key:"appendOutputBuffer",value:function(t,e){e.OutputBuffer+=t}},{key:"flushOutputBuffer",value:function(t){t.Output+=t.OutputBuffer,t.OutputBuffer=""}},{key:"resetOutputBuffer",value:function(t){return this.flushOutputBuffer(t),t.Pattern=!1,t.PatternStartNode=!1,t.StartPatternMatchComplete=!1,t.EndPatternMatchBegan=!1,t.PatternMatch=!1,!0}},{key:"parseCharacter",value:function(t,e,r){if(e.PatternMatch)if(!e.StartPatternMatchComplete&&e.Pattern.hasOwnProperty(t))e.Pattern=e.Pattern[t],this.appendOutputBuffer(t,e);else if(e.EndPatternMatchBegan){if(e.Pattern.PatternEnd.hasOwnProperty(t))return e.Pattern=e.Pattern.PatternEnd[t],this.appendOutputBuffer(t,e),!e.Pattern.hasOwnProperty("Parse")||e.Pattern.isAsync&&!e.Pattern.isBoth?(console.log("MetaTemplate: The pattern ".concat(e.Pattern.PatternStartString," is asynchronous and cannot be used in a synchronous parser.")),this.resetOutputBuffer(e)):(e.OutputBuffer=e.Pattern.Parse(e.OutputBuffer.substr(e.Pattern.PatternStartString.length,e.OutputBuffer.length-(e.Pattern.PatternStartString.length+e.Pattern.PatternEndString.length)),r),this.resetOutputBuffer(e));e.PatternStartNode.PatternEnd.hasOwnProperty(t)?(e.Pattern=e.PatternStartNode.PatternEnd[t],this.appendOutputBuffer(t,e)):(e.EndPatternMatchBegan=!1,this.appendOutputBuffer(t,e))}else if(e.Pattern.hasOwnProperty("PatternEnd")){if(e.StartPatternMatchComplete||(e.StartPatternMatchComplete=!0,e.PatternStartNode=e.Pattern),this.appendOutputBuffer(t,e),e.Pattern.PatternEnd.hasOwnProperty(t)&&(e.EndPatternMatchBegan=!0,e.Pattern=e.Pattern.PatternEnd[t],e.Pattern.hasOwnProperty("Parse"))){if(!e.Pattern.isAsync||e.Pattern.isBoth)return e.OutputBuffer=e.Pattern.Parse(e.OutputBuffer.substr(e.Pattern.PatternStartString.length,e.OutputBuffer.length-(e.Pattern.PatternStartString.length+e.Pattern.PatternEndString.length)),r),this.resetOutputBuffer(e);console.log("MetaTemplate: The pattern ".concat(e.Pattern.PatternStartString," is asynchronous and cannot be used in a synchronous parser.")),this.resetOutputBuffer(e)}}else this.resetOutputBuffer(e);if(!e.PatternMatch){if(e.ParseTree.hasOwnProperty(t))return this.resetOutputBuffer(e),this.appendOutputBuffer(t,e),e.Pattern=e.ParseTree[t],e.PatternMatch=!0,!0;this.appendOutputBuffer(t,e)}return!1}},{key:"executePatternAsync",value:function(t,e,r){var n=this;return t.Pattern.isAsync&&!t.Pattern.isBoth?t.Pattern.Parse(t.OutputBuffer.substr(t.Pattern.PatternStartString.length,t.OutputBuffer.length-(t.Pattern.PatternStartString.length+t.Pattern.PatternEndString.length)),e,(function(e,i){return e&&console.log("Precedent ERROR: Async template error happened parsing ".concat(t.Pattern.PatternStart," ... ").concat(t.Pattern.PatternEnd,": ").concat(e)),t.OutputBuffer=i,n.resetOutputBuffer(t),r()})):t.Pattern.isAsync&&t.Pattern.isBoth?t.Pattern.ParseAsync(t.OutputBuffer.substr(t.Pattern.PatternStartString.length,t.OutputBuffer.length-(t.Pattern.PatternStartString.length+t.Pattern.PatternEndString.length)),e,(function(e,i){return e&&console.log("Precedent ERROR: Async template error happened parsing ".concat(t.Pattern.PatternStart," ... ").concat(t.Pattern.PatternEnd,": ").concat(e)),t.OutputBuffer=i,n.resetOutputBuffer(t),r()})):(t.OutputBuffer=t.Pattern.Parse(t.OutputBuffer.substr(t.Pattern.PatternStartString.length,t.OutputBuffer.length-(t.Pattern.PatternStartString.length+t.Pattern.PatternEndString.length)),e),this.resetOutputBuffer(t),r())}},{key:"parseCharacterAsync",value:function(t,e,r,n){if(e.PatternMatch)if(!e.StartPatternMatchComplete&&e.Pattern.hasOwnProperty(t))e.Pattern=e.Pattern[t],this.appendOutputBuffer(t,e);else if(e.EndPatternMatchBegan)if(e.Pattern.PatternEnd.hasOwnProperty(t)){if(e.Pattern=e.Pattern.PatternEnd[t],this.appendOutputBuffer(t,e),e.Pattern.hasOwnProperty("Parse"))return this.executePatternAsync(e,r,n)}else e.PatternStartNode.PatternEnd.hasOwnProperty(t)?(e.Pattern=e.PatternStartNode.PatternEnd[t],this.appendOutputBuffer(t,e)):(e.EndPatternMatchBegan=!1,this.appendOutputBuffer(t,e));else if(e.Pattern.hasOwnProperty("PatternEnd")){if(e.StartPatternMatchComplete||(e.StartPatternMatchComplete=!0,e.PatternStartNode=e.Pattern),this.appendOutputBuffer(t,e),e.Pattern.PatternEnd.hasOwnProperty(t)&&(e.EndPatternMatchBegan=!0,e.Pattern=e.Pattern.PatternEnd[t],e.Pattern.hasOwnProperty("Parse")))return this.executePatternAsync(e,r,n)}else this.resetOutputBuffer(e);else e.ParseTree.hasOwnProperty(t)?(this.resetOutputBuffer(e),this.appendOutputBuffer(t,e),e.Pattern=e.ParseTree[t],e.PatternMatch=!0):this.appendOutputBuffer(t,e);return n()}},{key:"parseString",value:function(t,e,r,n){var i=this;if("function"!=typeof n){for(var o=this.newParserState(e),a=0;a<t.length;a++)this.parseCharacter(t[a],o,r,n);return this.flushOutputBuffer(o),o.Output}var s=this.newParserState(e);s.Asynchronous=!0;for(var c=this.fable.instantiateServiceProviderWithoutRegistration("Anticipate"),u=function(e){c.anticipate((function(n){i.parseCharacterAsync(t[e],s,r,n)}))},l=0;l<t.length;l++)u(l);c.wait((function(t){return i.flushOutputBuffer(s),n(t,s.Output)}))}}]),t}();e.exports=n},{}],61:[function(t,e,r){var n=function(){function t(){_classCallCheck2(this,t),this.ParseTree={}}return _createClass2(t,[{key:"addChild",value:function(t,e){return t.hasOwnProperty(e)||(t[e]={}),t[e]}},{key:"addEndChild",value:function(t,e){return t.hasOwnProperty("PatternEnd")||(t.PatternEnd={}),t.PatternEnd[e]={},t.PatternEnd[e]}},{key:"addPattern",value:function(t,e,r){if(t.length<1)return!1;if("string"==typeof e&&e.length<1)return!1;for(var n=this.ParseTree,i=0;i<t.length;i++)n=this.addChild(n,t[i],i);n.hasOwnProperty("PatternEnd")||(n.PatternEnd={});for(var o="string"==typeof e?e:t,a=0;a<o.length;a++)n=this.addEndChild(n,o[a],a);return n.PatternStartString=t,n.PatternEndString=o,n.Parse="function"==typeof r?r:"string"==typeof r?function(){return r}:function(t){return t},n}},{key:"addPatternAsync",value:function(t,e,r){var n=this.addPattern(t,e,r);n&&(n.isAsync=!0)}},{key:"addPatternBoth",value:function(t,e,r,n){var i=this.addPattern(t,e,r);i&&(i.isAsync=!0,i.isBoth=!0,i.ParseAsync=n)}}]),t}();e.exports=n},{}],62:[function(t,e,r){e.exports={Metadata:{UUID:!1,Hash:!1,Name:"",Summary:"",Version:0},Status:{Completed:!1,CompletionProgress:0,CompletionTimeElapsed:0,TimeStart:0,TimeEnd:0},Steps:[],Errors:[],Log:[]}},{}],63:[function(t,e,r){var n=t("fable-serviceproviderbase"),i=JSON.stringify(t("./Fable-Service-Operation-DefaultSettings.js")),o=function(t){_inherits(r,t);var e=_createSuper(r);function r(t,n,o){var a;return _classCallCheck2(this,r),(a=e.call(this,t,n,o)).timeStamps={},a.progressTrackers={},a.serviceType="PhasedOperation",a.state=JSON.parse(i),a.stepMap={},a.stepFunctions={},a.state.Metadata.Hash=a.Hash,a.state.Metadata.UUID=a.UUID,a.state.Metadata.Name="string"==typeof a.options.Name?a.options.Name:"Unnamed Operation ".concat(a.state.Metadata.UUID),a.name=a.state.Metadata.Name,a.log=_assertThisInitialized(a),a}return _createClass2(r,[{key:"execute",value:function(t){var e=this;if(this.state.Status.TimeStart)return t(new Error("Operation [".concat(this.state.Metadata.UUID,"] ").concat(this.state.Metadata.Name," has already been executed!")));this.state.Status.TimeStart=+new Date;for(var r=this.fable.instantiateServiceProviderWithoutRegistration("Anticipate"),n=0;n<this.state.Steps;n++)r.anticipate(this.stepFunctions[this.state.Steps[n].GUIDStep].bind(this));r.wait((function(r){return e.state.Status.TimeEnd=+new Date,t()}))}},{key:"addStep",value:function(t,e,r,n,i){var o={};return o.GUIDStep=void 0!==t?t:"STEP-".concat(this.state.Steps.length,"-").concat(this.fable.DataGeneration.randomNumericString()),o.Name=void 0!==r?r:"Step [".concat(o.GUIDStep,"]"),o.Description=void 0!==n?n:"Step execution of ".concat(o.Name,"."),o.Metadata="object"===_typeof(i)?i:{},o.TimeStart=!1,o.TimeEnd=!1,this.state.Steps.push(o),this.stepMap[o.GUIDStep],this.stepFunctions[o.GUIDStep]=e,this.state.Status.StepCount++,o}},{key:"getStep",value:function(t){return!!this.stepMap.hasOwnProperty(t)&&this.stepMap[t]}},{key:"startStep",value:function(t){var e=this.getStep(t);return!1!==e&&(e.TimeStart=+new Date,e)}},{key:"stopStep",value:function(t){var e=this.getStep(t);return!1!==e&&(e.TimeEnd=+new Date,e)}},{key:"writeOperationLog",value:function(t,e,r){this.state.Log.push("[".concat((new Date).toUTCString(),"]-[").concat(t,"]: ").concat(e)),"object"==_typeof(r)&&this.state.Log.push(JSON.stringify(r))}},{key:"writeOperationErrors",value:function(t,e){this.state.Errors.push("".concat(t)),"object"==_typeof(e)&&this.state.Errors.push(JSON.stringify(e))}},{key:"trace",value:function(t,e){this.writeOperationLog("TRACE",t,e),this.fable.log.trace(t,e)}},{key:"debug",value:function(t,e){this.writeOperationLog("DEBUG",t,e),this.fable.log.debug(t,e)}},{key:"info",value:function(t,e){this.writeOperationLog("INFO",t,e),this.fable.log.info(t,e)}},{key:"warn",value:function(t,e){this.writeOperationLog("WARN",t,e),this.fable.log.warn(t,e)}},{key:"error",value:function(t,e){this.writeOperationLog("ERROR",t,e),this.writeOperationErrors(t,e),this.fable.log.error(t,e)}},{key:"fatal",value:function(t,e){this.writeOperationLog("FATAL",t,e),this.writeOperationErrors(t,e),this.fable.log.fatal(t,e)}},{key:"createTimeStamp",value:function(t){var e="string"==typeof t?t:"Default";return this.timeStamps[e]=+new Date,this.timeStamps[e]}},{key:"getTimeDelta",value:function(t){var e="string"==typeof t?t:"Default";return this.timeStamps.hasOwnProperty(e)?+new Date-this.timeStamps[e]:-1}},{key:"logTimeDelta",value:function(t,e){var r=void 0!==e?e:"Elapsed for ".concat("string"==typeof t?t:"Default",": "),n=this.getTimeDelta(t);return this.info(r+" ("+n+"ms)"),n}},{key:"createProgressTracker",value:function(t,e){var r="string"==typeof e?e:"DefaultProgressTracker",n="number"==typeof t?t:100,i={Hash:r,StartTime:this.createTimeStamp(r),EndTime:0,CurrentTime:0,PercentComplete:-1,AverageOperationTime:-1,EstimatedCompletionTime:-1,TotalCount:n,CurrentCount:-1};return this.progressTrackers[r]=i,i}},{key:"solveProgressTrackerStatus",value:function(t){var e="string"==typeof t?t:"DefaultProgressTracker";this.progressTrackers.hasOwnProperty(e)||this.createProgressTracker(100,e);var r=this.progressTrackers[e];r.CurrentTime=this.getTimeDelta(r.Hash),r.CurrentCount>0&&r.TotalCount>0&&(r.PercentComplete=r.CurrentCount/r.TotalCount*100),r.CurrentCount>0&&r.CurrentTime>0&&(r.AverageOperationTime=r.CurrentTime/r.CurrentCount),r.CurrentCount<r.TotalCount&&r.AverageOperationTime>0&&(r.EstimatedCompletionTime=(r.TotalCount-r.CurrentCount)*r.AverageOperationTime)}},{key:"updateProgressTrackerStatus",value:function(t,e){var r="string"==typeof t?t:"DefaultProgressTracker",n=parseInt(e);return!isNaN(n)&&(this.progressTrackers.hasOwnProperty(r)||this.createProgressTracker(100,r),this.progressTrackers[r].CurrentCount=n,this.progressTrackers[r].CurrentTime=this.getTimeDelta(r),this.solveProgressTrackerStatus(r),this.progressTrackers[r])}},{key:"incrementProgressTrackerStatus",value:function(t,e){var r="string"==typeof t?t:"DefaultProgressTracker",n=parseInt(e);return!isNaN(n)&&(this.progressTrackers.hasOwnProperty(r)||this.createProgressTracker(100,r),this.progressTrackers[r].CurrentCount=this.progressTrackers[r].CurrentCount+n,this.progressTrackers[r].CurrentTime=this.getTimeDelta(r),this.solveProgressTrackerStatus(r),this.progressTrackers[r])}},{key:"setProgressTrackerEndTime",value:function(t,e){var r="string"==typeof t?t:"DefaultProgressTracker",n=parseInt(e);return!!this.progressTrackers.hasOwnProperty(r)&&(isNaN(n)||this.updateProgressTrackerStatus(r,n),this.progressTrackers[r].EndTime=this.getTimeDelta(r),this.solveProgressTrackerStatus(r),this.progressTrackers[r])}},{key:"printProgressTrackerStatus",value:function(t){var e="string"==typeof t?t:"DefaultProgressTracker";if(this.progressTrackers.hasOwnProperty(e)){var r=this.progressTrackers[e];r.CurrentCount<1?this.info(">> Progress Tracker ".concat(r.Hash," has no completed operations.  ").concat(r.CurrentTime,"ms have elapsed since it was started.")):r.EndTime<1?this.info(">> Progress Tracker ".concat(r.Hash," is ").concat(r.PercentComplete.toFixed(3),"% completed - ").concat(r.CurrentCount," / ").concat(r.TotalCount," operations over ").concat(r.CurrentTime,"ms (median ").concat(r.AverageOperationTime.toFixed(3)," per).  Estimated completion in ").concat(r.EstimatedCompletionTime.toFixed(0),"ms or ").concat((r.EstimatedCompletionTime/1e3/60).toFixed(2),"minutes")):this.info(">> Progress Tracker ".concat(r.Hash," is done and completed ").concat(r.CurrentCount," / ").concat(r.TotalCount," operations in ").concat(r.EndTime,"ms."))}else this.info(">> Progress Tracker ".concat(e," does not exist!  No stats to display."))}}]),r}(n);e.exports=o},{"./Fable-Service-Operation-DefaultSettings.js":62,"fable-serviceproviderbase":44}],64:[function(t,e,r){(function(r){(function(){var n=t("fable-serviceproviderbase"),i=t("simple-get"),o=t("cookie"),a=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck2(this,n),(o=e.call(this,t,r,i)).TraceLog=!1,(o.options.TraceLog||o.fable.TraceLog)&&(o.TraceLog=!0),o.dataFormat=o.fable.services.DataFormat,o.serviceType="RestClient",o.cookie=!1,o.prepareRequestOptions=function(t){return t},o}return _createClass2(n,[{key:"simpleGet",get:function(){return i}},{key:"prepareCookies",value:function(t){if(this.cookie){var e=this.cookie;t.hasOwnProperty("headers")||(t.headers={});var r=Object.keys(e);r.length>0&&(t.headers.cookie=o.serialize(r[0],e[r[0]]))}return t}},{key:"preRequest",value:function(t){var e=this.prepareCookies(t);return this.prepareRequestOptions(e)}},{key:"executeChunkedRequest",value:function(t,e){var r=this,n=this.preRequest(t);return n.RequestStartTime=this.fable.log.getTimeStamp(),this.TraceLog&&this.fable.log.debug("Beginning ".concat(n.method," request to ").concat(n.url," at ").concat(n.RequestStartTime)),i(n,(function(t,i){if(t)return e(t,i);if(r.TraceLog){var o=r.fable.log.getTimeStamp();r.fable.log.debug("--\x3e ".concat(n.method," connected in ").concat(r.dataFormat.formatTimeDelta(n.RequestStartTime,o),"ms code ").concat(i.statusCode))}var a="";i.on("data",(function(t){if(r.TraceLog){var e=r.fable.log.getTimeStamp();r.fable.log.debug("--\x3e ".concat(n.method," data chunk size ").concat(t.length,"b received in ").concat(r.dataFormat.formatTimeDelta(n.RequestStartTime,e),"ms"))}a+=t})),i.on("end",(function(){if(r.TraceLog){var o=r.fable.log.getTimeStamp();r.fable.log.debug("==> ".concat(n.method," completed data size ").concat(a.length,"b received in ").concat(r.dataFormat.formatTimeDelta(n.RequestStartTime,o),"ms"))}return e(t,i,a)}))}))}},{key:"executeChunkedRequestBinary",value:function(t,e){var n=this,o=this.preRequest(t);return o.RequestStartTime=this.fable.log.getTimeStamp(),this.TraceLog&&this.fable.log.debug("Beginning ".concat(o.method," request to ").concat(o.url," at ").concat(o.RequestStartTime)),o.json=!1,o.encoding=null,i(o,(function(t,i){if(t)return e(t,i);if(n.TraceLog){var a=n.fable.log.getTimeStamp();n.fable.log.debug("--\x3e ".concat(o.method," connected in ").concat(n.dataFormat.formatTimeDelta(o.RequestStartTime,a),"ms code ").concat(i.statusCode))}var s=!1;i.on("data",(function(t){if(n.TraceLog){var e=n.fable.log.getTimeStamp();n.fable.log.debug("--\x3e ".concat(o.method," data chunk size ").concat(t.length,"b received in ").concat(n.dataFormat.formatTimeDelta(o.RequestStartTime,e),"ms"))}s=s?r.concat([s,t]):r.from(t)})),i.on("end",(function(){if(n.TraceLog){var r=n.fable.log.getTimeStamp();n.fable.log.debug("==> ".concat(o.method," completed data size ").concat(s.length,"b received in ").concat(n.dataFormat.formatTimeDelta(o.RequestStartTime,r),"ms"))}return e(t,i,s)}))}))}},{key:"executeJSONRequest",value:function(t,e){var r=this;t.json=!0;var n=this.preRequest(t);return n.hasOwnProperty("headers")||(n.headers={}),n.RequestStartTime=this.fable.log.getTimeStamp(),this.TraceLog&&this.fable.log.debug("Beginning ".concat(n.method," JSON request to ").concat(n.url," at ").concat(n.RequestStartTime)),i(n,(function(t,i){if(t)return e(t,i);if(r.TraceLog){var o=r.fable.log.getTimeStamp();r.fable.log.debug("--\x3e JSON ".concat(n.method," connected in ").concat(r.dataFormat.formatTimeDelta(n.RequestStartTime,o),"ms code ").concat(i.statusCode))}var a="";i.on("data",(function(t){if(r.TraceLog){var e=r.fable.log.getTimeStamp();r.fable.log.debug("--\x3e JSON ".concat(n.method," data chunk size ").concat(t.length,"b received in ").concat(r.dataFormat.formatTimeDelta(n.RequestStartTime,e),"ms"))}a+=t})),i.on("end",(function(){if(r.TraceLog){var o=r.fable.log.getTimeStamp();r.fable.log.debug("==> JSON ".concat(n.method," completed - received in ").concat(r.dataFormat.formatTimeDelta(n.RequestStartTime,o),"ms"))}return e(t,i,JSON.parse(a))}))}))}},{key:"getJSON",value:function(t,e){var r="object"==_typeof(t)?t:{};return"string"==typeof t&&(r.url=t),r.method="GET",this.executeJSONRequest(r,e)}},{key:"putJSON",value:function(t,e){return"object"!=_typeof(t.body)?e(new Error("PUT JSON Error Invalid options object")):(t.method="PUT",this.executeJSONRequest(t,e))}},{key:"postJSON",value:function(t,e){return"object"!=_typeof(t.body)?e(new Error("POST JSON Error Invalid options object")):(t.method="POST",this.executeJSONRequest(t,e))}},{key:"patchJSON",value:function(t,e){return"object"!=_typeof(t.body)?e(new Error("PATCH JSON Error Invalid options object")):(t.method="PATCH",this.executeJSONRequest(t,e))}},{key:"headJSON",value:function(t,e){return"object"!=_typeof(t.body)?e(new Error("HEAD JSON Error Invalid options object")):(t.method="HEAD",this.executeJSONRequest(t,e))}},{key:"delJSON",value:function(t,e){return t.method="DELETE",this.executeJSONRequest(t,e)}},{key:"getRawText",value:function(t,e){var r="object"==_typeof(t)?t:{};return"string"==typeof t&&(r.url=t),r.method="GET",this.executeChunkedRequest(r,e)}}]),n}(n);e.exports=a}).call(this)}).call(this,t("buffer").Buffer)},{buffer:20,cookie:27,"fable-serviceproviderbase":44,"simple-get":112}],65:[function(t,e,r){var n=function(t){_inherits(r,t);var e=_createSuper(r);function r(t,n,i){var o;return _classCallCheck2(this,r),(o=e.call(this,t,n,i)).serviceType="Template",o.Matchers={Evaluate:/<%([\s\S]+?)%>/g,Interpolate:/<%=([\s\S]+?)%>/g,Escaper:/\\|'|\r|\n|\t|\u2028|\u2029/g,Unescaper:/\\(\\|'|r|n|t|u2028|u2029)/g,GuaranteedNonMatch:/.^/},o.templateEscapes={"\\":"\\","'":"'",r:"\r","\r":"r",n:"\n","\n":"n",t:"\t","\t":"t",u2028:"\u2028","\u2028":"u2028",u2029:"\u2029","\u2029":"u2029"},o.renderFunction=!1,o.templateString=!1,o}return _createClass2(r,[{key:"renderTemplate",value:function(t){return this.renderFunction(t)}},{key:"templateFunction",value:function(t){return this.renderTemplate.bind(this)}},{key:"buildTemplateFunction",value:function(t,e){var r=this;return this.TemplateSource="__p+='"+t.replace(this.Matchers.Escaper,(function(t){return"\\".concat(r.templateEscapes[t])})).replace(this.Matchers.Interpolate||this.Matchers.GuaranteedNonMatch,(function(t,e){return"'+\n(".concat(decodeURIComponent(e),")+\n'")})).replace(this.Matchers.Evaluate||this.Matchers.GuaranteedNonMatch,(function(t,e){return"';\n".concat(decodeURIComponent(e),"\n;__p+='")}))+"';\n",this.TemplateSource="with(pTemplateDataObject||{}){\n".concat(this.TemplateSource,"}\n"),this.TemplateSource="var __p='';var print=function(){__p+=Array.prototype.join.call(arguments, '')};\n".concat(this.TemplateSource,"return __p;\n"),this.renderFunction=new Function("pTemplateDataObject",this.TemplateSource),void 0!==e?this.renderFunction(e):(this.TemplateSourceCompiled="function(obj){\n"+this.TemplateSource+"}",this.templateFunction())}}]),r}(t("fable-serviceproviderbase"));e.exports=n},{"fable-serviceproviderbase":44}],66:[function(t,e,r){var n=t("fable-serviceproviderbase"),i=t("async.waterfall"),o=t("async.eachlimit"),a=t("big.js"),s=function(t){_inherits(r,t);var e=_createSuper(r);function r(t,n,s){var c;return _classCallCheck2(this,r),(c=e.call(this,t,n,s)).templates={},c.waterfall=i,c.eachLimit=o,c.bigNumber=a,c}return _createClass2(r,[{key:"extend",value:function(t){for(var e=0;e<(arguments.length<=1?0:arguments.length-1);e++){var r=e+1<1||arguments.length<=e+1?void 0:arguments[e+1];if("object"===_typeof(r))for(var n=Object.keys(r),i=0;i<n.length;i++)t[n[i]]=r[n[i]]}return t}},{key:"template",value:function(t,e){return this.fable.instantiateServiceProviderWithoutRegistration("Template").buildTemplateFunction(t,e)}},{key:"buildHashedTemplate",value:function(t,e,r){var n=this.fable.instantiateServiceProvider("Template",{},t);return this.templates[t]=n.buildTemplateFunction(e,r),this.templates[t]}},{key:"chunk",value:function(t,e,r){var n=_toConsumableArray(t),i="number"==typeof e?e:0,o=void 0!==r?r:[];if(i<=0)return o;for(;n.length;)o.push(n.splice(0,i));return o}},{key:"isoStringToDate",value:function(t){this.fable.hasOwnProperty("Dates")||this.fable.instantiateServiceProvider("Dates");var e=!1;try{e=this.fable.Dates.dayJS.utc(t)}catch(e){return this.fable.log.error("Could not parse date string ".concat(t," with dayJS.")),!1}return!!e&&e.toDate()}}]),r}(n);e.exports=s},{"async.eachlimit":1,"async.waterfall":15,"big.js":17,"fable-serviceproviderbase":44}],67:[function(t,e,r){var n=Object.prototype.toString,i=Math.max,o=function(t,e){for(var r=[],n=0;n<t.length;n+=1)r[n]=t[n];for(var i=0;i<e.length;i+=1)r[i+t.length]=e[i];return r};e.exports=function(t){var e=this;if("function"!=typeof e||"[object Function]"!==n.apply(e))throw new TypeError("Function.prototype.bind called on incompatible "+e);for(var r,a=function(t,e){for(var r=[],n=e||0,i=0;n<t.length;n+=1,i+=1)r[i]=t[n];return r}(arguments,1),s=i(0,e.length-a.length),c=[],u=0;u<s;u++)c[u]="$"+u;if(r=Function("binder","return function ("+function(t,e){for(var r="",n=0;n<t.length;n+=1)r+=t[n],n+1<t.length&&(r+=e);return r}(c,",")+"){ return binder.apply(this,arguments); }")((function(){if(this instanceof r){var n=e.apply(this,o(a,arguments));return Object(n)===n?n:this}return e.apply(t,o(a,arguments))})),e.prototype){var l=function(){};l.prototype=e.prototype,r.prototype=new l,l.prototype=null}return r}},{}],68:[function(t,e,r){var n=t("./implementation");e.exports=Function.prototype.bind||n},{"./implementation":67}],69:[function(t,e,r){var n,i=SyntaxError,o=Function,a=TypeError,s=function(t){try{return o('"use strict"; return ('+t+").constructor;")()}catch(t){}},c=Object.getOwnPropertyDescriptor;if(c)try{c({},"")}catch(t){c=null}var u=function(){throw new a},l=c?function(){try{return u}catch(t){try{return c(arguments,"callee").get}catch(t){return u}}}():u,f=t("has-symbols")(),h=t("has-proto")(),p=Object.getPrototypeOf||(h?function(t){return t.__proto__}:null),d={},y="undefined"!=typeof Uint8Array&&p?p(Uint8Array):n,g={"%AggregateError%":"undefined"==typeof AggregateError?n:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?n:ArrayBuffer,"%ArrayIteratorPrototype%":f&&p?p([][Symbol.iterator]()):n,"%AsyncFromSyncIteratorPrototype%":n,"%AsyncFunction%":d,"%AsyncGenerator%":d,"%AsyncGeneratorFunction%":d,"%AsyncIteratorPrototype%":d,"%Atomics%":"undefined"==typeof Atomics?n:Atomics,"%BigInt%":"undefined"==typeof BigInt?n:BigInt,"%BigInt64Array%":"undefined"==typeof BigInt64Array?n:BigInt64Array,"%BigUint64Array%":"undefined"==typeof BigUint64Array?n:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?n:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?n:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?n:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?n:FinalizationRegistry,"%Function%":o,"%GeneratorFunction%":d,"%Int8Array%":"undefined"==typeof Int8Array?n:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?n:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?n:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":f&&p?p(p([][Symbol.iterator]())):n,"%JSON%":"object"===("undefined"==typeof JSON?"undefined":_typeof(JSON))?JSON:n,"%Map%":"undefined"==typeof Map?n:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&f&&p?p((new Map)[Symbol.iterator]()):n,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?n:Promise,"%Proxy%":"undefined"==typeof Proxy?n:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?n:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?n:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&f&&p?p((new Set)[Symbol.iterator]()):n,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?n:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":f&&p?p(""[Symbol.iterator]()):n,"%Symbol%":f?Symbol:n,"%SyntaxError%":i,"%ThrowTypeError%":l,"%TypedArray%":y,"%TypeError%":a,"%Uint8Array%":"undefined"==typeof Uint8Array?n:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?n:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?n:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?n:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?n:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?n:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?n:WeakSet};if(p)try{null.error}catch(t){var v=p(p(t));g["%Error.prototype%"]=v}var m=function t(e){var r;if("%AsyncFunction%"===e)r=s("async function () {}");else if("%GeneratorFunction%"===e)r=s("function* () {}");else if("%AsyncGeneratorFunction%"===e)r=s("async function* () {}");else if("%AsyncGenerator%"===e){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if("%AsyncIteratorPrototype%"===e){var i=t("%AsyncGenerator%");i&&p&&(r=p(i.prototype))}return g[e]=r,r},b={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},w=t("function-bind"),S=t("hasown"),T=w.call(Function.call,Array.prototype.concat),_=w.call(Function.apply,Array.prototype.splice),A=w.call(Function.call,String.prototype.replace),P=w.call(Function.call,String.prototype.slice),C=w.call(Function.call,RegExp.prototype.exec),k=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,E=/\\(\\)?/g,O=function(t,e){var r,n=t;if(S(b,n)&&(n="%"+(r=b[n])[0]+"%"),S(g,n)){var o=g[n];if(o===d&&(o=m(n)),void 0===o&&!e)throw new a("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:r,name:n,value:o}}throw new i("intrinsic "+t+" does not exist!")};e.exports=function(t,e){if("string"!=typeof t||0===t.length)throw new a("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof e)throw new a('"allowMissing" argument must be a boolean');if(null===C(/^%?[^%]*%?$/,t))throw new i("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=function(t){var e=P(t,0,1),r=P(t,-1);if("%"===e&&"%"!==r)throw new i("invalid intrinsic syntax, expected closing `%`");if("%"===r&&"%"!==e)throw new i("invalid intrinsic syntax, expected opening `%`");var n=[];return A(t,k,(function(t,e,r,i){n[n.length]=r?A(i,E,"$1"):e||t})),n}(t),n=r.length>0?r[0]:"",o=O("%"+n+"%",e),s=o.name,u=o.value,l=!1,f=o.alias;f&&(n=f[0],_(r,T([0,1],f)));for(var h=1,p=!0;h<r.length;h+=1){var d=r[h],y=P(d,0,1),v=P(d,-1);if(('"'===y||"'"===y||"`"===y||'"'===v||"'"===v||"`"===v)&&y!==v)throw new i("property names with quotes must have matching quotes");if("constructor"!==d&&p||(l=!0),S(g,s="%"+(n+="."+d)+"%"))u=g[s];else if(null!=u){if(!(d in u)){if(!e)throw new a("base intrinsic for "+t+" exists, but the property is not available.");return}if(c&&h+1>=r.length){var m=c(u,d);u=(p=!!m)&&"get"in m&&!("originalValue"in m.get)?m.get:u[d]}else p=S(u,d),u=u[d];p&&!l&&(g[s]=u)}}return u}},{"function-bind":68,"has-proto":72,"has-symbols":73,hasown:75}],70:[function(t,e,r){var n=t("get-intrinsic")("%Object.getOwnPropertyDescriptor%",!0);if(n)try{n([],"length")}catch(t){n=null}e.exports=n},{"get-intrinsic":69}],71:[function(t,e,r){var n=t("get-intrinsic")("%Object.defineProperty%",!0),i=function(){if(n)try{return n({},"a",{value:1}),!0}catch(t){return!1}return!1};i.hasArrayLengthDefineBug=function(){if(!i())return null;try{return 1!==n([],"length",{value:1}).length}catch(t){return!0}},e.exports=i},{"get-intrinsic":69}],72:[function(t,e,r){var n={foo:{}},i=Object;e.exports=function(){return{__proto__:n}.foo===n.foo&&!({__proto__:null}instanceof i)}},{}],73:[function(t,e,r){var n="undefined"!=typeof Symbol&&Symbol,i=t("./shams");e.exports=function(){return"function"==typeof n&&("function"==typeof Symbol&&("symbol"===_typeof(n("foo"))&&("symbol"===_typeof(Symbol("bar"))&&i())))}},{"./shams":74}],74:[function(t,e,r){e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"===_typeof(Symbol.iterator))return!0;var t={},e=Symbol("test"),r=Object(e);if("string"==typeof e)return!1;if("[object Symbol]"!==Object.prototype.toString.call(e))return!1;if("[object Symbol]"!==Object.prototype.toString.call(r))return!1;for(e in t[e]=42,t)return!1;if("function"==typeof Object.keys&&0!==Object.keys(t).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(t).length)return!1;var n=Object.getOwnPropertySymbols(t);if(1!==n.length||n[0]!==e)return!1;if(!Object.prototype.propertyIsEnumerable.call(t,e))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var i=Object.getOwnPropertyDescriptor(t,e);if(42!==i.value||!0!==i.enumerable)return!1}return!0}},{}],75:[function(t,e,r){var n=Function.prototype.call,i=Object.prototype.hasOwnProperty,o=t("function-bind");e.exports=o.call(n,i)},{"function-bind":68}],76:[function(t,e,r){var n=t("http"),i=t("url"),o=e.exports;for(var a in n)n.hasOwnProperty(a)&&(o[a]=n[a]);function s(t){if("string"==typeof t&&(t=i.parse(t)),t.protocol||(t.protocol="https:"),"https:"!==t.protocol)throw new Error('Protocol "'+t.protocol+'" not supported. Expected "https:"');return t}o.request=function(t,e){return t=s(t),n.request.call(this,t,e)},o.get=function(t,e){return t=s(t),n.get.call(this,t,e)}},{http:113,url:134}],77:[function(t,e,r){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */r.read=function(t,e,r,n,i){var o,a,s=8*i-n-1,c=(1<<s)-1,u=c>>1,l=-7,f=r?i-1:0,h=r?-1:1,p=t[e+f];for(f+=h,o=p&(1<<-l)-1,p>>=-l,l+=s;l>0;o=256*o+t[e+f],f+=h,l-=8);for(a=o&(1<<-l)-1,o>>=-l,l+=n;l>0;a=256*a+t[e+f],f+=h,l-=8);if(0===o)o=1-u;else{if(o===c)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,n),o-=u}return(p?-1:1)*a*Math.pow(2,o-n)},r.write=function(t,e,r,n,i,o){var a,s,c,u=8*o-i-1,l=(1<<u)-1,f=l>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:o-1,d=n?1:-1,y=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=l):(a=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-a))<1&&(a--,c*=2),(e+=a+f>=1?h/c:h*Math.pow(2,1-f))*c>=2&&(a++,c/=2),a+f>=l?(s=0,a=l):a+f>=1?(s=(e*c-1)*Math.pow(2,i),a+=f):(s=e*Math.pow(2,f-1)*Math.pow(2,i),a=0));i>=8;t[r+p]=255&s,p+=d,s/=256,i-=8);for(a=a<<i|s,u+=i;u>0;t[r+p]=255&a,p+=d,a/=256,u-=8);t[r+p-d]|=128*y}},{}],78:[function(t,e,r){"function"==typeof Object.create?e.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(t,e){if(e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}}},{}],79:[function(t,e,r){e.exports=function(t,e){return e.startsWith(t)&&e.endsWith(t)?e.substring(1,e.length-1):e}},{}],80:[function(t,e,r){var n=t("./Manyfest-LogToConsole.js"),i=function(){function t(e,r){_classCallCheck2(this,t),this.logInfo="function"==typeof e?e:n,this.logError="function"==typeof r?r:n,this.translationTable={}}return _createClass2(t,[{key:"translationCount",value:function(){return Object.keys(this.translationTable).length}},{key:"addTranslation",value:function(t){var e=this;if("object"!=_typeof(t))return this.logError("Hash translation addTranslation expected a translation be type object but was passed in ".concat(_typeof(t))),!1;Object.keys(t).forEach((function(r){"string"!=typeof t[r]?e.logError("Hash translation addTranslation expected a translation destination hash for [".concat(r,"] to be a string but the referrant was a ").concat(_typeof(t[r]))):e.translationTable[r]=t[r]}))}},{key:"removeTranslationHash",value:function(t){this.translationTable.hasOwnProperty(t)&&delete this.translationTable[t]}},{key:"removeTranslation",value:function(t){var e=this;return"string"==typeof t?(this.removeTranslationHash(t),!0):"object"==_typeof(t)?(Object.keys(t).forEach((function(t){e.removeTranslation(t)})),!0):(this.logError("Hash translation removeTranslation expected either a string or an object but the passed-in translation was type ".concat(_typeof(t))),!1)}},{key:"clearTranslations",value:function(){this.translationTable={}}},{key:"translate",value:function(t){return this.translationTable.hasOwnProperty(t)?this.translationTable[t]:t}}]),t}();e.exports=i},{"./Manyfest-LogToConsole.js":81}],81:[function(t,e,r){e.exports=function(t,e){var r="string"==typeof t?t:"";console.log("[Manyfest] ".concat(r)),e&&console.log(JSON.stringify(e))}},{}],82:[function(t,e,r){var n=t("./Manyfest-LogToConsole.js"),i=function(){function t(e,r){_classCallCheck2(this,t),this.logInfo="function"==typeof e?e:n,this.logError="function"==typeof r?r:n}return _createClass2(t,[{key:"checkAddressExists",value:function(t,e){if("object"!=_typeof(t))return!1;if("string"!=typeof e)return!1;var r=e.indexOf(".");if(-1==r){var n=e.indexOf("["),i=e.indexOf("]");if(n>0&&i>n&&i-n>1){var o=e.substring(0,n).trim();if("object"!==_typeof(t[o]))return!1;var a=e.substring(n+1,i).trim(),s=parseInt(a,10);return Array.isArray(t[o])!=isNaN(s)&&(isNaN(s)?(a=this.cleanWrapCharacters('"',a),a=this.cleanWrapCharacters("`",a),a=this.cleanWrapCharacters("'",a),t[o].hasOwnProperty(a)):s in t[o])}return t.hasOwnProperty(e)}var c=e.substring(0,r),u=e.substring(r+1),l=c.indexOf("["),f=c.indexOf("]");if(l>0&&f>l&&f-l>1){var h=c.substring(0,l).trim(),p=c.substring(l+1,f).trim(),d=parseInt(p,10);return Array.isArray(t[h])!=isNaN(d)&&(isNaN(d)?(p=this.cleanWrapCharacters('"',p),p=this.cleanWrapCharacters("`",p),p=this.cleanWrapCharacters("'",p),this.checkAddressExists(t[h][p],u)):this.checkAddressExists(t[h][d],u))}return(!t.hasOwnProperty(c)||"object"===_typeof(t[c]))&&(t.hasOwnProperty(c)||(t[c]={}),this.checkAddressExists(t[c],u))}}]),t}();e.exports=i},{"./Manyfest-LogToConsole.js":81}],83:[function(t,e,r){var n=t("./Manyfest-LogToConsole.js"),i=t("./Manyfest-CleanWrapCharacters.js"),o=t("../source/Manyfest-ParseConditionals.js"),a=function(){function t(e,r){_classCallCheck2(this,t),this.logInfo="function"==typeof e?e:n,this.logError="function"==typeof r?r:n,this.cleanWrapCharacters=i}return _createClass2(t,[{key:"checkFilters",value:function(t,e){return o(this,t,e)}},{key:"deleteValueAtAddress",value:function(t,e,r){if("object"==_typeof(t)&&"string"==typeof e){var n="";"string"==typeof r&&(n=r);var i=e.indexOf(".");if(-1==i){var o=e.indexOf("["),a=e.indexOf("]"),s=e.indexOf("{}");if(o>0&&a>o&&a-o>1){var c=e.substring(0,o).trim();if("object"!==_typeof(t[c]))return!1;var u=e.substring(o+1,a).trim(),l=parseInt(u,10);return Array.isArray(t[c])!=isNaN(l)&&(isNaN(l)?(u=this.cleanWrapCharacters('"',u),u=this.cleanWrapCharacters("`",u),u=this.cleanWrapCharacters("'",u),delete t[c][u],!0):(delete t[c][l],!0))}if(o>0&&a>o&&a-o==1){var f=e.substring(0,o).trim();if(!Array.isArray(t[f]))return!1;for(var h=t[f],p=h.length-1;p>=0;p--){this.checkFilters(e,h[p])&&h.splice(p,1)}return!0}if(s>0){var d=e.substring(0,s).trim();return"object"==_typeof(t[d])&&(delete t[d],!0)}return delete t[e],!0}var y=e.substring(0,i),g=e.substring(i+1),v=y.indexOf("["),m=y.indexOf("]");if(v>0&&m>v&&m-v>1){var b=y.substring(0,v).trim(),w=y.substring(v+1,m).trim(),S=parseInt(w,10);return Array.isArray(t[b])!=isNaN(S)&&("object"==_typeof(t[b])&&(isNaN(S)?(w=this.cleanWrapCharacters('"',w),w=this.cleanWrapCharacters("`",w),w=this.cleanWrapCharacters("'",w),n="".concat(n).concat(n.length>0?".":"").concat(y),this.deleteValueAtAddress(t[b][w],g,n)):(n="".concat(n).concat(n.length>0?".":"").concat(y),this.deleteValueAtAddress(t[b][S],g,n))))}if(v>0&&m>v&&m-v==1){var T=e.substring(0,v).trim();if(!Array.isArray(t[T]))return!1;var _=t[T];n="".concat(n).concat(n.length>0?".":"").concat(T);for(var A={},P=0;P<_.length;P++){var C="".concat(n,"[").concat(P,"]"),k=this.deleteValueAtAddress(t[T][P],g,C);A["".concat(C,".").concat(g)]=k}return A}var E=e.indexOf("{}");if(E>0){var O=e.substring(0,E).trim();if("object"!=_typeof(t[O]))return!1;var M=t[O],D=Object.keys(M);n="".concat(n).concat(n.length>0?".":"").concat(O);for(var R={},j=0;j<D.length;j++){var x="".concat(n,".").concat(D[j]),I=this.deleteValueAtAddress(t[O][D[j]],g,x);this.checkFilters(e,I)&&(R["".concat(x,".").concat(g)]=I)}return R}return t.hasOwnProperty(y)&&"object"!==_typeof(t[y])?void 0:t.hasOwnProperty(y)?(n="".concat(n).concat(n.length>0?".":"").concat(y),this.deleteValueAtAddress(t[y],g,n)):(n="".concat(n).concat(n.length>0?".":"").concat(y),t[y]={},this.deleteValueAtAddress(t[y],g,n))}}}]),t}();e.exports=a},{"../source/Manyfest-ParseConditionals.js":87,"./Manyfest-CleanWrapCharacters.js":79,"./Manyfest-LogToConsole.js":81}],84:[function(t,e,r){var n=t("./Manyfest-LogToConsole.js"),i=t("./Manyfest-CleanWrapCharacters.js"),o=t("../source/Manyfest-ParseConditionals.js"),a=function(){function t(e,r){_classCallCheck2(this,t),this.logInfo="function"==typeof e?e:n,this.logError="function"==typeof r?r:n,this.cleanWrapCharacters=i}return _createClass2(t,[{key:"checkFilters",value:function(t,e){return o(this,t,e)}},{key:"getValueAtAddress",value:function(t,e,r,n){if("object"==_typeof(t)&&"string"==typeof e){var i="";"string"==typeof r&&(i=r);var o=void 0===n?t:n,a=e.indexOf(".");if(0==a){for(var s=i.split("."),c=0,u=0;u<e.length&&"."==e.charAt(u);u++)c++;var l=s.length-c;if(l<0)return;var f=e.slice(c);return l>0&&(f="".concat(s.slice(0,l).join("."),".").concat(f)),this.logInfo("Back-navigation detected.  Recursing back to address [".concat(f,"]")),this.getValueAtAddress(o,f)}if(-1==a){var h=e.indexOf("["),p=e.indexOf("]"),d=e.indexOf("{}");if(h>0&&p>h&&p-h>1){var y=e.substring(0,h).trim();if("object"!==_typeof(t[y]))return;var g=e.substring(h+1,p).trim(),v=parseInt(g,10);if(Array.isArray(t[y])==isNaN(v))return;return isNaN(v)?(g=this.cleanWrapCharacters('"',g),g=this.cleanWrapCharacters("`",g),g=this.cleanWrapCharacters("'",g),t[y][g]):t[y][v]}if(h>0&&p>h&&p-h==1){var m=e.substring(0,h).trim();if(!Array.isArray(t[m]))return!1;for(var b=t[m],w=[],S=0;S<b.length;S++){this.checkFilters(e,b[S])&&w.push(b[S])}return w}if(d>0){var T=e.substring(0,d).trim();return"object"==_typeof(t[T])&&t[T]}return null!=_typeof(t[e])?t[e]:void 0}var _=e.substring(0,a),A=e.substring(a+1),P=_.indexOf("["),C=_.indexOf("]");if(P>0&&C>P&&C-P>1){var k=_.substring(0,P).trim(),E=_.substring(P+1,C).trim(),O=parseInt(E,10);if(Array.isArray(t[k])==isNaN(O))return;if("object"!=_typeof(t[k]))return;return isNaN(O)?(E=this.cleanWrapCharacters('"',E),E=this.cleanWrapCharacters("`",E),E=this.cleanWrapCharacters("'",E),i="".concat(i).concat(i.length>0?".":"").concat(_),this.getValueAtAddress(t[k][E],A,i,o)):(i="".concat(i).concat(i.length>0?".":"").concat(_),this.getValueAtAddress(t[k][O],A,i,o))}if(P>0&&C>P&&C-P==1){var M=e.substring(0,P).trim();if(!Array.isArray(t[M]))return!1;var D=t[M];i="".concat(i).concat(i.length>0?".":"").concat(M);for(var R={},j=0;j<D.length;j++){var x="".concat(i,"[").concat(j,"]"),I=this.getValueAtAddress(t[M][j],A,x,o);R["".concat(x,".").concat(A)]=I}return R}var L=e.indexOf("{}");if(L>0){var N=e.substring(0,L).trim();if("object"!=_typeof(t[N]))return!1;var B=t[N],F=Object.keys(B);i="".concat(i).concat(i.length>0?".":"").concat(N);for(var U={},H=0;H<F.length;H++){var V="".concat(i,".").concat(F[H]),z=this.getValueAtAddress(t[N][F[H]],A,V,o);this.checkFilters(e,z)&&(U["".concat(V,".").concat(A)]=z)}return U}return t.hasOwnProperty(_)&&"object"!==_typeof(t[_])?void 0:t.hasOwnProperty(_)?(i="".concat(i).concat(i.length>0?".":"").concat(_),this.getValueAtAddress(t[_],A,i,o)):(i="".concat(i).concat(i.length>0?".":"").concat(_),t[_]={},this.getValueAtAddress(t[_],A,i,o))}}}]),t}();e.exports=a},{"../source/Manyfest-ParseConditionals.js":87,"./Manyfest-CleanWrapCharacters.js":79,"./Manyfest-LogToConsole.js":81}],85:[function(t,e,r){var n=t("./Manyfest-LogToConsole.js"),i=t("./Manyfest-CleanWrapCharacters.js"),o=function(){function t(e,r){_classCallCheck2(this,t),this.logInfo="function"==typeof e?e:n,this.logError="function"==typeof r?r:n,this.cleanWrapCharacters=i}return _createClass2(t,[{key:"setValueAtAddress",value:function(t,e,r){if("object"!=_typeof(t))return!1;if("string"!=typeof e)return!1;var n=e.indexOf(".");if(-1==n){var i=e.indexOf("["),o=e.indexOf("]");if(i>0&&o>i&&o-i>1){var a=e.substring(0,i).trim();if("object"!==_typeof(t[a]))return!1;var s=e.substring(i+1,o).trim(),c=parseInt(s,10);return Array.isArray(t[a])!=isNaN(c)&&(isNaN(c)?(s=this.cleanWrapCharacters('"',s),s=this.cleanWrapCharacters("`",s),s=this.cleanWrapCharacters("'",s),t[a][s]=r,!0):(t[a][c]=r,!0))}return t[e]=r,!0}var u=e.substring(0,n),l=e.substring(n+1),f=u.indexOf("["),h=u.indexOf("]");if(f>0&&h>f&&h-f>1){var p=u.substring(0,f).trim(),d=u.substring(f+1,h).trim(),y=parseInt(d,10);return Array.isArray(t[p])!=isNaN(y)&&(isNaN(y)?(d=this.cleanWrapCharacters('"',d),d=this.cleanWrapCharacters("`",d),d=this.cleanWrapCharacters("'",d),this.setValueAtAddress(t[p][d],l,r)):this.setValueAtAddress(t[p][y],l,r))}return t.hasOwnProperty(u)&&"object"!==_typeof(t[u])?(t.hasOwnProperty("__ERROR")||(t.__ERROR={}),t.__ERROR[e]=r,!1):(t.hasOwnProperty(u)||(t[u]={}),this.setValueAtAddress(t[u],l,r))}}]),t}();e.exports=o},{"./Manyfest-CleanWrapCharacters.js":79,"./Manyfest-LogToConsole.js":81}],86:[function(t,e,r){var n=t("./Manyfest-LogToConsole.js"),i=function(){function t(e,r){_classCallCheck2(this,t),this.logInfo="function"==typeof e?e:n,this.logError="function"==typeof r?r:n}return _createClass2(t,[{key:"generateAddressses",value:function(t,e,r){var n="string"==typeof e?e:"",i="object"==_typeof(r)?r:{},o=_typeof(t),a={Address:n,Hash:n,Name:n,InSchema:!1};switch("object"==o&&null==t&&(o="null"),o){case"string":a.DataType="String",a.Default=t,i[n]=a;break;case"number":case"bigint":a.DataType="Number",a.Default=t,i[n]=a;break;case"undefined":case"null":a.DataType="Any",a.Default=t,i[n]=a;break;case"object":if(Array.isArray(t)){a.DataType="Array",""!=n&&(i[n]=a);for(var s=0;s<t.length;s++)this.generateAddressses(t[s],"".concat(n,"[").concat(s,"]"),i)}else{a.DataType="Object",""!=n&&(i[n]=a,n+=".");for(var c=Object.keys(t),u=0;u<c.length;u++)this.generateAddressses(t[c[u]],"".concat(n).concat(c[u]),i)}}return i}}]),t}();e.exports=i},{"./Manyfest-LogToConsole.js":81}],87:[function(t,e,r){var n="<<~?",i="?~>>",o=function(t,e,r,n,i){switch(n){case"!=":return t.getValueAtAddress(e,r)!=i;case"<":return t.getValueAtAddress(e,r)<i;case">":return t.getValueAtAddress(e,r)>i;case"<=":return t.getValueAtAddress(e,r)<=i;case">=":return t.getValueAtAddress(e,r)>=i;case"===":return t.getValueAtAddress(e,r)===i;default:return t.getValueAtAddress(e,r)==i}};e.exports=function(t,e,r){for(var a=!0,s=e.indexOf(n);-1!=s;){var c=e.indexOf(i,s+4);if(-1!=c){var u=e.substring(s+4,c).split(","),l=u[0],f=u[1],h=u[2];a=a&&o(t,r,l,f,h),s=e.indexOf(n,c+4)}else s=-1}return a}},{}],88:[function(t,e,r){var n=t("./Manyfest-LogToConsole.js"),i=function(){function t(e,r){_classCallCheck2(this,t),this.logInfo="function"==typeof e?e:n,this.logError="function"==typeof r?r:n}return _createClass2(t,[{key:"resolveAddressMappings",value:function(t,e){if("object"!=_typeof(t))return this.logError("Attempted to resolve address mapping but the descriptor was not an object."),!1;if("object"!=_typeof(e))return!0;var r=Object.keys(t),n={};return r.forEach((function(e){t[e].hasOwnProperty("Hash")&&(n[t[e].Hash]=e)})),Object.keys(e).forEach((function(r){var i=e[r],o=!1,a=!1;t.hasOwnProperty(r)?o=r:n.hasOwnProperty(r)&&(o=n[r]),o?(a=t[o],delete t[o]):a={Hash:r},t[i]=a})),!0}},{key:"safeResolveAddressMappings",value:function(t,e){var r=JSON.parse(JSON.stringify(t));return this.resolveAddressMappings(r,e),r}},{key:"mergeAddressMappings",value:function(t,e){if("object"!=_typeof(e)||"object"!=_typeof(t))return this.logError("Attempted to merge two schema descriptors but both were not objects."),!1;var r=JSON.parse(JSON.stringify(e)),n=JSON.parse(JSON.stringify(t));return Object.keys(r).forEach((function(t){n.hasOwnProperty(t)||(n[t]=r[t])})),n}}]),t}();e.exports=i},{"./Manyfest-LogToConsole.js":81}],89:[function(t,e,r){var n=t("fable-serviceproviderbase"),i=t("./Manyfest-LogToConsole.js"),o=t("./Manyfest-HashTranslation.js"),a=t("./Manyfest-ObjectAddress-CheckAddressExists.js"),s=t("./Manyfest-ObjectAddress-GetValue.js"),c=t("./Manyfest-ObjectAddress-SetValue.js"),u=t("./Manyfest-ObjectAddress-DeleteValue.js"),l=t("./Manyfest-ObjectAddressGeneration.js"),f=t("./Manyfest-SchemaManipulation.js"),h={Scope:"DEFAULT",Descriptors:{}},p=function(t){_inherits(r,t);var e=_createSuper(r);function r(t,n,h){var p;return _classCallCheck2(this,r),(p=void 0===t?e.call(this,{}):e.call(this,t,n,h)).serviceType="Manifest",p.logInfo=i,p.logError=i,p.objectAddressCheckAddressExists=new a(p.logInfo,p.logError),p.objectAddressGetValue=new s(p.logInfo,p.logError),p.objectAddressSetValue=new c(p.logInfo,p.logError),p.objectAddressDeleteValue=new u(p.logInfo,p.logError),p.options.hasOwnProperty("defaultValues")||(p.options.defaultValues={String:"",Number:0,Float:0,Integer:0,Boolean:!1,Binary:0,DateTime:0,Array:[],Object:{},Null:null}),p.options.hasOwnProperty("strict")||(p.options.strict=!1),p.scope=void 0,p.elementAddresses=void 0,p.elementHashes=void 0,p.elementDescriptors=void 0,p.reset(),"object"===_typeof(p.options)&&p.loadManifest(p.options),p.schemaManipulations=new f(p.logInfo,p.logError),p.objectAddressGeneration=new l(p.logInfo,p.logError),p.hashTranslations=new o(p.logInfo,p.logError),_possibleConstructorReturn(p)}return _createClass2(r,[{key:"reset",value:function(){this.scope="DEFAULT",this.elementAddresses=[],this.elementHashes={},this.elementDescriptors={}}},{key:"clone",value:function(){var t=JSON.parse(JSON.stringify(this.options)),e=new r(this.getManifest(),this.logInfo,this.logError,t);return e.hashTranslations.addTranslation(this.hashTranslations.translationTable),e}},{key:"deserialize",value:function(t){return this.loadManifest(JSON.parse(t))}},{key:"loadManifest",value:function(t){"object"!==_typeof(t)&&this.logError("(".concat(this.scope,") Error loading manifest; expecting an object but parameter was type ").concat(_typeof(t),"."));for(var e="object"==_typeof(t)?t:{},r=Object.keys(h),n=0;n<r.length;n++)e.hasOwnProperty(r[n])||(e[r[n]]=JSON.parse(JSON.stringify(h[r[n]])));if(e.hasOwnProperty("Scope")?"string"==typeof e.Scope?this.scope=e.Scope:this.logError("(".concat(this.scope,") Error loading scope from manifest; expecting a string but property was type ").concat(_typeof(e.Scope),"."),e):this.logError("(".concat(this.scope,') Error loading scope from manifest object.  Property "Scope" does not exist in the root of the object.'),e),e.hasOwnProperty("Descriptors"))if("object"===_typeof(e.Descriptors))for(var i=Object.keys(e.Descriptors),o=0;o<i.length;o++)this.addDescriptor(i[o],e.Descriptors[i[o]]);else this.logError("(".concat(this.scope,") Error loading description object from manifest object.  Expecting an object in 'Manifest.Descriptors' but the property was type ").concat(_typeof(e.Descriptors),"."),e);else this.logError("(".concat(this.scope,') Error loading object description from manifest object.  Property "Descriptors" does not exist in the root of the Manifest object.'),e);if(e.hasOwnProperty("HashTranslations")&&"object"===_typeof(e.HashTranslations))for(var a=0;a<e.HashTranslations.length;a++);}},{key:"serialize",value:function(){return JSON.stringify(this.getManifest())}},{key:"getManifest",value:function(){return{Scope:this.scope,Descriptors:JSON.parse(JSON.stringify(this.elementDescriptors)),HashTranslations:JSON.parse(JSON.stringify(this.hashTranslations.translationTable))}}},{key:"addDescriptor",value:function(t,e){return"object"===_typeof(e)?(e.hasOwnProperty("Address")||(e.Address=t),this.elementDescriptors.hasOwnProperty(t)||this.elementAddresses.push(t),this.elementDescriptors[t]=e,this.elementHashes[t]=t,e.hasOwnProperty("Hash")?this.elementHashes[e.Hash]=t:e.Hash=t,!0):(this.logError("(".concat(this.scope,") Error loading object descriptor for address '").concat(t,"' from manifest object.  Expecting an object but property was type ").concat(_typeof(e),".")),!1)}},{key:"getDescriptorByHash",value:function(t){return this.getDescriptor(this.resolveHashAddress(t))}},{key:"getDescriptor",value:function(t){return this.elementDescriptors[t]}},{key:"eachDescriptor",value:function(t){for(var e=Object.keys(this.elementDescriptors),r=0;r<e.length;r++)t(this.elementDescriptors[e[r]])}},{key:"checkAddressExistsByHash",value:function(t,e){return this.checkAddressExists(t,this.resolveHashAddress(e))}},{key:"checkAddressExists",value:function(t,e){return this.objectAddressCheckAddressExists.checkAddressExists(t,e)}},{key:"resolveHashAddress",value:function(t){var e=this.elementHashes.hasOwnProperty(t),r=this.hashTranslations.translationTable.hasOwnProperty(t);return e&&!r?this.elementHashes[t]:r&&this.elementHashes.hasOwnProperty(this.hashTranslations.translate(t))?this.elementHashes[this.hashTranslations.translate(t)]:r?this.hashTranslations.translate(t):t}},{key:"getValueByHash",value:function(t,e){var r=this.getValueAtAddress(t,this.resolveHashAddress(e));return void 0===r&&(r=this.getDefaultValue(this.getDescriptorByHash(e))),r}},{key:"getValueAtAddress",value:function(t,e){var r=this.objectAddressGetValue.getValueAtAddress(t,e);return void 0===r&&(r=this.getDefaultValue(this.getDescriptor(e))),r}},{key:"setValueByHash",value:function(t,e,r){return this.setValueAtAddress(t,this.resolveHashAddress(e),r)}},{key:"setValueAtAddress",value:function(t,e,r){return this.objectAddressSetValue.setValueAtAddress(t,e,r)}},{key:"deleteValueByHash",value:function(t,e,r){return this.deleteValueAtAddress(t,this.resolveHashAddress(e),r)}},{key:"deleteValueAtAddress",value:function(t,e,r){return this.objectAddressDeleteValue.deleteValueAtAddress(t,e,r)}},{key:"validate",value:function(t){var e={Error:null,Errors:[],MissingElements:[]};"object"!==_typeof(t)&&(e.Error=!0,e.Errors.push("Expected passed in object to be type object but was passed in ".concat(_typeof(t))));for(var r=function(t,r){e.Error=!0,e.Errors.push('Element at address "'.concat(t,'" ').concat(r,"."))},n=0;n<this.elementAddresses.length;n++){var i=this.getDescriptor(this.elementAddresses[n]),o=this.checkAddressExists(t,i.Address),a=this.getValueAtAddress(t,i.Address);if(void 0!==a&&o||(e.MissingElements.push(i.Address),(i.Required||this.options.strict)&&r(i.Address,"is flagged REQUIRED but is not set in the object")),i.DataType){var s=_typeof(a);switch(i.DataType.toString().trim().toLowerCase()){case"string":"string"!=s&&r(i.Address,"has a DataType ".concat(i.DataType," but is of the type ").concat(s));break;case"number":"number"!=s&&r(i.Address,"has a DataType ".concat(i.DataType," but is of the type ").concat(s));break;case"integer":if("number"!=s)r(i.Address,"has a DataType ".concat(i.DataType," but is of the type ").concat(s));else a.toString().indexOf(".")>-1&&r(i.Address,"has a DataType ".concat(i.DataType," but has a decimal point in the number."));break;case"float":"number"!=s&&r(i.Address,"has a DataType ".concat(i.DataType," but is of the type ").concat(s));break;case"DateTime":"Invalid Date"==new Date(a).toString()&&r(i.Address,"has a DataType ".concat(i.DataType," but is not parsable as a Date by Javascript"));default:"string"!=s&&r(i.Address,"has a DataType ".concat(i.DataType," (which auto-converted to String because it was unrecognized) but is of the type ").concat(s))}}}return e}},{key:"getDefaultValue",value:function(t){if("object"==_typeof(t)){if(t.hasOwnProperty("Default"))return t.Default;var e=t.hasOwnProperty("DataType")?t.DataType:"String";return this.options.defaultValues.hasOwnProperty(e)?this.options.defaultValues[e]:null}}},{key:"populateDefaults",value:function(t,e){return this.populateObject(t,e,(function(t){return t.hasOwnProperty("Default")}))}},{key:"populateObject",value:function(t,e,r){var n=this,i="object"===_typeof(t)?t:{},o=void 0!==e&&e,a="function"==typeof r?r:function(t){return!0};return this.elementAddresses.forEach((function(t){var e=n.getDescriptor(t);a(e)&&(!o&&n.checkAddressExists(i,t)||n.setValueAtAddress(i,t,n.getDefaultValue(e)))})),i}}]),r}(n);e.exports=p},{"./Manyfest-HashTranslation.js":80,"./Manyfest-LogToConsole.js":81,"./Manyfest-ObjectAddress-CheckAddressExists.js":82,"./Manyfest-ObjectAddress-DeleteValue.js":83,"./Manyfest-ObjectAddress-GetValue.js":84,"./Manyfest-ObjectAddress-SetValue.js":85,"./Manyfest-ObjectAddressGeneration.js":86,"./Manyfest-SchemaManipulation.js":88,"fable-serviceproviderbase":44}],90:[function(t,e,r){(function(r){(function(){var n="function"==typeof Map&&Map.prototype,i=Object.getOwnPropertyDescriptor&&n?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,o=n&&i&&"function"==typeof i.get?i.get:null,a=n&&Map.prototype.forEach,s="function"==typeof Set&&Set.prototype,c=Object.getOwnPropertyDescriptor&&s?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,u=s&&c&&"function"==typeof c.get?c.get:null,l=s&&Set.prototype.forEach,f="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,h="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,p="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,d=Boolean.prototype.valueOf,y=Object.prototype.toString,g=Function.prototype.toString,v=String.prototype.match,m=String.prototype.slice,b=String.prototype.replace,w=String.prototype.toUpperCase,S=String.prototype.toLowerCase,T=RegExp.prototype.test,_=Array.prototype.concat,A=Array.prototype.join,P=Array.prototype.slice,C=Math.floor,k="function"==typeof BigInt?BigInt.prototype.valueOf:null,E=Object.getOwnPropertySymbols,O="function"==typeof Symbol&&"symbol"===_typeof(Symbol.iterator)?Symbol.prototype.toString:null,M="function"==typeof Symbol&&"object"===_typeof(Symbol.iterator),D="function"==typeof Symbol&&Symbol.toStringTag&&(_typeof(Symbol.toStringTag)===M||"symbol")?Symbol.toStringTag:null,R=Object.prototype.propertyIsEnumerable,j=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function x(t,e){if(t===1/0||t===-1/0||t!=t||t&&t>-1e3&&t<1e3||T.call(/e/,e))return e;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof t){var n=t<0?-C(-t):C(t);if(n!==t){var i=String(n),o=m.call(e,i.length+1);return b.call(i,r,"$&_")+"."+b.call(b.call(o,/([0-9]{3})/g,"$&_"),/_$/,"")}}return b.call(e,r,"$&_")}var I=t("./util.inspect"),L=I.custom,N=V(L)?L:null;function B(t,e,r){var n="double"===(r.quoteStyle||e)?'"':"'";return n+t+n}function F(t){return b.call(String(t),/"/g,"&quot;")}function U(t){return!("[object Array]"!==$(t)||D&&"object"===_typeof(t)&&D in t)}function H(t){return!("[object RegExp]"!==$(t)||D&&"object"===_typeof(t)&&D in t)}function V(t){if(M)return t&&"object"===_typeof(t)&&t instanceof Symbol;if("symbol"===_typeof(t))return!0;if(!t||"object"!==_typeof(t)||!O)return!1;try{return O.call(t),!0}catch(t){}return!1}e.exports=function t(e,n,i,s){var c=n||{};if(W(c,"quoteStyle")&&"single"!==c.quoteStyle&&"double"!==c.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(W(c,"maxStringLength")&&("number"==typeof c.maxStringLength?c.maxStringLength<0&&c.maxStringLength!==1/0:null!==c.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var y=!W(c,"customInspect")||c.customInspect;if("boolean"!=typeof y&&"symbol"!==y)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(W(c,"indent")&&null!==c.indent&&"\t"!==c.indent&&!(parseInt(c.indent,10)===c.indent&&c.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(W(c,"numericSeparator")&&"boolean"!=typeof c.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var w=c.numericSeparator;if(void 0===e)return"undefined";if(null===e)return"null";if("boolean"==typeof e)return e?"true":"false";if("string"==typeof e)return J(e,c);if("number"==typeof e){if(0===e)return 1/0/e>0?"0":"-0";var T=String(e);return w?x(e,T):T}if("bigint"==typeof e){var C=String(e)+"n";return w?x(e,C):C}var E=void 0===c.depth?5:c.depth;if(void 0===i&&(i=0),i>=E&&E>0&&"object"===_typeof(e))return U(e)?"[Array]":"[Object]";var L=function(t,e){var r;if("\t"===t.indent)r="\t";else{if(!("number"==typeof t.indent&&t.indent>0))return null;r=A.call(Array(t.indent+1)," ")}return{base:r,prev:A.call(Array(e+1),r)}}(c,i);if(void 0===s)s=[];else if(q(s,e)>=0)return"[Circular]";function z(e,r,n){if(r&&(s=P.call(s)).push(r),n){var o={depth:c.depth};return W(c,"quoteStyle")&&(o.quoteStyle=c.quoteStyle),t(e,o,i+1,s)}return t(e,c,i+1,s)}if("function"==typeof e&&!H(e)){var G=function(t){if(t.name)return t.name;var e=v.call(g.call(t),/^function\s*([\w$]+)/);if(e)return e[1];return null}(e),tt=Z(e,z);return"[Function"+(G?": "+G:" (anonymous)")+"]"+(tt.length>0?" { "+A.call(tt,", ")+" }":"")}if(V(e)){var et=M?b.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):O.call(e);return"object"!==_typeof(e)||M?et:Y(et)}if(function(t){if(!t||"object"!==_typeof(t))return!1;if("undefined"!=typeof HTMLElement&&t instanceof HTMLElement)return!0;return"string"==typeof t.nodeName&&"function"==typeof t.getAttribute}(e)){for(var rt="<"+S.call(String(e.nodeName)),nt=e.attributes||[],it=0;it<nt.length;it++)rt+=" "+nt[it].name+"="+B(F(nt[it].value),"double",c);return rt+=">",e.childNodes&&e.childNodes.length&&(rt+="..."),rt+="</"+S.call(String(e.nodeName))+">"}if(U(e)){if(0===e.length)return"[]";var ot=Z(e,z);return L&&!function(t){for(var e=0;e<t.length;e++)if(q(t[e],"\n")>=0)return!1;return!0}(ot)?"["+X(ot,L)+"]":"[ "+A.call(ot,", ")+" ]"}if(function(t){return!("[object Error]"!==$(t)||D&&"object"===_typeof(t)&&D in t)}(e)){var at=Z(e,z);return"cause"in Error.prototype||!("cause"in e)||R.call(e,"cause")?0===at.length?"["+String(e)+"]":"{ ["+String(e)+"] "+A.call(at,", ")+" }":"{ ["+String(e)+"] "+A.call(_.call("[cause]: "+z(e.cause),at),", ")+" }"}if("object"===_typeof(e)&&y){if(N&&"function"==typeof e[N]&&I)return I(e,{depth:E-i});if("symbol"!==y&&"function"==typeof e.inspect)return e.inspect()}if(function(t){if(!o||!t||"object"!==_typeof(t))return!1;try{o.call(t);try{u.call(t)}catch(t){return!0}return t instanceof Map}catch(t){}return!1}(e)){var st=[];return a&&a.call(e,(function(t,r){st.push(z(r,e,!0)+" => "+z(t,e))})),K("Map",o.call(e),st,L)}if(function(t){if(!u||!t||"object"!==_typeof(t))return!1;try{u.call(t);try{o.call(t)}catch(t){return!0}return t instanceof Set}catch(t){}return!1}(e)){var ct=[];return l&&l.call(e,(function(t){ct.push(z(t,e))})),K("Set",u.call(e),ct,L)}if(function(t){if(!f||!t||"object"!==_typeof(t))return!1;try{f.call(t,f);try{h.call(t,h)}catch(t){return!0}return t instanceof WeakMap}catch(t){}return!1}(e))return Q("WeakMap");if(function(t){if(!h||!t||"object"!==_typeof(t))return!1;try{h.call(t,h);try{f.call(t,f)}catch(t){return!0}return t instanceof WeakSet}catch(t){}return!1}(e))return Q("WeakSet");if(function(t){if(!p||!t||"object"!==_typeof(t))return!1;try{return p.call(t),!0}catch(t){}return!1}(e))return Q("WeakRef");if(function(t){return!("[object Number]"!==$(t)||D&&"object"===_typeof(t)&&D in t)}(e))return Y(z(Number(e)));if(function(t){if(!t||"object"!==_typeof(t)||!k)return!1;try{return k.call(t),!0}catch(t){}return!1}(e))return Y(z(k.call(e)));if(function(t){return!("[object Boolean]"!==$(t)||D&&"object"===_typeof(t)&&D in t)}(e))return Y(d.call(e));if(function(t){return!("[object String]"!==$(t)||D&&"object"===_typeof(t)&&D in t)}(e))return Y(z(String(e)));if("undefined"!=typeof window&&e===window)return"{ [object Window] }";if(e===r)return"{ [object globalThis] }";if(!function(t){return!("[object Date]"!==$(t)||D&&"object"===_typeof(t)&&D in t)}(e)&&!H(e)){var ut=Z(e,z),lt=j?j(e)===Object.prototype:e instanceof Object||e.constructor===Object,ft=e instanceof Object?"":"null prototype",ht=!lt&&D&&Object(e)===e&&D in e?m.call($(e),8,-1):ft?"Object":"",pt=(lt||"function"!=typeof e.constructor?"":e.constructor.name?e.constructor.name+" ":"")+(ht||ft?"["+A.call(_.call([],ht||[],ft||[]),": ")+"] ":"");return 0===ut.length?pt+"{}":L?pt+"{"+X(ut,L)+"}":pt+"{ "+A.call(ut,", ")+" }"}return String(e)};var z=Object.prototype.hasOwnProperty||function(t){return t in this};function W(t,e){return z.call(t,e)}function $(t){return y.call(t)}function q(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}function J(t,e){if(t.length>e.maxStringLength){var r=t.length-e.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return J(m.call(t,0,e.maxStringLength),e)+n}return B(b.call(b.call(t,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,G),"single",e)}function G(t){var e=t.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return r?"\\"+r:"\\x"+(e<16?"0":"")+w.call(e.toString(16))}function Y(t){return"Object("+t+")"}function Q(t){return t+" { ? }"}function K(t,e,r,n){return t+" ("+e+") {"+(n?X(r,n):A.call(r,", "))+"}"}function X(t,e){if(0===t.length)return"";var r="\n"+e.prev+e.base;return r+A.call(t,","+r)+"\n"+e.prev}function Z(t,e){var r=U(t),n=[];if(r){n.length=t.length;for(var i=0;i<t.length;i++)n[i]=W(t,i)?e(t[i],t):""}var o,a="function"==typeof E?E(t):[];if(M){o={};for(var s=0;s<a.length;s++)o["$"+a[s]]=a[s]}for(var c in t)W(t,c)&&(r&&String(Number(c))===c&&c<t.length||M&&o["$"+c]instanceof Symbol||(T.call(/[^\w$]/,c)?n.push(e(c,t)+": "+e(t[c],t)):n.push(c+": "+e(t[c],t))));if("function"==typeof E)for(var u=0;u<a.length;u++)R.call(t,a[u])&&n.push("["+e(a[u])+"]: "+e(t[a[u]],t));return n}}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./util.inspect":18}],91:[function(t,e,r){var n=t("wrappy");function i(t){var e=function e(){return e.called?e.value:(e.called=!0,e.value=t.apply(this,arguments))};return e.called=!1,e}function o(t){var e=function e(){if(e.called)throw new Error(e.onceError);return e.called=!0,e.value=t.apply(this,arguments)},r=t.name||"Function wrapped with `once`";return e.onceError=r+" shouldn't be called more than once",e.called=!1,e}e.exports=n(i),e.exports.strict=n(o),i.proto=i((function(){Object.defineProperty(Function.prototype,"once",{value:function(){return i(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return o(this)},configurable:!0})}))},{wrappy:136}],92:[function(t,e,r){(function(t){(function(){function r(t){if("string"!=typeof t)throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}function n(t,e){for(var r,n="",i=0,o=-1,a=0,s=0;s<=t.length;++s){if(s<t.length)r=t.charCodeAt(s);else{if(47===r)break;r=47}if(47===r){if(o===s-1||1===a);else if(o!==s-1&&2===a){if(n.length<2||2!==i||46!==n.charCodeAt(n.length-1)||46!==n.charCodeAt(n.length-2))if(n.length>2){var c=n.lastIndexOf("/");if(c!==n.length-1){-1===c?(n="",i=0):i=(n=n.slice(0,c)).length-1-n.lastIndexOf("/"),o=s,a=0;continue}}else if(2===n.length||1===n.length){n="",i=0,o=s,a=0;continue}e&&(n.length>0?n+="/..":n="..",i=2)}else n.length>0?n+="/"+t.slice(o+1,s):n=t.slice(o+1,s),i=s-o-1;o=s,a=0}else 46===r&&-1!==a?++a:a=-1}return n}var i={resolve:function(){for(var e,i="",o=!1,a=arguments.length-1;a>=-1&&!o;a--){var s;a>=0?s=arguments[a]:(void 0===e&&(e=t.cwd()),s=e),r(s),0!==s.length&&(i=s+"/"+i,o=47===s.charCodeAt(0))}return i=n(i,!o),o?i.length>0?"/"+i:"/":i.length>0?i:"."},normalize:function(t){if(r(t),0===t.length)return".";var e=47===t.charCodeAt(0),i=47===t.charCodeAt(t.length-1);return 0!==(t=n(t,!e)).length||e||(t="."),t.length>0&&i&&(t+="/"),e?"/"+t:t},isAbsolute:function(t){return r(t),t.length>0&&47===t.charCodeAt(0)},join:function(){if(0===arguments.length)return".";for(var t,e=0;e<arguments.length;++e){var n=arguments[e];r(n),n.length>0&&(void 0===t?t=n:t+="/"+n)}return void 0===t?".":i.normalize(t)},relative:function(t,e){if(r(t),r(e),t===e)return"";if((t=i.resolve(t))===(e=i.resolve(e)))return"";for(var n=1;n<t.length&&47===t.charCodeAt(n);++n);for(var o=t.length,a=o-n,s=1;s<e.length&&47===e.charCodeAt(s);++s);for(var c=e.length-s,u=a<c?a:c,l=-1,f=0;f<=u;++f){if(f===u){if(c>u){if(47===e.charCodeAt(s+f))return e.slice(s+f+1);if(0===f)return e.slice(s+f)}else a>u&&(47===t.charCodeAt(n+f)?l=f:0===f&&(l=0));break}var h=t.charCodeAt(n+f);if(h!==e.charCodeAt(s+f))break;47===h&&(l=f)}var p="";for(f=n+l+1;f<=o;++f)f!==o&&47!==t.charCodeAt(f)||(0===p.length?p+="..":p+="/..");return p.length>0?p+e.slice(s+l):(s+=l,47===e.charCodeAt(s)&&++s,e.slice(s))},_makeLong:function(t){return t},dirname:function(t){if(r(t),0===t.length)return".";for(var e=t.charCodeAt(0),n=47===e,i=-1,o=!0,a=t.length-1;a>=1;--a)if(47===(e=t.charCodeAt(a))){if(!o){i=a;break}}else o=!1;return-1===i?n?"/":".":n&&1===i?"//":t.slice(0,i)},basename:function(t,e){if(void 0!==e&&"string"!=typeof e)throw new TypeError('"ext" argument must be a string');r(t);var n,i=0,o=-1,a=!0;if(void 0!==e&&e.length>0&&e.length<=t.length){if(e.length===t.length&&e===t)return"";var s=e.length-1,c=-1;for(n=t.length-1;n>=0;--n){var u=t.charCodeAt(n);if(47===u){if(!a){i=n+1;break}}else-1===c&&(a=!1,c=n+1),s>=0&&(u===e.charCodeAt(s)?-1==--s&&(o=n):(s=-1,o=c))}return i===o?o=c:-1===o&&(o=t.length),t.slice(i,o)}for(n=t.length-1;n>=0;--n)if(47===t.charCodeAt(n)){if(!a){i=n+1;break}}else-1===o&&(a=!1,o=n+1);return-1===o?"":t.slice(i,o)},extname:function(t){r(t);for(var e=-1,n=0,i=-1,o=!0,a=0,s=t.length-1;s>=0;--s){var c=t.charCodeAt(s);if(47!==c)-1===i&&(o=!1,i=s+1),46===c?-1===e?e=s:1!==a&&(a=1):-1!==e&&(a=-1);else if(!o){n=s+1;break}}return-1===e||-1===i||0===a||1===a&&e===i-1&&e===n+1?"":t.slice(e,i)},format:function(t){if(null===t||"object"!==_typeof(t))throw new TypeError('The "pathObject" argument must be of type Object. Received type '+_typeof(t));return function(t,e){var r=e.dir||e.root,n=e.base||(e.name||"")+(e.ext||"");return r?r===e.root?r+n:r+t+n:n}("/",t)},parse:function(t){r(t);var e={root:"",dir:"",base:"",ext:"",name:""};if(0===t.length)return e;var n,i=t.charCodeAt(0),o=47===i;o?(e.root="/",n=1):n=0;for(var a=-1,s=0,c=-1,u=!0,l=t.length-1,f=0;l>=n;--l)if(47!==(i=t.charCodeAt(l)))-1===c&&(u=!1,c=l+1),46===i?-1===a?a=l:1!==f&&(f=1):-1!==a&&(f=-1);else if(!u){s=l+1;break}return-1===a||-1===c||0===f||1===f&&a===c-1&&a===s+1?-1!==c&&(e.base=e.name=0===s&&o?t.slice(1,c):t.slice(s,c)):(0===s&&o?(e.name=t.slice(1,a),e.base=t.slice(1,c)):(e.name=t.slice(s,a),e.base=t.slice(s,c)),e.ext=t.slice(a,c)),s>0?e.dir=t.slice(0,s-1):o&&(e.dir="/"),e},sep:"/",delimiter:":",win32:null,posix:null};i.posix=i,e.exports=i}).call(this)}).call(this,t("_process"))},{_process:98}],93:[function(t,e,r){var n=t("fable-serviceproviderbase"),i={Name:"DefaultPictApplication",MainViewportViewIdentifier:"Default-View",MainViewportRenderableHash:!1,MainViewportDestinationAddress:!1,MainViewportDefaultDataAddress:!1,AutoSolveAfterInitialize:!0,AutoRenderMainViewportViewAfterInitialize:!0,Manifests:{},IdentifierAddressPrefix:"PICT-"},o=function(t){_inherits(r,t);var e=_createSuper(r);function r(t,n,o){var a;_classCallCheck2(this,r);var s=Object.assign({},JSON.parse(JSON.stringify(i)),n);(a=e.call(this,t,s,o)).serviceType="PictApplication",a.pict=a.fable,a.AppData=a.fable.AppData,a.initializeTimestamp=!1,a.lastSolvedTimestamp=!1,a.lastMarshalFromViewsTimestamp=!1,a.lastMarshalToViewsTimestamp=!1;var c=Object.keys(a.options.Manifests);if(c.length>0)for(var u=0;u<c.length;u++){var l=c[u];a.fable.instantiateServiceProvider("Manifest",a.options.Manifests[l],l)}return a}return _createClass2(r,[{key:"onBeforeSolve",value:function(){return this.pict.LogNoisiness>3&&this.log.trace("PictApp [".concat(this.UUID,"]::[").concat(this.Hash,"] ").concat(this.options.Name," onBeforeSolve:")),!0}},{key:"onBeforeSolveAsync",value:function(t){return this.onBeforeSolve(),t()}},{key:"onSolve",value:function(){return this.pict.LogNoisiness>3&&this.log.trace("PictApp [".concat(this.UUID,"]::[").concat(this.Hash,"] ").concat(this.options.Name," onSolve:")),!0}},{key:"onSolveAsync",value:function(t){return this.onSolve(),t()}},{key:"solve",value:function(){this.pict.LogNoisiness>2&&this.log.trace("PictApp [".concat(this.UUID,"]::[").concat(this.Hash,"] ").concat(this.options.Name," executing solve() function...")),this.onBeforeSolve();for(var t=Object.keys(this.pict.views),e=[],r=0;r<t.length;r++){var n=this.pict.views[t[r]];n.options.AutoInitialize&&e.push(n)}e.sort((function(t,e){return t.options.AutoInitializeOrdinal-e.options.AutoInitializeOrdinal}));for(var i=0;i<e.length;i++)e[i].solve();return this.onSolve(),this.onAfterSolve(),this.lastSolvedTimestamp=this.fable.log.getTimeStamp(),!0}},{key:"solveAsync",value:function(t){var e=this,r=this.fable.instantiateServiceProviderWithoutRegistration("Anticipate");r.anticipate(this.onBeforeSolveAsync.bind(this));for(var n=Object.keys(this.pict.views),i=[],o=0;o<n.length;o++){var a=this.pict.views[n[o]];a.options.AutoSolveWithApp&&i.push(a)}i.sort((function(t,e){return t.options.AutoSolveOrdinal-e.options.AutoSolveOrdinal}));for(var s=0;s<i.length;s++)r.anticipate(i[s].solveAsync.bind(i[s]));r.anticipate(this.onSolveAsync.bind(this)),r.anticipate(this.onAfterSolveAsync.bind(this)),r.wait((function(r){return e.pict.LogNoisiness>2&&e.log.trace("PictApp [".concat(e.UUID,"]::[").concat(e.Hash,"] ").concat(e.options.Name," solveAsync() complete.")),e.lastSolvedTimestamp=e.fable.log.getTimeStamp(),t(r)}))}},{key:"onAfterSolve",value:function(){return this.pict.LogNoisiness>3&&this.log.trace("PictApp [".concat(this.UUID,"]::[").concat(this.Hash,"] ").concat(this.options.Name," onAfterSolve:")),!0}},{key:"onAfterSolveAsync",value:function(t){return this.onAfterSolve(),t()}},{key:"onBeforeInitialize",value:function(){return this.pict.LogNoisiness>3&&this.log.trace("PictApp [".concat(this.UUID,"]::[").concat(this.Hash,"] ").concat(this.options.Name," onBeforeInitialize:")),!0}},{key:"onBeforeInitializeAsync",value:function(t){return this.onBeforeInitialize(),t()}},{key:"onInitialize",value:function(){return this.pict.LogNoisiness>3&&this.log.trace("PictApp [".concat(this.UUID,"]::[").concat(this.Hash,"] ").concat(this.options.Name," onInitialize:")),!0}},{key:"onInitializeAsync",value:function(t){return this.onInitialize(),t()}},{key:"initialize",value:function(){if(this.initializeTimestamp)return this.log.warn("PictApp [".concat(this.UUID,"]::[").concat(this.Hash,"] ").concat(this.options.Name," initialize called but initialization is already completed.  Aborting.")),!1;this.onBeforeInitialize(),this.onInitialize();for(var t=Object.keys(this.pict.views),e=[],r=0;r<t.length;r++){var n=this.pict.views[t[r]];n.options.AutoInitialize&&e.push(n)}e.sort((function(t,e){return t.options.AutoInitializeOrdinal-e.options.AutoInitializeOrdinal}));for(var i=0;i<e.length;i++)e[i].initialize();return this.onAfterInitialize(),this.options.AutoSolveAfterInitialize&&(this.pict.LogNoisiness>1&&this.log.trace("PictApp [".concat(this.UUID,"]::[").concat(this.Hash,"] ").concat(this.options.Name," auto solving after initialization...")),this.solve()),this.options.AutoRenderMainViewportViewAfterInitialize&&(this.pict.LogNoisiness>1&&this.log.trace("PictApp [".concat(this.UUID,"]::[").concat(this.Hash,"] ").concat(this.options.Name," auto rendering after initialization...")),this.render()),this.initializeTimestamp=this.fable.log.getTimeStamp(),!0}},{key:"initializeAsync",value:function(t){var e=this;if(this.initializeTimestamp)return this.log.warn("PictApp [".concat(this.UUID,"]::[").concat(this.Hash,"] ").concat(this.options.Name," async initialize called but initialization is already completed.  Aborting.")),fCallback();var r=this.fable.instantiateServiceProviderWithoutRegistration("Anticipate");this.pict.LogNoisiness>3&&this.log.trace("PictApp [".concat(this.UUID,"]::[").concat(this.Hash,"] ").concat(this.options.Name," beginning initialization...")),r.anticipate(this.onBeforeInitializeAsync.bind(this)),r.anticipate(this.onInitializeAsync.bind(this));for(var n=Object.keys(this.pict.views),i=[],o=0;o<n.length;o++){var a=this.pict.views[n[o]];a.options.AutoInitialize&&i.push(a)}i.sort((function(t,e){return t.options.AutoInitializeOrdinal-e.options.AutoInitializeOrdinal}));for(var s=0;s<i.length;s++){var c=i[s];r.anticipate(c.initializeAsync.bind(c))}r.anticipate(this.onAfterInitializeAsync.bind(this)),this.options.AutoSolveAfterInitialize&&(this.pict.LogNoisiness>1&&this.log.trace("PictApp [".concat(this.UUID,"]::[").concat(this.Hash,"] ").concat(this.options.Name," auto solving (asynchronously) after initialization...")),r.anticipate(this.solveAsync.bind(this))),this.options.AutoRenderMainViewportViewAfterInitialize&&(this.pict.LogNoisiness>1&&this.log.trace("PictApp [".concat(this.UUID,"]::[").concat(this.Hash,"] ").concat(this.options.Name," auto rendering (asynchronously) after initialization...")),r.anticipate(this.renderMainViewportAsync.bind(this))),r.wait((function(r){return e.initializeTimestamp=e.fable.log.getTimeStamp(),e.pict.LogNoisiness>2&&e.log.trace("PictApp [".concat(e.UUID,"]::[").concat(e.Hash,"] ").concat(e.options.Name," initialization complete.")),t()}))}},{key:"onAfterInitialize",value:function(){return this.pict.LogNoisiness>3&&this.log.trace("PictApp [".concat(this.UUID,"]::[").concat(this.Hash,"] ").concat(this.options.Name," onAfterInitialize:")),!0}},{key:"onAfterInitializeAsync",value:function(t){return this.onAfterInitialize(),t()}},{key:"onBeforeMarshalFromViews",value:function(){return this.pict.LogNoisiness>3&&this.log.trace("PictApp [".concat(this.UUID,"]::[").concat(this.Hash,"] ").concat(this.options.Name," onBeforeMarshalFromViews:")),!0}},{key:"onBeforeMarshalFromViewsAsync",value:function(t){return this.onBeforeMarshalFromViews(),t()}},{key:"onMarshalFromViews",value:function(){return this.pict.LogNoisiness>3&&this.log.trace("PictApp [".concat(this.UUID,"]::[").concat(this.Hash,"] ").concat(this.options.Name," onMarshalFromViews:")),!0}},{key:"onMarshalFromViewsAsync",value:function(t){return this.onMarshalFromViews(),t()}},{key:"marshalFromViews",value:function(){this.pict.LogNoisiness>2&&this.log.trace("PictApp [".concat(this.UUID,"]::[").concat(this.Hash,"] ").concat(this.options.Name," executing marshalFromViews() function...")),this.onBeforeMarshalFromViews();for(var t=Object.keys(this.pict.views),e=[],r=0;r<t.length;r++){var n=this.pict.views[t[r]];e.push(n)}for(var i=0;i<e.length;i++)e[i].marshalFromView();return this.onMarshalFromViews(),this.onAfterMarshalFromViews(),this.lastMarshalFromViewsTimestamp=this.fable.log.getTimeStamp(),!0}},{key:"marshalFromViewsAsync",value:function(t){var e=this,r=this.fable.instantiateServiceProviderWithoutRegistration("Anticipate");r.anticipate(this.onBeforeMarshalFromViewsAsync.bind(this));for(var n=Object.keys(this.pict.views),i=[],o=0;o<n.length;o++){var a=this.pict.views[n[o]];i.push(a)}for(var s=0;s<i.length;s++)r.anticipate(i[s].marshalFromViewAsync.bind(i[s]));r.anticipate(this.onMarshalFromViewsAsync.bind(this)),r.anticipate(this.onAfterMarshalFromViewsAsync.bind(this)),r.wait((function(r){return e.pict.LogNoisiness>2&&e.log.trace("PictApp [".concat(e.UUID,"]::[").concat(e.Hash,"] ").concat(e.options.Name," marshalFromViewsAsync() complete.")),e.lastMarshalFromViewsTimestamp=e.fable.log.getTimeStamp(),t(r)}))}},{key:"onAfterMarshalFromViews",value:function(){return this.pict.LogNoisiness>3&&this.log.trace("PictApp [".concat(this.UUID,"]::[").concat(this.Hash,"] ").concat(this.options.Name," onAfterMarshalFromViews:")),!0}},{key:"onAfterMarshalFromViewsAsync",value:function(t){return this.onAfterMarshalFromViews(),t()}},{key:"onBeforeMarshalToViews",value:function(){return this.pict.LogNoisiness>3&&this.log.trace("PictApp [".concat(this.UUID,"]::[").concat(this.Hash,"] ").concat(this.options.Name," onBeforeMarshalToViews:")),!0}},{key:"onBeforeMarshalToViewsAsync",value:function(t){return this.onBeforeMarshalToViews(),t()}},{key:"onMarshalToViews",value:function(){return this.pict.LogNoisiness>3&&this.log.trace("PictApp [".concat(this.UUID,"]::[").concat(this.Hash,"] ").concat(this.options.Name," onMarshalToViews:")),!0}},{key:"onMarshalToViewsAsync",value:function(t){return this.onMarshalToViews(),t()}},{key:"marshalToViews",value:function(){this.pict.LogNoisiness>2&&this.log.trace("PictApp [".concat(this.UUID,"]::[").concat(this.Hash,"] ").concat(this.options.Name," executing marshalToViews() function...")),this.onBeforeMarshalToViews();for(var t=Object.keys(this.pict.views),e=[],r=0;r<t.length;r++){var n=this.pict.views[t[r]];e.push(n)}for(var i=0;i<e.length;i++)e[i].marshalToView();return this.onMarshalToViews(),this.onAfterMarshalToViews(),this.lastMarshalToViewsTimestamp=this.fable.log.getTimeStamp(),!0}},{key:"marshalToViewsAsync",value:function(t){var e=this,r=this.fable.instantiateServiceProviderWithoutRegistration("Anticipate");r.anticipate(this.onBeforeMarshalToViewsAsync.bind(this));for(var n=Object.keys(this.pict.views),i=[],o=0;o<n.length;o++){var a=this.pict.views[n[o]];i.push(a)}for(var s=0;s<i.length;s++)r.anticipate(i[s].marshalToViewAsync.bind(i[s]));r.anticipate(this.onMarshalToViewsAsync.bind(this)),r.anticipate(this.onAfterMarshalToViewsAsync.bind(this)),r.wait((function(r){return e.pict.LogNoisiness>2&&e.log.trace("PictApp [".concat(e.UUID,"]::[").concat(e.Hash,"] ").concat(e.options.Name," marshalToViewsAsync() complete.")),e.lastMarshalToViewsTimestamp=e.fable.log.getTimeStamp(),t(r)}))}},{key:"onAfterMarshalToViews",value:function(){return this.pict.LogNoisiness>3&&this.log.trace("PictApp [".concat(this.UUID,"]::[").concat(this.Hash,"] ").concat(this.options.Name," onAfterMarshalToViews:")),!0}},{key:"onAfterMarshalToViewsAsync",value:function(t){return this.onAfterMarshalToViews(),t()}},{key:"render",value:function(t,e,r,n){var i=void 0===t?this.options.MainViewportViewIdentifier:t,o=void 0===e?this.options.MainViewportRenderableHash:e,a=void 0===r?this.options.MainViewportDestinationAddress:r,s=void 0===n?this.options.MainViewportDefaultDataAddress:n,c="string"==typeof i&&this.servicesMap.PictView[i];return c?c.render(o,a,s):(this.log.error("PictApp [".concat(this.UUID,"]::[").concat(this.Hash,"] ").concat(this.options.Name," could not render from View ").concat(i," because it is not a valid view.")),!1)}},{key:"renderMainViewport",value:function(){return this.render(this.options.MainViewportViewIdentifier,this.options.MainViewportRenderableHash,this.options.MainViewportDestinationAddress,this.options.MainViewportDefaultDataAddress)}},{key:"renderAsync",value:function(t,e,r,n,i){var o=void 0===t?this.options.MainViewportViewIdentifier:t,a=void 0===e?this.options.MainViewportRenderableHash:e,s=void 0===r?this.options.MainViewportDestinationAddress:r,c=void 0===n?this.options.MainViewportDefaultDataAddress:n,u="string"==typeof o&&this.servicesMap.PictView[o];if(!u){var l="PictApp [".concat(this.UUID,"]::[").concat(this.Hash,"] ").concat(this.options.Name," could not asynchronously render from View ").concat(o," because it is not a valid view.");return this.pict.LogNoisiness>3&&this.log.error(l),i(new Error(l))}return u.renderAsync(a,s,c,i)}},{key:"renderMainViewportAsync",value:function(t){return this.renderAsync(this.options.MainViewportViewIdentifier,this.options.MainViewportRenderableHash,this.options.MainViewportDestinationAddress,this.options.MainViewportDefaultDataAddress,t)}}]),r}(n);e.exports=o},{"fable-serviceproviderbase":44}],94:[function(t,e,r){var n=t("fable-serviceproviderbase"),i={DefaultRenderable:!1,DefaultDestinationAddress:!1,DefaultTemplateRecordAddress:!1,ViewIdentifier:!1,AutoInitialize:!0,AutoInitializeOrdinal:0,AutoRender:!0,AutoRenderOrdinal:0,AutoSolveWithApp:!0,AutoSolveOrdinal:0,CSSHash:!1,CSS:!1,CSSProvider:!1,CSSPriority:500,Templates:[],DefaultTemplates:[],Renderables:[],Manifests:{}},o=function(t){_inherits(r,t);var e=_createSuper(r);function r(t,n,o){var a;_classCallCheck2(this,r);var s=Object.assign({},JSON.parse(JSON.stringify(i)),n);(a=e.call(this,t,s,o)).options.ViewIdentifier||(a.options.ViewIdentifier="AutoViewID-".concat(a.fable.getUUID())),a.serviceType="PictView",a.pict=a.fable,a.AppData=a.pict.AppData,a.initializeTimestamp=!1,a.lastSolvedTimestamp=!1,a.lastRenderedTimestamp=!1,a.lastMarshalFromViewTimestamp=!1,a.lastMarshalToViewTimestamp=!1;for(var c=0;c<a.options.Templates.length;c++){var u=a.options.Templates[c];u.hasOwnProperty("Hash")&&u.hasOwnProperty("Template")?(u.Source||(u.Source="PictView [".concat(a.UUID,"]::[").concat(a.Hash,"] ").concat(a.options.ViewIdentifier," options object.")),a.pict.TemplateProvider.addTemplate(u.Hash,u.Template,u.Source)):a.log.error("PictView [".concat(a.UUID,"]::[").concat(a.Hash,"] ").concat(a.options.ViewIdentifier," could not load Template ").concat(c," in the options array."),u)}for(var l=0;l<a.options.DefaultTemplates.length;l++){var f=a.options.DefaultTemplates[l];f.hasOwnProperty("Postfix")&&f.hasOwnProperty("Template")?(f.Source||(f.Source="PictView [".concat(a.UUID,"]::[").concat(a.Hash,"] ").concat(a.options.ViewIdentifier," options object.")),a.pict.TemplateProvider.addDefaultTemplate(f.Prefix,f.Postfix,f.Template,f.Source)):a.log.error("PictView [".concat(a.UUID,"]::[").concat(a.Hash,"] ").concat(a.options.ViewIdentifier," could not load Default Template ").concat(l," in the options array."),f)}if(a.options.CSS){var h=a.options.CSSHash?a.options.CSSHash:"View-".concat(a.options.ViewIdentifier),p=a.options.CSSProvider?a.options.CSSProvider:h;a.pict.CSSMap.addCSS(h,a.options.CSS,p,a.options.CSSPriority)}a.renderables={};for(var d=0;d<a.options.Renderables.length;d++){a.options.Renderables[d];a.addRenderable(a.options.Renderables[d])}return a}return _createClass2(r,[{key:"addRenderable",value:function(t,e,r,n,i){var o=!1;"object"==_typeof(t)?o=t:o={RenderableHash:t,TemplateHash:e,DefaultTemplateDataAddress:r,DefaultDestinationAddress:n,RenderMethod:"string"!=typeof i?i:"replace"};"string"!=typeof o.RenderableHash||"string"!=typeof o.TemplateHash?this.log.error("PictView [".concat(this.UUID,"]::[").concat(this.Hash,"] ").concat(this.options.ViewIdentifier," could not load Renderable; RenderableHash or TemplateHash are invalid."),o):(this.pict.LogNoisiness>0&&this.log.trace("PictView [".concat(this.UUID,"]::[").concat(this.Hash,"] ").concat(this.options.ViewIdentifier," adding renderable [").concat(o.RenderableHash,"] pointed to template ").concat(o.TemplateHash,".")),this.renderables[o.RenderableHash]=o)}},{key:"onBeforeInitialize",value:function(){return this.pict.LogNoisiness>3&&this.log.trace("PictView [".concat(this.UUID,"]::[").concat(this.Hash,"] ").concat(this.options.ViewIdentifier," onBeforeInitialize:")),!0}},{key:"onBeforeInitializeAsync",value:function(t){return this.onBeforeInitialize(),t()}},{key:"onInitialize",value:function(){return this.pict.LogNoisiness>3&&this.log.trace("PictView [".concat(this.UUID,"]::[").concat(this.Hash,"] ").concat(this.options.ViewIdentifier," onInitialize:")),!0}},{key:"onInitializeAsync",value:function(t){return this.onInitialize(),t()}},{key:"initialize",value:function(){return this.initializeTimestamp?(this.log.warn("PictView [".concat(this.UUID,"]::[").concat(this.Hash,"] ").concat(this.options.ViewIdentifier," initialize called but initialization is already completed.  Aborting.")),!1):(this.onBeforeInitialize(),this.onInitialize(),this.onAfterInitialize(),this.initializeTimestamp=this.pict.log.getTimeStamp(),!0)}},{key:"initializeAsync",value:function(t){var e=this;if(this.initializeTimestamp)return this.log.warn("PictView [".concat(this.UUID,"]::[").concat(this.Hash,"] ").concat(this.options.ViewIdentifier," async initialize called but initialization is already completed.  Aborting.")),t();var r=this.pict.instantiateServiceProviderWithoutRegistration("Anticipate");this.pict.LogNoisiness>0&&this.log.info("PictView [".concat(this.UUID,"]::[").concat(this.Hash,"] ").concat(this.options.ViewIdentifier," beginning initialization...")),r.anticipate(this.onBeforeInitializeAsync.bind(this)),r.anticipate(this.onInitializeAsync.bind(this)),r.anticipate(this.onAfterInitializeAsync.bind(this)),r.wait((function(r){return e.initializeTimestamp=e.pict.log.getTimeStamp(),e.pict.LogNoisiness>0&&e.log.info("PictView [".concat(e.UUID,"]::[").concat(e.Hash,"] ").concat(e.options.ViewIdentifier," initialization complete.")),t()}))}},{key:"onAfterInitialize",value:function(){return this.pict.LogNoisiness>3&&this.log.trace("PictView [".concat(this.UUID,"]::[").concat(this.Hash,"] ").concat(this.options.ViewIdentifier," onAfterInitialize:")),!0}},{key:"onAfterInitializeAsync",value:function(t){return this.onAfterInitialize(),t()}},{key:"onBeforeRender",value:function(t,e,r){return this.pict.LogNoisiness>3&&this.log.trace("PictView [".concat(this.UUID,"]::[").concat(this.Hash,"] ").concat(this.options.ViewIdentifier," onBeforeRender:")),!0}},{key:"onBeforeRenderAsync",value:function(t){return this.onBeforeRender(pRenderable,pRenderDestinationAddress,pData),t()}},{key:"render",value:function(t,e,r){var n="string"==typeof t?t:"string"==typeof this.options.DefaultRenderable&&this.options.DefaultRenderable;if(!n)return this.log.error("PictView [".concat(this.UUID,"]::[").concat(this.Hash,"] ").concat(this.options.ViewIdentifier," could not render ").concat(n," (param ").concat(t,") because it is not a valid renderable.")),!1;var i=this.renderables[n];if(!i)return this.log.error("PictView [".concat(this.UUID,"]::[").concat(this.Hash,"] ").concat(this.options.ViewIdentifier," could not render ").concat(n," (param ").concat(t,") because it does not exist.")),!1;var o,a,s="string"==typeof e?e:"string"==typeof i.ContentDestinationAddress?i.ContentDestinationAddress:"string"==typeof this.options.DefaultDestinationAddress&&this.options.DefaultDestinationAddress;if(!s)return this.log.error("PictView [".concat(this.UUID,"]::[").concat(this.Hash,"] ").concat(this.options.ViewIdentifier," could not render ").concat(n," (param ").concat(t,") because it does not have a valid destination address.")),!1;"object"===_typeof(r)?(a=r,o="Passed in as object"):a="string"==typeof(o="string"==typeof r?r:"string"==typeof i.DefaultTemplateRecordAddress?i.DefaultTemplateRecordAddress:"string"==typeof this.options.DefaultTemplateRecordAddress&&this.options.DefaultTemplateRecordAddress)?this.pict.DataProvider.getDataByAddress(o):void 0,this.onBeforeRender(i,s,a);var c=this.pict.parseTemplateByHash(i.TemplateHash,a);switch(i.RenderMethod){case"append":this.pict.ContentAssignment.appendContent(s,c);break;case"prepend":this.pict.ContentAssignment.prependContent(s,c);break;case"append_once":this.pict.ContentAssignment.getElement("#".concat(n)).length<1&&this.pict.ContentAssignment.appendContent(s,c);default:this.pict.ContentAssignment.assignContent(s,c)}return this.onAfterRender(i,s,a,c),this.lastRenderedTimestamp=this.pict.log.getTimeStamp(),!0}},{key:"renderAsync",value:function(t,e,r,n){var i=this,o="string"==typeof t?t:"string"==typeof this.options.DefaultRenderable&&this.options.DefaultRenderable;if(!o)return this.log.error("PictView [".concat(this.UUID,"]::[").concat(this.Hash,"] ").concat(this.options.ViewIdentifier," could not asynchronously render ").concat(o," (param ").concat(t,"because it is not a valid renderable.")),n(Error("PictView [".concat(this.UUID,"]::[").concat(this.Hash,"] ").concat(this.options.ViewIdentifier," could not asynchronously render ").concat(o," (param ").concat(t,"because it is not a valid renderable.")));var a=this.renderables[o];if(!a)return this.log.error("PictView [".concat(this.UUID,"]::[").concat(this.Hash,"] ").concat(this.options.ViewIdentifier," could not render ").concat(o," (param ").concat(t,") because it does not exist.")),n(Error("PictView [".concat(this.UUID,"]::[").concat(this.Hash,"] ").concat(this.options.ViewIdentifier," could not render ").concat(o," (param ").concat(t,") because it does not exist.")));var s,c,u="string"==typeof e?e:"string"==typeof a.ContentDestinationAddress?a.ContentDestinationAddress:"string"==typeof this.options.DefaultDestinationAddress&&this.options.DefaultDestinationAddress;if(!u)return this.log.error("PictView [".concat(this.UUID,"]::[").concat(this.Hash,"] ").concat(this.options.ViewIdentifier," could not render ").concat(o," (param ").concat(t,") because it does not have a valid destination address.")),n(Error("Could not render ".concat(o)));"object"===_typeof(r)?(c=r,s="Passed in as object"):(s="string"==typeof r?r:"string"==typeof a.DefaultTemplateRecordAddress?a.DefaultTemplateRecordAddress:"string"==typeof this.options.DefaultTemplateRecordAddress&&this.options.DefaultTemplateRecordAddress,c="string"==typeof s?this.pict.DataProvider.getDataByAddress(s):void 0);var l=this.fable.newAnticipate();l.anticipate((function(t){i.onBeforeRenderAsync(a,u,c,(function(e){return t(e)}))})),l.anticipate((function(e){i.pict.parseTemplateByHash(a.TemplateHash,c,(function(r,n){if(r)return i.log.error("PictView [".concat(i.UUID,"]::[").concat(i.Hash,"] ").concat(i.options.ViewIdentifier," could not render (asynchronously) ").concat(o," (param ").concat(t,") because it did not parse the template."),r),e(r);switch(a.RenderMethod){case"append":i.pict.ContentAssignment.appendContent(u,n);break;case"prepend":i.pict.ContentAssignment.prependContent(u,n);break;case"append_once":i.pict.ContentAssignment.getElement("#".concat(o)).length<1&&i.pict.ContentAssignment.appendContent(u,n);default:i.pict.ContentAssignment.assignContent(u,n)}return i.lastRenderedTimestamp=i.pict.log.getTimeStamp(),i.onAfterRenderAsync(e,n)}))})),l.wait(n)}},{key:"onAfterRender",value:function(){return this.pict.LogNoisiness>3&&this.log.trace("PictView [".concat(this.UUID,"]::[").concat(this.Hash,"] ").concat(this.options.ViewIdentifier," onAfterRender:")),!0}},{key:"onAfterRenderAsync",value:function(t){return this.onAfterRender(),t()}},{key:"onBeforeSolve",value:function(){return this.pict.LogNoisiness>3&&this.log.trace("PictView [".concat(this.UUID,"]::[").concat(this.Hash,"] ").concat(this.options.ViewIdentifier," onBeforeSolve:")),!0}},{key:"onBeforeSolveAsync",value:function(t){return this.onBeforeSolve(),t()}},{key:"onSolve",value:function(){return this.pict.LogNoisiness>3&&this.log.trace("PictView [".concat(this.UUID,"]::[").concat(this.Hash,"] ").concat(this.options.ViewIdentifier," onSolve:")),!0}},{key:"onSolveAsync",value:function(t){return this.onSolve(),t()}},{key:"solve",value:function(){return this.pict.LogNoisiness>2&&this.log.trace("PictView [".concat(this.UUID,"]::[").concat(this.Hash,"] ").concat(this.options.ViewIdentifier," executing solve() function...")),this.onBeforeSolve(),this.onSolve(),this.onAfterSolve(),this.lastSolvedTimestamp=this.pict.log.getTimeStamp(),!0}},{key:"solveAsync",value:function(t){var e=this,r=this.pict.instantiateServiceProviderWithoutRegistration("Anticipate");r.anticipate(this.onBeforeSolveAsync.bind(this)),r.anticipate(this.onSolveAsync.bind(this)),r.anticipate(this.onAfterSolveAsync.bind(this)),r.wait((function(r){return e.pict.LogNoisiness>2&&e.log.trace("PictView [".concat(e.UUID,"]::[").concat(e.Hash,"] ").concat(e.options.ViewIdentifier," solveAsync() complete.")),e.lastSolvedTimestamp=e.pict.log.getTimeStamp(),t(r)}))}},{key:"onAfterSolve",value:function(){return this.pict.LogNoisiness>3&&this.log.trace("PictView [".concat(this.UUID,"]::[").concat(this.Hash,"] ").concat(this.options.ViewIdentifier," onAfterSolve:")),!0}},{key:"onAfterSolveAsync",value:function(t){return this.onAfterSolve(),t()}},{key:"onBeforeMarshalFromView",value:function(){return this.pict.LogNoisiness>3&&this.log.trace("PictView [".concat(this.UUID,"]::[").concat(this.Hash,"] ").concat(this.options.ViewIdentifier," onBeforeMarshalFromView:")),!0}},{key:"onBeforeMarshalFromViewAsync",value:function(t){return this.onBeforeMarshalFromView(),t()}},{key:"onMarshalFromView",value:function(){return this.pict.LogNoisiness>3&&this.log.trace("PictView [".concat(this.UUID,"]::[").concat(this.Hash,"] ").concat(this.options.ViewIdentifier," onMarshalFromView:")),!0}},{key:"onMarshalFromViewAsync",value:function(t){return this.onMarshalFromView(),t()}},{key:"marshalFromView",value:function(){return this.pict.LogNoisiness>2&&this.log.trace("PictView [".concat(this.UUID,"]::[").concat(this.Hash,"] ").concat(this.options.ViewIdentifier," executing solve() function...")),this.onBeforeMarshalFromView(),this.onMarshalFromView(),this.onAfterMarshalFromView(),this.lastMarshalFromViewTimestamp=this.pict.log.getTimeStamp(),!0}},{key:"marshalFromViewAsync",value:function(t){var e=this,r=this.pict.instantiateServiceProviderWithoutRegistration("Anticipate");r.anticipate(this.onBeforeMarshalFromViewAsync.bind(this)),r.anticipate(this.onMarshalFromViewAsync.bind(this)),r.anticipate(this.onAfterMarshalFromViewAsync.bind(this)),r.wait((function(r){return e.pict.LogNoisiness>2&&e.log.trace("PictView [".concat(e.UUID,"]::[").concat(e.Hash,"] ").concat(e.options.ViewIdentifier," solveAsync() complete.")),e.lastMarshalFromViewTimestamp=e.pict.log.getTimeStamp(),t(r)}))}},{key:"onAfterMarshalFromView",value:function(){return this.pict.LogNoisiness>3&&this.log.trace("PictView [".concat(this.UUID,"]::[").concat(this.Hash,"] ").concat(this.options.ViewIdentifier," onAfterMarshalFromView:")),!0}},{key:"onAfterMarshalFromViewAsync",value:function(t){return this.onAfterMarshalFromView(),t()}},{key:"onBeforeMarshalToView",value:function(){return this.pict.LogNoisiness>3&&this.log.trace("PictView [".concat(this.UUID,"]::[").concat(this.Hash,"] ").concat(this.options.ViewIdentifier," onBeforeMarshalToView:")),!0}},{key:"onBeforeMarshalToViewAsync",value:function(t){return this.onBeforeMarshalToView(),t()}},{key:"onMarshalToView",value:function(){return this.pict.LogNoisiness>3&&this.log.trace("PictView [".concat(this.UUID,"]::[").concat(this.Hash,"] ").concat(this.options.ViewIdentifier," onMarshalToView:")),!0}},{key:"onMarshalToViewAsync",value:function(t){return this.onMarshalToView(),t()}},{key:"marshalToView",value:function(){return this.pict.LogNoisiness>2&&this.log.trace("PictView [".concat(this.UUID,"]::[").concat(this.Hash,"] ").concat(this.options.ViewIdentifier," executing solve() function...")),this.onBeforeMarshalToView(),this.onMarshalToView(),this.onAfterMarshalToView(),this.lastMarshalToViewTimestamp=this.pict.log.getTimeStamp(),!0}},{key:"marshalToViewAsync",value:function(t){var e=this,r=this.pict.instantiateServiceProviderWithoutRegistration("Anticipate");r.anticipate(this.onBeforeMarshalToViewAsync.bind(this)),r.anticipate(this.onMarshalToViewAsync.bind(this)),r.anticipate(this.onAfterMarshalToViewAsync.bind(this)),r.wait((function(r){return e.pict.LogNoisiness>2&&e.log.trace("PictView [".concat(e.UUID,"]::[").concat(e.Hash,"] ").concat(e.options.ViewIdentifier," solveAsync() complete.")),e.lastMarshalToViewTimestamp=e.pict.log.getTimeStamp(),t(r)}))}},{key:"onAfterMarshalToView",value:function(){return this.pict.LogNoisiness>3&&this.log.trace("PictView [".concat(this.UUID,"]::[").concat(this.Hash,"] ").concat(this.options.ViewIdentifier," onAfterMarshalToView:")),!0}},{key:"onAfterMarshalToViewAsync",value:function(t){return this.onAfterMarshalToView(),t()}}]),r}(n);e.exports=o},{"fable-serviceproviderbase":44}],95:[function(t,e,r){
/**
* Precedent Meta-Templating
*
* @license     MIT
*
* @author      Steven Velozo <steven@velozo.com>
*
* @description Process text streams, parsing out meta-template expressions.
*/
var n=t("./WordTree.js"),i=t("./StringParser.js"),o=function(){function t(){_classCallCheck2(this,t),this.WordTree=new n,this.StringParser=new i,this.ParseTree=this.WordTree.ParseTree}return _createClass2(t,[{key:"addPattern",value:function(t,e,r){return this.WordTree.addPattern(t,e,r)}},{key:"parseString",value:function(t,e){return this.StringParser.parseString(t,this.ParseTree,e)}}]),t}();e.exports=o},{"./StringParser.js":96,"./WordTree.js":97}],96:[function(t,e,r){var n=function(){function t(){_classCallCheck2(this,t)}return _createClass2(t,[{key:"newParserState",value:function(t){return{ParseTree:t,Asynchronous:!1,Output:"",OutputBuffer:"",Pattern:{},PatternMatch:!1,PatternMatchEnd:!1}}},{key:"appendOutputBuffer",value:function(t,e){e.OutputBuffer+=t}},{key:"flushOutputBuffer",value:function(t){t.Output+=t.OutputBuffer,t.OutputBuffer=""}},{key:"resetOutputBuffer",value:function(t){return this.flushOutputBuffer(t),t.Pattern=!1,t.PatternStartNode=!1,t.StartPatternMatchComplete=!1,t.EndPatternMatchBegan=!1,t.PatternMatch=!1,!0}},{key:"parseCharacter",value:function(t,e,r){if(e.PatternMatch)if(!e.StartPatternMatchComplete&&e.Pattern.hasOwnProperty(t))e.Pattern=e.Pattern[t],this.appendOutputBuffer(t,e);else if(e.EndPatternMatchBegan)if(e.Pattern.PatternEnd.hasOwnProperty(t)){if(e.Pattern=e.Pattern.PatternEnd[t],this.appendOutputBuffer(t,e),e.Pattern.hasOwnProperty("Parse"))return e.OutputBuffer=e.Pattern.Parse(e.OutputBuffer.substr(e.Pattern.PatternStartString.length,e.OutputBuffer.length-(e.Pattern.PatternStartString.length+e.Pattern.PatternEndString.length)),r),this.resetOutputBuffer(e)}else e.PatternStartNode.PatternEnd.hasOwnProperty(t)?(e.Pattern=e.PatternStartNode.PatternEnd[t],this.appendOutputBuffer(t,e)):(e.EndPatternMatchBegan=!1,this.appendOutputBuffer(t,e));else if(e.Pattern.hasOwnProperty("PatternEnd")){if(e.StartPatternMatchComplete||(e.StartPatternMatchComplete=!0,e.PatternStartNode=e.Pattern),this.appendOutputBuffer(t,e),e.Pattern.PatternEnd.hasOwnProperty(t)&&(e.EndPatternMatchBegan=!0,e.Pattern=e.Pattern.PatternEnd[t],e.Pattern.hasOwnProperty("Parse")))return e.OutputBuffer=e.Pattern.Parse(e.OutputBuffer.substr(e.Pattern.PatternStartString.length,e.OutputBuffer.length-(e.Pattern.PatternStartString.length+e.Pattern.PatternEndString.length)),r),this.resetOutputBuffer(e)}else this.resetOutputBuffer(e);if(!e.PatternMatch){if(e.ParseTree.hasOwnProperty(t))return this.resetOutputBuffer(e),this.appendOutputBuffer(t,e),e.Pattern=e.ParseTree[t],e.PatternMatch=!0,!0;this.appendOutputBuffer(t,e)}return!1}},{key:"parseString",value:function(t,e,r){for(var n=this.newParserState(e),i=0;i<t.length;i++)this.parseCharacter(t[i],n,r);return this.flushOutputBuffer(n),n.Output}}]),t}();e.exports=n},{}],97:[function(t,e,r){var n=function(){function t(){_classCallCheck2(this,t),this.ParseTree={}}return _createClass2(t,[{key:"addChild",value:function(t,e){return t.hasOwnProperty(e)||(t[e]={}),t[e]}},{key:"addEndChild",value:function(t,e){return t.hasOwnProperty("PatternEnd")||(t.PatternEnd={}),t.PatternEnd[e]={},t.PatternEnd[e]}},{key:"addPattern",value:function(t,e,r){if(t.length<1)return!1;if("string"==typeof e&&e.length<1)return!1;for(var n=this.ParseTree,i=0;i<t.length;i++)n=this.addChild(n,t[i],i);n.hasOwnProperty("PatternEnd")||(n.PatternEnd={});for(var o="string"==typeof e?e:t,a=0;a<o.length;a++)n=this.addEndChild(n,o[a],a);return n.PatternStartString=t,n.PatternEndString=o,n.Parse="function"==typeof r?r:"string"==typeof r?function(){return r}:function(t){return t},!0}}]),t}();e.exports=n},{}],98:[function(t,e,r){var n,i,o=e.exports={};function a(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function c(t){if(n===setTimeout)return setTimeout(t,0);if((n===a||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:a}catch(t){n=a}try{i="function"==typeof clearTimeout?clearTimeout:s}catch(t){i=s}}();var u,l=[],f=!1,h=-1;function p(){f&&u&&(f=!1,u.length?l=u.concat(l):h=-1,l.length&&d())}function d(){if(!f){var t=c(p);f=!0;for(var e=l.length;e;){for(u=l,l=[];++h<e;)u&&u[h].run();h=-1,e=l.length}u=null,f=!1,function(t){if(i===clearTimeout)return clearTimeout(t);if((i===s||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(t);try{return i(t)}catch(e){try{return i.call(null,t)}catch(e){return i.call(this,t)}}}(t)}}function y(t,e){this.fun=t,this.array=e}function g(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];l.push(new y(t,e)),1!==l.length||f||c(d)},y.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=g,o.addListener=g,o.once=g,o.off=g,o.removeListener=g,o.removeAllListeners=g,o.emit=g,o.prependListener=g,o.prependOnceListener=g,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},{}],99:[function(t,e,r){(function(t){(function(){!function(n){var i="object"==_typeof(r)&&r&&!r.nodeType&&r,o="object"==_typeof(e)&&e&&!e.nodeType&&e,a="object"==_typeof(t)&&t;a.global!==a&&a.window!==a&&a.self!==a||(n=a);var s,c,u=2147483647,l=36,f=1,h=26,p=38,d=700,y=72,g=128,v="-",m=/^xn--/,b=/[^\x20-\x7E]/,w=/[\x2E\u3002\uFF0E\uFF61]/g,S={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},T=l-f,_=Math.floor,A=String.fromCharCode;function P(t){throw new RangeError(S[t])}function C(t,e){for(var r=t.length,n=[];r--;)n[r]=e(t[r]);return n}function k(t,e){var r=t.split("@"),n="";return r.length>1&&(n=r[0]+"@",t=r[1]),n+C((t=t.replace(w,".")).split("."),e).join(".")}function E(t){for(var e,r,n=[],i=0,o=t.length;i<o;)(e=t.charCodeAt(i++))>=55296&&e<=56319&&i<o?56320==(64512&(r=t.charCodeAt(i++)))?n.push(((1023&e)<<10)+(1023&r)+65536):(n.push(e),i--):n.push(e);return n}function O(t){return C(t,(function(t){var e="";return t>65535&&(e+=A((t-=65536)>>>10&1023|55296),t=56320|1023&t),e+=A(t)})).join("")}function M(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function D(t,e,r){var n=0;for(t=r?_(t/d):t>>1,t+=_(t/e);t>T*h>>1;n+=l)t=_(t/T);return _(n+(T+1)*t/(t+p))}function R(t){var e,r,n,i,o,a,s,c,p,d,m,b=[],w=t.length,S=0,T=g,A=y;for((r=t.lastIndexOf(v))<0&&(r=0),n=0;n<r;++n)t.charCodeAt(n)>=128&&P("not-basic"),b.push(t.charCodeAt(n));for(i=r>0?r+1:0;i<w;){for(o=S,a=1,s=l;i>=w&&P("invalid-input"),((c=(m=t.charCodeAt(i++))-48<10?m-22:m-65<26?m-65:m-97<26?m-97:l)>=l||c>_((u-S)/a))&&P("overflow"),S+=c*a,!(c<(p=s<=A?f:s>=A+h?h:s-A));s+=l)a>_(u/(d=l-p))&&P("overflow"),a*=d;A=D(S-o,e=b.length+1,0==o),_(S/e)>u-T&&P("overflow"),T+=_(S/e),S%=e,b.splice(S++,0,T)}return O(b)}function j(t){var e,r,n,i,o,a,s,c,p,d,m,b,w,S,T,C=[];for(b=(t=E(t)).length,e=g,r=0,o=y,a=0;a<b;++a)(m=t[a])<128&&C.push(A(m));for(n=i=C.length,i&&C.push(v);n<b;){for(s=u,a=0;a<b;++a)(m=t[a])>=e&&m<s&&(s=m);for(s-e>_((u-r)/(w=n+1))&&P("overflow"),r+=(s-e)*w,e=s,a=0;a<b;++a)if((m=t[a])<e&&++r>u&&P("overflow"),m==e){for(c=r,p=l;!(c<(d=p<=o?f:p>=o+h?h:p-o));p+=l)T=c-d,S=l-d,C.push(A(M(d+T%S,0))),c=_(T/S);C.push(A(M(c,0))),o=D(r,w,n==i),r=0,++n}++r,++e}return C.join("")}if(s={version:"1.4.1",ucs2:{decode:E,encode:O},decode:R,encode:j,toASCII:function(t){return k(t,(function(t){return b.test(t)?"xn--"+j(t):t}))},toUnicode:function(t){return k(t,(function(t){return m.test(t)?R(t.slice(4).toLowerCase()):t}))}},i&&o)if(e.exports==i)o.exports=s;else for(c in s)s.hasOwnProperty(c)&&(i[c]=s[c]);else n.punycode=s}(this)}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],100:[function(t,e,r){var n=String.prototype.replace,i=/%20/g,o="RFC1738",a="RFC3986";e.exports={default:a,formatters:{RFC1738:function(t){return n.call(t,i,"+")},RFC3986:function(t){return String(t)}},RFC1738:o,RFC3986:a}},{}],101:[function(t,e,r){var n=t("./stringify"),i=t("./parse"),o=t("./formats");e.exports={formats:o,parse:i,stringify:n}},{"./formats":100,"./parse":102,"./stringify":103}],102:[function(t,e,r){var n=t("./utils"),i=Object.prototype.hasOwnProperty,o=Array.isArray,a={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:n.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},s=function(t){return t.replace(/&#(\d+);/g,(function(t,e){return String.fromCharCode(parseInt(e,10))}))},c=function(t,e){return t&&"string"==typeof t&&e.comma&&t.indexOf(",")>-1?t.split(","):t},u=function(t,e,r,n){if(t){var o=r.allowDots?t.replace(/\.([^.[]+)/g,"[$1]"):t,a=/(\[[^[\]]*])/g,s=r.depth>0&&/(\[[^[\]]*])/.exec(o),u=s?o.slice(0,s.index):o,l=[];if(u){if(!r.plainObjects&&i.call(Object.prototype,u)&&!r.allowPrototypes)return;l.push(u)}for(var f=0;r.depth>0&&null!==(s=a.exec(o))&&f<r.depth;){if(f+=1,!r.plainObjects&&i.call(Object.prototype,s[1].slice(1,-1))&&!r.allowPrototypes)return;l.push(s[1])}return s&&l.push("["+o.slice(s.index)+"]"),function(t,e,r,n){for(var i=n?e:c(e,r),o=t.length-1;o>=0;--o){var a,s=t[o];if("[]"===s&&r.parseArrays)a=[].concat(i);else{a=r.plainObjects?Object.create(null):{};var u="["===s.charAt(0)&&"]"===s.charAt(s.length-1)?s.slice(1,-1):s,l=parseInt(u,10);r.parseArrays||""!==u?!isNaN(l)&&s!==u&&String(l)===u&&l>=0&&r.parseArrays&&l<=r.arrayLimit?(a=[])[l]=i:"__proto__"!==u&&(a[u]=i):a={0:i}}i=a}return i}(l,e,r,n)}};e.exports=function(t,e){var r=function(t){if(!t)return a;if(null!==t.decoder&&void 0!==t.decoder&&"function"!=typeof t.decoder)throw new TypeError("Decoder has to be a function.");if(void 0!==t.charset&&"utf-8"!==t.charset&&"iso-8859-1"!==t.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var e=void 0===t.charset?a.charset:t.charset;return{allowDots:void 0===t.allowDots?a.allowDots:!!t.allowDots,allowPrototypes:"boolean"==typeof t.allowPrototypes?t.allowPrototypes:a.allowPrototypes,allowSparse:"boolean"==typeof t.allowSparse?t.allowSparse:a.allowSparse,arrayLimit:"number"==typeof t.arrayLimit?t.arrayLimit:a.arrayLimit,charset:e,charsetSentinel:"boolean"==typeof t.charsetSentinel?t.charsetSentinel:a.charsetSentinel,comma:"boolean"==typeof t.comma?t.comma:a.comma,decoder:"function"==typeof t.decoder?t.decoder:a.decoder,delimiter:"string"==typeof t.delimiter||n.isRegExp(t.delimiter)?t.delimiter:a.delimiter,depth:"number"==typeof t.depth||!1===t.depth?+t.depth:a.depth,ignoreQueryPrefix:!0===t.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof t.interpretNumericEntities?t.interpretNumericEntities:a.interpretNumericEntities,parameterLimit:"number"==typeof t.parameterLimit?t.parameterLimit:a.parameterLimit,parseArrays:!1!==t.parseArrays,plainObjects:"boolean"==typeof t.plainObjects?t.plainObjects:a.plainObjects,strictNullHandling:"boolean"==typeof t.strictNullHandling?t.strictNullHandling:a.strictNullHandling}}(e);if(""===t||null==t)return r.plainObjects?Object.create(null):{};for(var l="string"==typeof t?function(t,e){var r,u={__proto__:null},l=e.ignoreQueryPrefix?t.replace(/^\?/,""):t,f=e.parameterLimit===1/0?void 0:e.parameterLimit,h=l.split(e.delimiter,f),p=-1,d=e.charset;if(e.charsetSentinel)for(r=0;r<h.length;++r)0===h[r].indexOf("utf8=")&&("utf8=%E2%9C%93"===h[r]?d="utf-8":"utf8=%26%2310003%3B"===h[r]&&(d="iso-8859-1"),p=r,r=h.length);for(r=0;r<h.length;++r)if(r!==p){var y,g,v=h[r],m=v.indexOf("]="),b=-1===m?v.indexOf("="):m+1;-1===b?(y=e.decoder(v,a.decoder,d,"key"),g=e.strictNullHandling?null:""):(y=e.decoder(v.slice(0,b),a.decoder,d,"key"),g=n.maybeMap(c(v.slice(b+1),e),(function(t){return e.decoder(t,a.decoder,d,"value")}))),g&&e.interpretNumericEntities&&"iso-8859-1"===d&&(g=s(g)),v.indexOf("[]=")>-1&&(g=o(g)?[g]:g),i.call(u,y)?u[y]=n.combine(u[y],g):u[y]=g}return u}(t,r):t,f=r.plainObjects?Object.create(null):{},h=Object.keys(l),p=0;p<h.length;++p){var d=h[p],y=u(d,l[d],r,"string"==typeof t);f=n.merge(f,y,r)}return!0===r.allowSparse?f:n.compact(f)}},{"./utils":104}],103:[function(t,e,r){var n=t("side-channel"),i=t("./utils"),o=t("./formats"),a=Object.prototype.hasOwnProperty,s={brackets:function(t){return t+"[]"},comma:"comma",indices:function(t,e){return t+"["+e+"]"},repeat:function(t){return t}},c=Array.isArray,u=Array.prototype.push,l=function(t,e){u.apply(t,c(e)?e:[e])},f=Date.prototype.toISOString,h=o.default,p={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:i.encode,encodeValuesOnly:!1,format:h,formatter:o.formatters[h],indices:!1,serializeDate:function(t){return f.call(t)},skipNulls:!1,strictNullHandling:!1},d={},y=function t(e,r,o,a,s,u,f,h,y,g,v,m,b,w,S,T){for(var _,A=e,P=T,C=0,k=!1;void 0!==(P=P.get(d))&&!k;){var E=P.get(e);if(C+=1,void 0!==E){if(E===C)throw new RangeError("Cyclic object value");k=!0}void 0===P.get(d)&&(C=0)}if("function"==typeof h?A=h(r,A):A instanceof Date?A=v(A):"comma"===o&&c(A)&&(A=i.maybeMap(A,(function(t){return t instanceof Date?v(t):t}))),null===A){if(s)return f&&!w?f(r,p.encoder,S,"key",m):r;A=""}if("string"==typeof(_=A)||"number"==typeof _||"boolean"==typeof _||"symbol"===_typeof(_)||"bigint"==typeof _||i.isBuffer(A))return f?[b(w?r:f(r,p.encoder,S,"key",m))+"="+b(f(A,p.encoder,S,"value",m))]:[b(r)+"="+b(String(A))];var O,M=[];if(void 0===A)return M;if("comma"===o&&c(A))w&&f&&(A=i.maybeMap(A,f)),O=[{value:A.length>0?A.join(",")||null:void 0}];else if(c(h))O=h;else{var D=Object.keys(A);O=y?D.sort(y):D}for(var R=a&&c(A)&&1===A.length?r+"[]":r,j=0;j<O.length;++j){var x=O[j],I="object"===_typeof(x)&&void 0!==x.value?x.value:A[x];if(!u||null!==I){var L=c(A)?"function"==typeof o?o(R,x):R:R+(g?"."+x:"["+x+"]");T.set(e,C);var N=n();N.set(d,T),l(M,t(I,L,o,a,s,u,"comma"===o&&w&&c(A)?null:f,h,y,g,v,m,b,w,S,N))}}return M};e.exports=function(t,e){var r,i=t,u=function(t){if(!t)return p;if(null!==t.encoder&&void 0!==t.encoder&&"function"!=typeof t.encoder)throw new TypeError("Encoder has to be a function.");var e=t.charset||p.charset;if(void 0!==t.charset&&"utf-8"!==t.charset&&"iso-8859-1"!==t.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=o.default;if(void 0!==t.format){if(!a.call(o.formatters,t.format))throw new TypeError("Unknown format option provided.");r=t.format}var n=o.formatters[r],i=p.filter;return("function"==typeof t.filter||c(t.filter))&&(i=t.filter),{addQueryPrefix:"boolean"==typeof t.addQueryPrefix?t.addQueryPrefix:p.addQueryPrefix,allowDots:void 0===t.allowDots?p.allowDots:!!t.allowDots,charset:e,charsetSentinel:"boolean"==typeof t.charsetSentinel?t.charsetSentinel:p.charsetSentinel,delimiter:void 0===t.delimiter?p.delimiter:t.delimiter,encode:"boolean"==typeof t.encode?t.encode:p.encode,encoder:"function"==typeof t.encoder?t.encoder:p.encoder,encodeValuesOnly:"boolean"==typeof t.encodeValuesOnly?t.encodeValuesOnly:p.encodeValuesOnly,filter:i,format:r,formatter:n,serializeDate:"function"==typeof t.serializeDate?t.serializeDate:p.serializeDate,skipNulls:"boolean"==typeof t.skipNulls?t.skipNulls:p.skipNulls,sort:"function"==typeof t.sort?t.sort:null,strictNullHandling:"boolean"==typeof t.strictNullHandling?t.strictNullHandling:p.strictNullHandling}}(e);"function"==typeof u.filter?i=(0,u.filter)("",i):c(u.filter)&&(r=u.filter);var f,h=[];if("object"!==_typeof(i)||null===i)return"";f=e&&e.arrayFormat in s?e.arrayFormat:e&&"indices"in e?e.indices?"indices":"repeat":"indices";var d=s[f];if(e&&"commaRoundTrip"in e&&"boolean"!=typeof e.commaRoundTrip)throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var g="comma"===d&&e&&e.commaRoundTrip;r||(r=Object.keys(i)),u.sort&&r.sort(u.sort);for(var v=n(),m=0;m<r.length;++m){var b=r[m];u.skipNulls&&null===i[b]||l(h,y(i[b],b,d,g,u.strictNullHandling,u.skipNulls,u.encode?u.encoder:null,u.filter,u.sort,u.allowDots,u.serializeDate,u.format,u.formatter,u.encodeValuesOnly,u.charset,v))}var w=h.join(u.delimiter),S=!0===u.addQueryPrefix?"?":"";return u.charsetSentinel&&("iso-8859-1"===u.charset?S+="utf8=%26%2310003%3B&":S+="utf8=%E2%9C%93&"),w.length>0?S+w:""}},{"./formats":100,"./utils":104,"side-channel":110}],104:[function(t,e,r){var n=t("./formats"),i=Object.prototype.hasOwnProperty,o=Array.isArray,a=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),s=function(t,e){for(var r=e&&e.plainObjects?Object.create(null):{},n=0;n<t.length;++n)void 0!==t[n]&&(r[n]=t[n]);return r};e.exports={arrayToObject:s,assign:function(t,e){return Object.keys(e).reduce((function(t,r){return t[r]=e[r],t}),t)},combine:function(t,e){return[].concat(t,e)},compact:function(t){for(var e=[{obj:{o:t},prop:"o"}],r=[],n=0;n<e.length;++n)for(var i=e[n],a=i.obj[i.prop],s=Object.keys(a),c=0;c<s.length;++c){var u=s[c],l=a[u];"object"===_typeof(l)&&null!==l&&-1===r.indexOf(l)&&(e.push({obj:a,prop:u}),r.push(l))}return function(t){for(;t.length>1;){var e=t.pop(),r=e.obj[e.prop];if(o(r)){for(var n=[],i=0;i<r.length;++i)void 0!==r[i]&&n.push(r[i]);e.obj[e.prop]=n}}}(e),t},decode:function(t,e,r){var n=t.replace(/\+/g," ");if("iso-8859-1"===r)return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch(t){return n}},encode:function(t,e,r,i,o){if(0===t.length)return t;var s=t;if("symbol"===_typeof(t)?s=Symbol.prototype.toString.call(t):"string"!=typeof t&&(s=String(t)),"iso-8859-1"===r)return escape(s).replace(/%u[0-9a-f]{4}/gi,(function(t){return"%26%23"+parseInt(t.slice(2),16)+"%3B"}));for(var c="",u=0;u<s.length;++u){var l=s.charCodeAt(u);45===l||46===l||95===l||126===l||l>=48&&l<=57||l>=65&&l<=90||l>=97&&l<=122||o===n.RFC1738&&(40===l||41===l)?c+=s.charAt(u):l<128?c+=a[l]:l<2048?c+=a[192|l>>6]+a[128|63&l]:l<55296||l>=57344?c+=a[224|l>>12]+a[128|l>>6&63]+a[128|63&l]:(u+=1,l=65536+((1023&l)<<10|1023&s.charCodeAt(u)),c+=a[240|l>>18]+a[128|l>>12&63]+a[128|l>>6&63]+a[128|63&l])}return c},isBuffer:function(t){return!(!t||"object"!==_typeof(t))&&!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))},isRegExp:function(t){return"[object RegExp]"===Object.prototype.toString.call(t)},maybeMap:function(t,e){if(o(t)){for(var r=[],n=0;n<t.length;n+=1)r.push(e(t[n]));return r}return e(t)},merge:function t(e,r,n){if(!r)return e;if("object"!==_typeof(r)){if(o(e))e.push(r);else{if(!e||"object"!==_typeof(e))return[e,r];(n&&(n.plainObjects||n.allowPrototypes)||!i.call(Object.prototype,r))&&(e[r]=!0)}return e}if(!e||"object"!==_typeof(e))return[e].concat(r);var a=e;return o(e)&&!o(r)&&(a=s(e,n)),o(e)&&o(r)?(r.forEach((function(r,o){if(i.call(e,o)){var a=e[o];a&&"object"===_typeof(a)&&r&&"object"===_typeof(r)?e[o]=t(a,r,n):e.push(r)}else e[o]=r})),e):Object.keys(r).reduce((function(e,o){var a=r[o];return i.call(e,o)?e[o]=t(e[o],a,n):e[o]=a,e}),a)}}},{"./formats":100}],105:[function(t,e,r){function n(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.exports=function(t,e,r,o){e=e||"&",r=r||"=";var a={};if("string"!=typeof t||0===t.length)return a;var s=/\+/g;t=t.split(e);var c=1e3;o&&"number"==typeof o.maxKeys&&(c=o.maxKeys);var u=t.length;c>0&&u>c&&(u=c);for(var l=0;l<u;++l){var f,h,p,d,y=t[l].replace(s,"%20"),g=y.indexOf(r);g>=0?(f=y.substr(0,g),h=y.substr(g+1)):(f=y,h=""),p=decodeURIComponent(f),d=decodeURIComponent(h),n(a,p)?i(a[p])?a[p].push(d):a[p]=[a[p],d]:a[p]=d}return a};var i=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},{}],106:[function(t,e,r){var n=function(t){switch(_typeof(t)){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};e.exports=function(t,e,r,s){return e=e||"&",r=r||"=",null===t&&(t=void 0),"object"===_typeof(t)?o(a(t),(function(a){var s=encodeURIComponent(n(a))+r;return i(t[a])?o(t[a],(function(t){return s+encodeURIComponent(n(t))})).join(e):s+encodeURIComponent(n(t[a]))})).join(e):s?encodeURIComponent(n(s))+r+encodeURIComponent(n(t)):""};var i=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function o(t,e){if(t.map)return t.map(e);for(var r=[],n=0;n<t.length;n++)r.push(e(t[n],n));return r}var a=Object.keys||function(t){var e=[];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.push(r);return e}},{}],107:[function(t,e,r){r.decode=r.parse=t("./decode"),r.encode=r.stringify=t("./encode")},{"./decode":105,"./encode":106}],108:[function(t,e,r){/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var n=t("buffer"),i=n.Buffer;function o(t,e){for(var r in t)e[r]=t[r]}function a(t,e,r){return i(t,e,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=n:(o(n,r),r.Buffer=a),a.prototype=Object.create(i.prototype),o(i,a),a.from=function(t,e,r){if("number"==typeof t)throw new TypeError("Argument must not be a number");return i(t,e,r)},a.alloc=function(t,e,r){if("number"!=typeof t)throw new TypeError("Argument must be a number");var n=i(t);return void 0!==e?"string"==typeof r?n.fill(e,r):n.fill(e):n.fill(0),n},a.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return i(t)},a.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return n.SlowBuffer(t)}},{buffer:20}],109:[function(t,e,r){var n=t("get-intrinsic"),i=t("define-data-property"),o=t("has-property-descriptors")(),a=t("gopd"),s=n("%TypeError%"),c=n("%Math.floor%");e.exports=function(t,e){if("function"!=typeof t)throw new s("`fn` is not a function");if("number"!=typeof e||e<0||e>4294967295||c(e)!==e)throw new s("`length` must be a positive 32-bit integer");var r=arguments.length>2&&!!arguments[2],n=!0,u=!0;if("length"in t&&a){var l=a(t,"length");l&&!l.configurable&&(n=!1),l&&!l.writable&&(u=!1)}return(n||u||!r)&&(o?i(t,"length",e,!0,!0):i(t,"length",e)),t}},{"define-data-property":36,"get-intrinsic":69,gopd:70,"has-property-descriptors":71}],110:[function(t,e,r){var n=t("get-intrinsic"),i=t("call-bind/callBound"),o=t("object-inspect"),a=n("%TypeError%"),s=n("%WeakMap%",!0),c=n("%Map%",!0),u=i("WeakMap.prototype.get",!0),l=i("WeakMap.prototype.set",!0),f=i("WeakMap.prototype.has",!0),h=i("Map.prototype.get",!0),p=i("Map.prototype.set",!0),d=i("Map.prototype.has",!0),y=function(t,e){for(var r,n=t;null!==(r=n.next);n=r)if(r.key===e)return n.next=r.next,r.next=t.next,t.next=r,r};e.exports=function(){var t,e,r,n={assert:function(t){if(!n.has(t))throw new a("Side channel does not contain "+o(t))},get:function(n){if(s&&n&&("object"===_typeof(n)||"function"==typeof n)){if(t)return u(t,n)}else if(c){if(e)return h(e,n)}else if(r)return function(t,e){var r=y(t,e);return r&&r.value}(r,n)},has:function(n){if(s&&n&&("object"===_typeof(n)||"function"==typeof n)){if(t)return f(t,n)}else if(c){if(e)return d(e,n)}else if(r)return function(t,e){return!!y(t,e)}(r,n);return!1},set:function(n,i){s&&n&&("object"===_typeof(n)||"function"==typeof n)?(t||(t=new s),l(t,n,i)):c?(e||(e=new c),p(e,n,i)):(r||(r={key:{},next:null}),function(t,e,r){var n=y(t,e);n?n.value=r:t.next={key:e,next:t.next,value:r}}(r,n,i))}};return n}},{"call-bind/callBound":25,"get-intrinsic":69,"object-inspect":90}],111:[function(t,e,r){(function(t){(function(){/*! simple-concat. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */e.exports=function(e,r){var n=[];e.on("data",(function(t){n.push(t)})),e.once("end",(function(){r&&r(null,t.concat(n)),r=null})),e.once("error",(function(t){r&&r(t),r=null}))}}).call(this)}).call(this,t("buffer").Buffer)},{buffer:20}],112:[function(t,e,r){(function(r){(function(){/*! simple-get. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */e.exports=f;var n=t("simple-concat"),i=t("decompress-response"),o=t("http"),a=t("https"),s=t("once"),c=t("querystring"),u=t("url"),l=function(t){return null!==t&&"object"===_typeof(t)&&"function"==typeof t.pipe};function f(t,e){if(t=Object.assign({maxRedirects:10},"string"==typeof t?{url:t}:t),e=s(e),t.url){var n=u.parse(t.url),h=n.hostname,p=n.port,d=n.protocol,y=n.auth,g=n.path;delete t.url,h||p||d||y?Object.assign(t,{hostname:h,port:p,protocol:d,auth:y,path:g}):t.path=g}var v,m={"accept-encoding":"gzip, deflate"};t.headers&&Object.keys(t.headers).forEach((function(e){return m[e.toLowerCase()]=t.headers[e]})),t.headers=m,t.body?v=t.json&&!l(t.body)?JSON.stringify(t.body):t.body:t.form&&(v="string"==typeof t.form?t.form:c.stringify(t.form),t.headers["content-type"]="application/x-www-form-urlencoded"),v&&(t.method||(t.method="POST"),l(v)||(t.headers["content-length"]=r.byteLength(v)),t.json&&!t.form&&(t.headers["content-type"]="application/json")),delete t.body,delete t.form,t.json&&(t.headers.accept="application/json"),t.method&&(t.method=t.method.toUpperCase());var b=t.hostname,w=("https:"===t.protocol?a:o).request(t,(function(r){if(!1!==t.followRedirects&&r.statusCode>=300&&r.statusCode<400&&r.headers.location){t.url=r.headers.location,delete t.headers.host,r.resume();var n=u.parse(t.url).hostname;return null!==n&&n!==b&&(delete t.headers.cookie,delete t.headers.authorization),"POST"===t.method&&[301,302].includes(r.statusCode)&&(t.method="GET",delete t.headers["content-length"],delete t.headers["content-type"]),0==t.maxRedirects--?e(new Error("too many redirects")):f(t,e)}var o="function"==typeof i&&"HEAD"!==t.method;e(null,o?i(r):r)}));return w.on("timeout",(function(){w.abort(),e(new Error("Request timed out"))})),w.on("error",e),l(v)?v.on("error",e).pipe(w):w.end(v),w}f.concat=function(t,e){return f(t,(function(r,i){if(r)return e(r);n(i,(function(r,n){if(r)return e(r);if(t.json)try{n=JSON.parse(n.toString())}catch(r){return e(r,i,n)}e(null,i,n)}))}))},["get","post","put","patch","head","delete"].forEach((function(t){f[t]=function(e,r){return"string"==typeof e&&(e={url:e}),f(Object.assign({method:t.toUpperCase()},e),r)}}))}).call(this)}).call(this,t("buffer").Buffer)},{buffer:20,"decompress-response":18,http:113,https:76,once:91,querystring:107,"simple-concat":111,url:134}],113:[function(t,e,r){(function(e){(function(){var n=t("./lib/request"),i=t("./lib/response"),o=t("xtend"),a=t("builtin-status-codes"),s=t("url"),c=r;c.request=function(t,r){t="string"==typeof t?s.parse(t):o(t);var i=-1===e.location.protocol.search(/^https?:$/)?"http:":"",a=t.protocol||i,c=t.hostname||t.host,u=t.port,l=t.path||"/";c&&-1!==c.indexOf(":")&&(c="["+c+"]"),t.url=(c?a+"//"+c:"")+(u?":"+u:"")+l,t.method=(t.method||"GET").toUpperCase(),t.headers=t.headers||{};var f=new n(t);return r&&f.on("response",r),f},c.get=function(t,e){var r=c.request(t,e);return r.end(),r},c.ClientRequest=n,c.IncomingMessage=i.IncomingMessage,c.Agent=function(){},c.Agent.defaultMaxSockets=4,c.globalAgent=new c.Agent,c.STATUS_CODES=a,c.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"]}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./lib/request":115,"./lib/response":116,"builtin-status-codes":21,url:134,xtend:137}],114:[function(t,e,r){(function(t){(function(){var e;function n(){if(void 0!==e)return e;if(t.XMLHttpRequest){e=new t.XMLHttpRequest;try{e.open("GET",t.XDomainRequest?"/":"https://example.com")}catch(t){e=null}}else e=null;return e}function i(t){var e=n();if(!e)return!1;try{return e.responseType=t,e.responseType===t}catch(t){}return!1}function o(t){return"function"==typeof t}r.fetch=o(t.fetch)&&o(t.ReadableStream),r.writableStream=o(t.WritableStream),r.abortController=o(t.AbortController),r.arraybuffer=r.fetch||i("arraybuffer"),r.msstream=!r.fetch&&i("ms-stream"),r.mozchunkedarraybuffer=!r.fetch&&i("moz-chunked-arraybuffer"),r.overrideMimeType=r.fetch||!!n()&&o(n().overrideMimeType),e=null}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],115:[function(t,e,r){(function(r,n,i){(function(){var o=t("./capability"),a=t("inherits"),s=t("./response"),c=t("readable-stream"),u=s.IncomingMessage,l=s.readyStates;var f=e.exports=function(t){var e,r=this;c.Writable.call(r),r._opts=t,r._body=[],r._headers={},t.auth&&r.setHeader("Authorization","Basic "+i.from(t.auth).toString("base64")),Object.keys(t.headers).forEach((function(e){r.setHeader(e,t.headers[e])}));var n=!0;if("disable-fetch"===t.mode||"requestTimeout"in t&&!o.abortController)n=!1,e=!0;else if("prefer-streaming"===t.mode)e=!1;else if("allow-wrong-content-type"===t.mode)e=!o.overrideMimeType;else{if(t.mode&&"default"!==t.mode&&"prefer-fast"!==t.mode)throw new Error("Invalid value for opts.mode");e=!0}r._mode=function(t,e){return o.fetch&&e?"fetch":o.mozchunkedarraybuffer?"moz-chunked-arraybuffer":o.msstream?"ms-stream":o.arraybuffer&&t?"arraybuffer":"text"}(e,n),r._fetchTimer=null,r._socketTimeout=null,r._socketTimer=null,r.on("finish",(function(){r._onFinish()}))};a(f,c.Writable),f.prototype.setHeader=function(t,e){var r=t.toLowerCase();-1===h.indexOf(r)&&(this._headers[r]={name:t,value:e})},f.prototype.getHeader=function(t){var e=this._headers[t.toLowerCase()];return e?e.value:null},f.prototype.removeHeader=function(t){delete this._headers[t.toLowerCase()]},f.prototype._onFinish=function(){var t=this;if(!t._destroyed){var e=t._opts;"timeout"in e&&0!==e.timeout&&t.setTimeout(e.timeout);var i=t._headers,a=null;"GET"!==e.method&&"HEAD"!==e.method&&(a=new Blob(t._body,{type:(i["content-type"]||{}).value||""}));var s=[];if(Object.keys(i).forEach((function(t){var e=i[t].name,r=i[t].value;Array.isArray(r)?r.forEach((function(t){s.push([e,t])})):s.push([e,r])})),"fetch"===t._mode){var c=null;if(o.abortController){var u=new AbortController;c=u.signal,t._fetchAbortController=u,"requestTimeout"in e&&0!==e.requestTimeout&&(t._fetchTimer=n.setTimeout((function(){t.emit("requestTimeout"),t._fetchAbortController&&t._fetchAbortController.abort()}),e.requestTimeout))}n.fetch(t._opts.url,{method:t._opts.method,headers:s,body:a||void 0,mode:"cors",credentials:e.withCredentials?"include":"same-origin",signal:c}).then((function(e){t._fetchResponse=e,t._resetTimers(!1),t._connect()}),(function(e){t._resetTimers(!0),t._destroyed||t.emit("error",e)}))}else{var f=t._xhr=new n.XMLHttpRequest;try{f.open(t._opts.method,t._opts.url,!0)}catch(e){return void r.nextTick((function(){t.emit("error",e)}))}"responseType"in f&&(f.responseType=t._mode),"withCredentials"in f&&(f.withCredentials=!!e.withCredentials),"text"===t._mode&&"overrideMimeType"in f&&f.overrideMimeType("text/plain; charset=x-user-defined"),"requestTimeout"in e&&(f.timeout=e.requestTimeout,f.ontimeout=function(){t.emit("requestTimeout")}),s.forEach((function(t){f.setRequestHeader(t[0],t[1])})),t._response=null,f.onreadystatechange=function(){switch(f.readyState){case l.LOADING:case l.DONE:t._onXHRProgress()}},"moz-chunked-arraybuffer"===t._mode&&(f.onprogress=function(){t._onXHRProgress()}),f.onerror=function(){t._destroyed||(t._resetTimers(!0),t.emit("error",new Error("XHR error")))};try{f.send(a)}catch(e){return void r.nextTick((function(){t.emit("error",e)}))}}}},f.prototype._onXHRProgress=function(){var t=this;t._resetTimers(!1),function(t){try{var e=t.status;return null!==e&&0!==e}catch(t){return!1}}(t._xhr)&&!t._destroyed&&(t._response||t._connect(),t._response._onXHRProgress(t._resetTimers.bind(t)))},f.prototype._connect=function(){var t=this;t._destroyed||(t._response=new u(t._xhr,t._fetchResponse,t._mode,t._resetTimers.bind(t)),t._response.on("error",(function(e){t.emit("error",e)})),t.emit("response",t._response))},f.prototype._write=function(t,e,r){this._body.push(t),r()},f.prototype._resetTimers=function(t){var e=this;n.clearTimeout(e._socketTimer),e._socketTimer=null,t?(n.clearTimeout(e._fetchTimer),e._fetchTimer=null):e._socketTimeout&&(e._socketTimer=n.setTimeout((function(){e.emit("timeout")}),e._socketTimeout))},f.prototype.abort=f.prototype.destroy=function(t){var e=this;e._destroyed=!0,e._resetTimers(!0),e._response&&(e._response._destroyed=!0),e._xhr?e._xhr.abort():e._fetchAbortController&&e._fetchAbortController.abort(),t&&e.emit("error",t)},f.prototype.end=function(t,e,r){"function"==typeof t&&(r=t,t=void 0),c.Writable.prototype.end.call(this,t,e,r)},f.prototype.setTimeout=function(t,e){var r=this;e&&r.once("timeout",e),r._socketTimeout=t,r._resetTimers(!1)},f.prototype.flushHeaders=function(){},f.prototype.setNoDelay=function(){},f.prototype.setSocketKeepAlive=function(){};var h=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"]}).call(this)}).call(this,t("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},t("buffer").Buffer)},{"./capability":114,"./response":116,_process:98,buffer:20,inherits:78,"readable-stream":131}],116:[function(t,e,r){(function(e,n,i){(function(){var o=t("./capability"),a=t("inherits"),s=t("readable-stream"),c=r.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},u=r.IncomingMessage=function(t,r,n,a){var c=this;if(s.Readable.call(c),c._mode=n,c.headers={},c.rawHeaders=[],c.trailers={},c.rawTrailers=[],c.on("end",(function(){e.nextTick((function(){c.emit("close")}))})),"fetch"===n){if(c._fetchResponse=r,c.url=r.url,c.statusCode=r.status,c.statusMessage=r.statusText,r.headers.forEach((function(t,e){c.headers[e.toLowerCase()]=t,c.rawHeaders.push(e,t)})),o.writableStream){var u=new WritableStream({write:function(t){return a(!1),new Promise((function(e,r){c._destroyed?r():c.push(i.from(t))?e():c._resumeFetch=e}))},close:function(){a(!0),c._destroyed||c.push(null)},abort:function(t){a(!0),c._destroyed||c.emit("error",t)}});try{return void r.body.pipeTo(u).catch((function(t){a(!0),c._destroyed||c.emit("error",t)}))}catch(t){}}var l=r.body.getReader();!function t(){l.read().then((function(e){c._destroyed||(a(e.done),e.done?c.push(null):(c.push(i.from(e.value)),t()))})).catch((function(t){a(!0),c._destroyed||c.emit("error",t)}))}()}else{if(c._xhr=t,c._pos=0,c.url=t.responseURL,c.statusCode=t.status,c.statusMessage=t.statusText,t.getAllResponseHeaders().split(/\r?\n/).forEach((function(t){var e=t.match(/^([^:]+):\s*(.*)/);if(e){var r=e[1].toLowerCase();"set-cookie"===r?(void 0===c.headers[r]&&(c.headers[r]=[]),c.headers[r].push(e[2])):void 0!==c.headers[r]?c.headers[r]+=", "+e[2]:c.headers[r]=e[2],c.rawHeaders.push(e[1],e[2])}})),c._charset="x-user-defined",!o.overrideMimeType){var f=c.rawHeaders["mime-type"];if(f){var h=f.match(/;\s*charset=([^;])(;|$)/);h&&(c._charset=h[1].toLowerCase())}c._charset||(c._charset="utf-8")}}};a(u,s.Readable),u.prototype._read=function(){var t=this._resumeFetch;t&&(this._resumeFetch=null,t())},u.prototype._onXHRProgress=function(t){var e=this,r=e._xhr,o=null;switch(e._mode){case"text":if((o=r.responseText).length>e._pos){var a=o.substr(e._pos);if("x-user-defined"===e._charset){for(var s=i.alloc(a.length),u=0;u<a.length;u++)s[u]=255&a.charCodeAt(u);e.push(s)}else e.push(a,e._charset);e._pos=o.length}break;case"arraybuffer":if(r.readyState!==c.DONE||!r.response)break;o=r.response,e.push(i.from(new Uint8Array(o)));break;case"moz-chunked-arraybuffer":if(o=r.response,r.readyState!==c.LOADING||!o)break;e.push(i.from(new Uint8Array(o)));break;case"ms-stream":if(o=r.response,r.readyState!==c.LOADING)break;var l=new n.MSStreamReader;l.onprogress=function(){l.result.byteLength>e._pos&&(e.push(i.from(new Uint8Array(l.result.slice(e._pos)))),e._pos=l.result.byteLength)},l.onload=function(){t(!0),e.push(null)},l.readAsArrayBuffer(o)}e._xhr.readyState===c.DONE&&"ms-stream"!==e._mode&&(t(!0),e.push(null))}}).call(this)}).call(this,t("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},t("buffer").Buffer)},{"./capability":114,_process:98,buffer:20,inherits:78,"readable-stream":131}],117:[function(t,e,r){var n={};function i(t,e,r){r||(r=Error);var i=function(t){var r,n;function i(r,n,i){return t.call(this,function(t,r,n){return"string"==typeof e?e:e(t,r,n)}(r,n,i))||this}return n=t,(r=i).prototype=Object.create(n.prototype),r.prototype.constructor=r,r.__proto__=n,i}(r);i.prototype.name=r.name,i.prototype.code=t,n[t]=i}function o(t,e){if(Array.isArray(t)){var r=t.length;return t=t.map((function(t){return String(t)})),r>2?"one of ".concat(e," ").concat(t.slice(0,r-1).join(", "),", or ")+t[r-1]:2===r?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}return"of ".concat(e," ").concat(String(t))}i("ERR_INVALID_OPT_VALUE",(function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'}),TypeError),i("ERR_INVALID_ARG_TYPE",(function(t,e,r){var n,i,a,s;if("string"==typeof e&&(i="not ",e.substr(!a||a<0?0:+a,i.length)===i)?(n="must not be",e=e.replace(/^not /,"")):n="must be",function(t,e,r){return(void 0===r||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}(t," argument"))s="The ".concat(t," ").concat(n," ").concat(o(e,"type"));else{var c=function(t,e,r){return"number"!=typeof r&&(r=0),!(r+e.length>t.length)&&-1!==t.indexOf(e,r)}(t,".")?"property":"argument";s='The "'.concat(t,'" ').concat(c," ").concat(n," ").concat(o(e,"type"))}return s+=". Received type ".concat(_typeof(r))}),TypeError),i("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),i("ERR_METHOD_NOT_IMPLEMENTED",(function(t){return"The "+t+" method is not implemented"})),i("ERR_STREAM_PREMATURE_CLOSE","Premature close"),i("ERR_STREAM_DESTROYED",(function(t){return"Cannot call "+t+" after a stream was destroyed"})),i("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),i("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),i("ERR_STREAM_WRITE_AFTER_END","write after end"),i("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),i("ERR_UNKNOWN_ENCODING",(function(t){return"Unknown encoding: "+t}),TypeError),i("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),e.exports.codes=n},{}],118:[function(t,e,r){(function(r){(function(){var n=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};e.exports=u;var i=t("./_stream_readable"),o=t("./_stream_writable");t("inherits")(u,i);for(var a=n(o.prototype),s=0;s<a.length;s++){var c=a[s];u.prototype[c]||(u.prototype[c]=o.prototype[c])}function u(t){if(!(this instanceof u))return new u(t);i.call(this,t),o.call(this,t),this.allowHalfOpen=!0,t&&(!1===t.readable&&(this.readable=!1),!1===t.writable&&(this.writable=!1),!1===t.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",l)))}function l(){this._writableState.ended||r.nextTick(f,this)}function f(t){t.end()}Object.defineProperty(u.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(u.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(u.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(u.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(t){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}})}).call(this)}).call(this,t("_process"))},{"./_stream_readable":120,"./_stream_writable":122,_process:98,inherits:78}],119:[function(t,e,r){e.exports=i;var n=t("./_stream_transform");function i(t){if(!(this instanceof i))return new i(t);n.call(this,t)}t("inherits")(i,n),i.prototype._transform=function(t,e,r){r(null,t)}},{"./_stream_transform":121,inherits:78}],120:[function(t,e,r){(function(r,n){(function(){var i;e.exports=P,P.ReadableState=A;t("events").EventEmitter;var o=function(t,e){return t.listeners(e).length},a=t("./internal/streams/stream"),s=t("buffer").Buffer,c=(void 0!==n?n:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).Uint8Array||function(){};var u,l=t("util");u=l&&l.debuglog?l.debuglog("stream"):function(){};var f,h,p,d=t("./internal/streams/buffer_list"),y=t("./internal/streams/destroy"),g=t("./internal/streams/state").getHighWaterMark,v=t("../errors").codes,m=v.ERR_INVALID_ARG_TYPE,b=v.ERR_STREAM_PUSH_AFTER_EOF,w=v.ERR_METHOD_NOT_IMPLEMENTED,S=v.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;t("inherits")(P,a);var T=y.errorOrDestroy,_=["error","close","destroy","pause","resume"];function A(e,r,n){i=i||t("./_stream_duplex"),e=e||{},"boolean"!=typeof n&&(n=r instanceof i),this.objectMode=!!e.objectMode,n&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=g(this,e,"readableHighWaterMark",n),this.buffer=new d,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(f||(f=t("string_decoder/").StringDecoder),this.decoder=new f(e.encoding),this.encoding=e.encoding)}function P(e){if(i=i||t("./_stream_duplex"),!(this instanceof P))return new P(e);var r=this instanceof i;this._readableState=new A(e,this,r),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),a.call(this)}function C(t,e,r,n,i){u("readableAddChunk",e);var o,a=t._readableState;if(null===e)a.reading=!1,function(t,e){if(u("onEofChunk"),e.ended)return;if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,e.sync?M(t):(e.needReadable=!1,e.emittedReadable||(e.emittedReadable=!0,D(t)))}(t,a);else if(i||(o=function(t,e){var r;n=e,s.isBuffer(n)||n instanceof c||"string"==typeof e||void 0===e||t.objectMode||(r=new m("chunk",["string","Buffer","Uint8Array"],e));var n;return r}(a,e)),o)T(t,o);else if(a.objectMode||e&&e.length>0)if("string"==typeof e||a.objectMode||Object.getPrototypeOf(e)===s.prototype||(e=function(t){return s.from(t)}(e)),n)a.endEmitted?T(t,new S):k(t,a,e,!0);else if(a.ended)T(t,new b);else{if(a.destroyed)return!1;a.reading=!1,a.decoder&&!r?(e=a.decoder.write(e),a.objectMode||0!==e.length?k(t,a,e,!1):R(t,a)):k(t,a,e,!1)}else n||(a.reading=!1,R(t,a));return!a.ended&&(a.length<a.highWaterMark||0===a.length)}function k(t,e,r,n){e.flowing&&0===e.length&&!e.sync?(e.awaitDrain=0,t.emit("data",r)):(e.length+=e.objectMode?1:r.length,n?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&M(t)),R(t,e)}Object.defineProperty(P.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}}),P.prototype.destroy=y.destroy,P.prototype._undestroy=y.undestroy,P.prototype._destroy=function(t,e){e(t)},P.prototype.push=function(t,e){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof t&&((e=e||n.defaultEncoding)!==n.encoding&&(t=s.from(t,e),e=""),r=!0),C(this,t,e,!1,r)},P.prototype.unshift=function(t){return C(this,t,null,!0,!1)},P.prototype.isPaused=function(){return!1===this._readableState.flowing},P.prototype.setEncoding=function(e){f||(f=t("string_decoder/").StringDecoder);var r=new f(e);this._readableState.decoder=r,this._readableState.encoding=this._readableState.decoder.encoding;for(var n=this._readableState.buffer.head,i="";null!==n;)i+=r.write(n.data),n=n.next;return this._readableState.buffer.clear(),""!==i&&this._readableState.buffer.push(i),this._readableState.length=i.length,this};var E=1073741824;function O(t,e){return t<=0||0===e.length&&e.ended?0:e.objectMode?1:t!=t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=function(t){return t>=E?t=E:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}function M(t){var e=t._readableState;u("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(u("emitReadable",e.flowing),e.emittedReadable=!0,r.nextTick(D,t))}function D(t){var e=t._readableState;u("emitReadable_",e.destroyed,e.length,e.ended),e.destroyed||!e.length&&!e.ended||(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,N(t)}function R(t,e){e.readingMore||(e.readingMore=!0,r.nextTick(j,t,e))}function j(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&0===e.length);){var r=e.length;if(u("maybeReadMore read 0"),t.read(0),r===e.length)break}e.readingMore=!1}function x(t){var e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&!e.paused?e.flowing=!0:t.listenerCount("data")>0&&t.resume()}function I(t){u("readable nexttick read 0"),t.read(0)}function L(t,e){u("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),N(t),e.flowing&&!e.reading&&t.read(0)}function N(t){var e=t._readableState;for(u("flow",e.flowing);e.flowing&&null!==t.read(););}function B(t,e){return 0===e.length?null:(e.objectMode?r=e.buffer.shift():!t||t>=e.length?(r=e.decoder?e.buffer.join(""):1===e.buffer.length?e.buffer.first():e.buffer.concat(e.length),e.buffer.clear()):r=e.buffer.consume(t,e.decoder),r);var r}function F(t){var e=t._readableState;u("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,r.nextTick(U,e,t))}function U(t,e){if(u("endReadableNT",t.endEmitted,t.length),!t.endEmitted&&0===t.length&&(t.endEmitted=!0,e.readable=!1,e.emit("end"),t.autoDestroy)){var r=e._writableState;(!r||r.autoDestroy&&r.finished)&&e.destroy()}}function H(t,e){for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}P.prototype.read=function(t){u("read",t),t=parseInt(t,10);var e=this._readableState,r=t;if(0!==t&&(e.emittedReadable=!1),0===t&&e.needReadable&&((0!==e.highWaterMark?e.length>=e.highWaterMark:e.length>0)||e.ended))return u("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?F(this):M(this),null;if(0===(t=O(t,e))&&e.ended)return 0===e.length&&F(this),null;var n,i=e.needReadable;return u("need readable",i),(0===e.length||e.length-t<e.highWaterMark)&&u("length less than watermark",i=!0),e.ended||e.reading?u("reading or ended",i=!1):i&&(u("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=O(r,e))),null===(n=t>0?B(t,e):null)?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.awaitDrain=0),0===e.length&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&F(this)),null!==n&&this.emit("data",n),n},P.prototype._read=function(t){T(this,new w("_read()"))},P.prototype.pipe=function(t,e){var n=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=t;break;case 1:i.pipes=[i.pipes,t];break;default:i.pipes.push(t)}i.pipesCount+=1,u("pipe count=%d opts=%j",i.pipesCount,e);var a=(!e||!1!==e.end)&&t!==r.stdout&&t!==r.stderr?c:g;function s(e,r){u("onunpipe"),e===n&&r&&!1===r.hasUnpiped&&(r.hasUnpiped=!0,u("cleanup"),t.removeListener("close",d),t.removeListener("finish",y),t.removeListener("drain",l),t.removeListener("error",p),t.removeListener("unpipe",s),n.removeListener("end",c),n.removeListener("end",g),n.removeListener("data",h),f=!0,!i.awaitDrain||t._writableState&&!t._writableState.needDrain||l())}function c(){u("onend"),t.end()}i.endEmitted?r.nextTick(a):n.once("end",a),t.on("unpipe",s);var l=function(t){return function(){var e=t._readableState;u("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&o(t,"data")&&(e.flowing=!0,N(t))}}(n);t.on("drain",l);var f=!1;function h(e){u("ondata");var r=t.write(e);u("dest.write",r),!1===r&&((1===i.pipesCount&&i.pipes===t||i.pipesCount>1&&-1!==H(i.pipes,t))&&!f&&(u("false write response, pause",i.awaitDrain),i.awaitDrain++),n.pause())}function p(e){u("onerror",e),g(),t.removeListener("error",p),0===o(t,"error")&&T(t,e)}function d(){t.removeListener("finish",y),g()}function y(){u("onfinish"),t.removeListener("close",d),g()}function g(){u("unpipe"),n.unpipe(t)}return n.on("data",h),function(t,e,r){if("function"==typeof t.prependListener)return t.prependListener(e,r);t._events&&t._events[e]?Array.isArray(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]:t.on(e,r)}(t,"error",p),t.once("close",d),t.once("finish",y),t.emit("pipe",n),i.flowing||(u("pipe resume"),n.resume()),t},P.prototype.unpipe=function(t){var e=this._readableState,r={hasUnpiped:!1};if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes||(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,r)),this;if(!t){var n=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var o=0;o<i;o++)n[o].emit("unpipe",this,{hasUnpiped:!1});return this}var a=H(e.pipes,t);return-1===a||(e.pipes.splice(a,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,r)),this},P.prototype.on=function(t,e){var n=a.prototype.on.call(this,t,e),i=this._readableState;return"data"===t?(i.readableListening=this.listenerCount("readable")>0,!1!==i.flowing&&this.resume()):"readable"===t&&(i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,u("on readable",i.length,i.reading),i.length?M(this):i.reading||r.nextTick(I,this))),n},P.prototype.addListener=P.prototype.on,P.prototype.removeListener=function(t,e){var n=a.prototype.removeListener.call(this,t,e);return"readable"===t&&r.nextTick(x,this),n},P.prototype.removeAllListeners=function(t){var e=a.prototype.removeAllListeners.apply(this,arguments);return"readable"!==t&&void 0!==t||r.nextTick(x,this),e},P.prototype.resume=function(){var t=this._readableState;return t.flowing||(u("resume"),t.flowing=!t.readableListening,function(t,e){e.resumeScheduled||(e.resumeScheduled=!0,r.nextTick(L,t,e))}(this,t)),t.paused=!1,this},P.prototype.pause=function(){return u("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(u("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},P.prototype.wrap=function(t){var e=this,r=this._readableState,n=!1;for(var i in t.on("end",(function(){if(u("wrapped end"),r.decoder&&!r.ended){var t=r.decoder.end();t&&t.length&&e.push(t)}e.push(null)})),t.on("data",(function(i){(u("wrapped data"),r.decoder&&(i=r.decoder.write(i)),r.objectMode&&null==i)||(r.objectMode||i&&i.length)&&(e.push(i)||(n=!0,t.pause()))})),t)void 0===this[i]&&"function"==typeof t[i]&&(this[i]=function(e){return function(){return t[e].apply(t,arguments)}}(i));for(var o=0;o<_.length;o++)t.on(_[o],this.emit.bind(this,_[o]));return this._read=function(e){u("wrapped _read",e),n&&(n=!1,t.resume())},this},"function"==typeof Symbol&&(P.prototype[Symbol.asyncIterator]=function(){return void 0===h&&(h=t("./internal/streams/async_iterator")),h(this)}),Object.defineProperty(P.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(P.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(P.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(t){this._readableState&&(this._readableState.flowing=t)}}),P._fromList=B,Object.defineProperty(P.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(P.from=function(e,r){return void 0===p&&(p=t("./internal/streams/from")),p(P,e,r)})}).call(this)}).call(this,t("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../errors":117,"./_stream_duplex":118,"./internal/streams/async_iterator":123,"./internal/streams/buffer_list":124,"./internal/streams/destroy":125,"./internal/streams/from":127,"./internal/streams/state":129,"./internal/streams/stream":130,_process:98,buffer:20,events:37,inherits:78,"string_decoder/":132,util:18}],121:[function(t,e,r){e.exports=l;var n=t("../errors").codes,i=n.ERR_METHOD_NOT_IMPLEMENTED,o=n.ERR_MULTIPLE_CALLBACK,a=n.ERR_TRANSFORM_ALREADY_TRANSFORMING,s=n.ERR_TRANSFORM_WITH_LENGTH_0,c=t("./_stream_duplex");function u(t,e){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(null===n)return this.emit("error",new o);r.writechunk=null,r.writecb=null,null!=e&&this.push(e),n(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function l(t){if(!(this instanceof l))return new l(t);c.call(this,t),this._transformState={afterTransform:u.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"==typeof t.transform&&(this._transform=t.transform),"function"==typeof t.flush&&(this._flush=t.flush)),this.on("prefinish",f)}function f(){var t=this;"function"!=typeof this._flush||this._readableState.destroyed?h(this,null,null):this._flush((function(e,r){h(t,e,r)}))}function h(t,e,r){if(e)return t.emit("error",e);if(null!=r&&t.push(r),t._writableState.length)throw new s;if(t._transformState.transforming)throw new a;return t.push(null)}t("inherits")(l,c),l.prototype.push=function(t,e){return this._transformState.needTransform=!1,c.prototype.push.call(this,t,e)},l.prototype._transform=function(t,e,r){r(new i("_transform()"))},l.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},l.prototype._read=function(t){var e=this._transformState;null===e.writechunk||e.transforming?e.needTransform=!0:(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform))},l.prototype._destroy=function(t,e){c.prototype._destroy.call(this,t,(function(t){e(t)}))}},{"../errors":117,"./_stream_duplex":118,inherits:78}],122:[function(t,e,r){(function(r,n){(function(){function i(t){var e=this;this.next=null,this.entry=null,this.finish=function(){!function(t,e,r){var n=t.entry;t.entry=null;for(;n;){var i=n.callback;e.pendingcb--,i(r),n=n.next}e.corkedRequestsFree.next=t}(e,t)}}var o;e.exports=P,P.WritableState=A;var a={deprecate:t("util-deprecate")},s=t("./internal/streams/stream"),c=t("buffer").Buffer,u=(void 0!==n?n:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).Uint8Array||function(){};var l,f=t("./internal/streams/destroy"),h=t("./internal/streams/state").getHighWaterMark,p=t("../errors").codes,d=p.ERR_INVALID_ARG_TYPE,y=p.ERR_METHOD_NOT_IMPLEMENTED,g=p.ERR_MULTIPLE_CALLBACK,v=p.ERR_STREAM_CANNOT_PIPE,m=p.ERR_STREAM_DESTROYED,b=p.ERR_STREAM_NULL_VALUES,w=p.ERR_STREAM_WRITE_AFTER_END,S=p.ERR_UNKNOWN_ENCODING,T=f.errorOrDestroy;function _(){}function A(e,n,a){o=o||t("./_stream_duplex"),e=e||{},"boolean"!=typeof a&&(a=n instanceof o),this.objectMode=!!e.objectMode,a&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=h(this,e,"writableHighWaterMark",a),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var s=!1===e.decodeStrings;this.decodeStrings=!s,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){!function(t,e){var n=t._writableState,i=n.sync,o=n.writecb;if("function"!=typeof o)throw new g;if(function(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}(n),e)!function(t,e,n,i,o){--e.pendingcb,n?(r.nextTick(o,i),r.nextTick(D,t,e),t._writableState.errorEmitted=!0,T(t,i)):(o(i),t._writableState.errorEmitted=!0,T(t,i),D(t,e))}(t,n,i,e,o);else{var a=O(n)||t.destroyed;a||n.corked||n.bufferProcessing||!n.bufferedRequest||E(t,n),i?r.nextTick(k,t,n,a,o):k(t,n,a,o)}}(n,t)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new i(this)}function P(e){var r=this instanceof(o=o||t("./_stream_duplex"));if(!r&&!l.call(P,this))return new P(e);this._writableState=new A(e,this,r),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),s.call(this)}function C(t,e,r,n,i,o,a){e.writelen=n,e.writecb=a,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new m("write")):r?t._writev(i,e.onwrite):t._write(i,o,e.onwrite),e.sync=!1}function k(t,e,r,n){r||function(t,e){0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}(t,e),e.pendingcb--,n(),D(t,e)}function E(t,e){e.bufferProcessing=!0;var r=e.bufferedRequest;if(t._writev&&r&&r.next){var n=e.bufferedRequestCount,o=new Array(n),a=e.corkedRequestsFree;a.entry=r;for(var s=0,c=!0;r;)o[s]=r,r.isBuf||(c=!1),r=r.next,s+=1;o.allBuffers=c,C(t,e,!0,e.length,o,"",a.finish),e.pendingcb++,e.lastBufferedRequest=null,a.next?(e.corkedRequestsFree=a.next,a.next=null):e.corkedRequestsFree=new i(e),e.bufferedRequestCount=0}else{for(;r;){var u=r.chunk,l=r.encoding,f=r.callback;if(C(t,e,!1,e.objectMode?1:u.length,u,l,f),r=r.next,e.bufferedRequestCount--,e.writing)break}null===r&&(e.lastBufferedRequest=null)}e.bufferedRequest=r,e.bufferProcessing=!1}function O(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function M(t,e){t._final((function(r){e.pendingcb--,r&&T(t,r),e.prefinished=!0,t.emit("prefinish"),D(t,e)}))}function D(t,e){var n=O(e);if(n&&(function(t,e){e.prefinished||e.finalCalled||("function"!=typeof t._final||e.destroyed?(e.prefinished=!0,t.emit("prefinish")):(e.pendingcb++,e.finalCalled=!0,r.nextTick(M,t,e)))}(t,e),0===e.pendingcb&&(e.finished=!0,t.emit("finish"),e.autoDestroy))){var i=t._readableState;(!i||i.autoDestroy&&i.endEmitted)&&t.destroy()}return n}t("inherits")(P,s),A.prototype.getBuffer=function(){for(var t=this.bufferedRequest,e=[];t;)e.push(t),t=t.next;return e},function(){try{Object.defineProperty(A.prototype,"buffer",{get:a.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(t){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(l=Function.prototype[Symbol.hasInstance],Object.defineProperty(P,Symbol.hasInstance,{value:function(t){return!!l.call(this,t)||this===P&&(t&&t._writableState instanceof A)}})):l=function(t){return t instanceof this},P.prototype.pipe=function(){T(this,new v)},P.prototype.write=function(t,e,n){var i,o=this._writableState,a=!1,s=!o.objectMode&&(i=t,c.isBuffer(i)||i instanceof u);return s&&!c.isBuffer(t)&&(t=function(t){return c.from(t)}(t)),"function"==typeof e&&(n=e,e=null),s?e="buffer":e||(e=o.defaultEncoding),"function"!=typeof n&&(n=_),o.ending?function(t,e){var n=new w;T(t,n),r.nextTick(e,n)}(this,n):(s||function(t,e,n,i){var o;return null===n?o=new b:"string"==typeof n||e.objectMode||(o=new d("chunk",["string","Buffer"],n)),!o||(T(t,o),r.nextTick(i,o),!1)}(this,o,t,n))&&(o.pendingcb++,a=function(t,e,r,n,i,o){if(!r){var a=function(t,e,r){t.objectMode||!1===t.decodeStrings||"string"!=typeof e||(e=c.from(e,r));return e}(e,n,i);n!==a&&(r=!0,i="buffer",n=a)}var s=e.objectMode?1:n.length;e.length+=s;var u=e.length<e.highWaterMark;u||(e.needDrain=!0);if(e.writing||e.corked){var l=e.lastBufferedRequest;e.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:o,next:null},l?l.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else C(t,e,!1,s,n,i,o);return u}(this,o,s,t,e,n)),a},P.prototype.cork=function(){this._writableState.corked++},P.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.bufferProcessing||!t.bufferedRequest||E(this,t))},P.prototype.setDefaultEncoding=function(t){if("string"==typeof t&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new S(t);return this._writableState.defaultEncoding=t,this},Object.defineProperty(P.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(P.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),P.prototype._write=function(t,e,r){r(new y("_write()"))},P.prototype._writev=null,P.prototype.end=function(t,e,n){var i=this._writableState;return"function"==typeof t?(n=t,t=null,e=null):"function"==typeof e&&(n=e,e=null),null!=t&&this.write(t,e),i.corked&&(i.corked=1,this.uncork()),i.ending||function(t,e,n){e.ending=!0,D(t,e),n&&(e.finished?r.nextTick(n):t.once("finish",n));e.ended=!0,t.writable=!1}(this,i,n),this},Object.defineProperty(P.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(P.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}}),P.prototype.destroy=f.destroy,P.prototype._undestroy=f.undestroy,P.prototype._destroy=function(t,e){e(t)}}).call(this)}).call(this,t("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../errors":117,"./_stream_duplex":118,"./internal/streams/destroy":125,"./internal/streams/state":129,"./internal/streams/stream":130,_process:98,buffer:20,inherits:78,"util-deprecate":135}],123:[function(t,e,r){(function(r){(function(){var n;function i(t,e,r){return(e=function(t){var e=function(t,e){if("object"!==_typeof(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==_typeof(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===_typeof(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var o=t("./end-of-stream"),a=Symbol("lastResolve"),s=Symbol("lastReject"),c=Symbol("error"),u=Symbol("ended"),l=Symbol("lastPromise"),f=Symbol("handlePromise"),h=Symbol("stream");function p(t,e){return{value:t,done:e}}function d(t){var e=t[a];if(null!==e){var r=t[h].read();null!==r&&(t[l]=null,t[a]=null,t[s]=null,e(p(r,!1)))}}function y(t){r.nextTick(d,t)}var g=Object.getPrototypeOf((function(){})),v=Object.setPrototypeOf((i(n={get stream(){return this[h]},next:function(){var t=this,e=this[c];if(null!==e)return Promise.reject(e);if(this[u])return Promise.resolve(p(void 0,!0));if(this[h].destroyed)return new Promise((function(e,n){r.nextTick((function(){t[c]?n(t[c]):e(p(void 0,!0))}))}));var n,i=this[l];if(i)n=new Promise(function(t,e){return function(r,n){t.then((function(){e[u]?r(p(void 0,!0)):e[f](r,n)}),n)}}(i,this));else{var o=this[h].read();if(null!==o)return Promise.resolve(p(o,!1));n=new Promise(this[f])}return this[l]=n,n}},Symbol.asyncIterator,(function(){return this})),i(n,"return",(function(){var t=this;return new Promise((function(e,r){t[h].destroy(null,(function(t){t?r(t):e(p(void 0,!0))}))}))})),n),g);e.exports=function(t){var e,r=Object.create(v,(i(e={},h,{value:t,writable:!0}),i(e,a,{value:null,writable:!0}),i(e,s,{value:null,writable:!0}),i(e,c,{value:null,writable:!0}),i(e,u,{value:t._readableState.endEmitted,writable:!0}),i(e,f,{value:function(t,e){var n=r[h].read();n?(r[l]=null,r[a]=null,r[s]=null,t(p(n,!1))):(r[a]=t,r[s]=e)},writable:!0}),e));return r[l]=null,o(t,(function(t){if(t&&"ERR_STREAM_PREMATURE_CLOSE"!==t.code){var e=r[s];return null!==e&&(r[l]=null,r[a]=null,r[s]=null,e(t)),void(r[c]=t)}var n=r[a];null!==n&&(r[l]=null,r[a]=null,r[s]=null,n(p(void 0,!0))),r[u]=!0})),t.on("readable",y.bind(null,r)),r}}).call(this)}).call(this,t("_process"))},{"./end-of-stream":126,_process:98}],124:[function(t,e,r){function n(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function i(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?n(Object(r),!0).forEach((function(e){o(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function o(t,e,r){return(e=s(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function a(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,s(n.key),n)}}function s(t){var e=function(t,e){if("object"!==_typeof(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==_typeof(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===_typeof(e)?e:String(e)}var c=t("buffer").Buffer,u=t("util").inspect,l=u&&u.custom||"inspect";e.exports=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.head=null,this.tail=null,this.length=0}var e,r,n;return e=t,(r=[{key:"push",value:function(t){var e={data:t,next:null};this.length>0?this.tail.next=e:this.head=e,this.tail=e,++this.length}},{key:"unshift",value:function(t){var e={data:t,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length}},{key:"shift",value:function(){if(0!==this.length){var t=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(t){if(0===this.length)return"";for(var e=this.head,r=""+e.data;e=e.next;)r+=t+e.data;return r}},{key:"concat",value:function(t){if(0===this.length)return c.alloc(0);for(var e,r,n,i=c.allocUnsafe(t>>>0),o=this.head,a=0;o;)e=o.data,r=i,n=a,c.prototype.copy.call(e,r,n),a+=o.data.length,o=o.next;return i}},{key:"consume",value:function(t,e){var r;return t<this.head.data.length?(r=this.head.data.slice(0,t),this.head.data=this.head.data.slice(t)):r=t===this.head.data.length?this.shift():e?this._getString(t):this._getBuffer(t),r}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(t){var e=this.head,r=1,n=e.data;for(t-=n.length;e=e.next;){var i=e.data,o=t>i.length?i.length:t;if(o===i.length?n+=i:n+=i.slice(0,t),0==(t-=o)){o===i.length?(++r,e.next?this.head=e.next:this.head=this.tail=null):(this.head=e,e.data=i.slice(o));break}++r}return this.length-=r,n}},{key:"_getBuffer",value:function(t){var e=c.allocUnsafe(t),r=this.head,n=1;for(r.data.copy(e),t-=r.data.length;r=r.next;){var i=r.data,o=t>i.length?i.length:t;if(i.copy(e,e.length-t,0,o),0==(t-=o)){o===i.length?(++n,r.next?this.head=r.next:this.head=this.tail=null):(this.head=r,r.data=i.slice(o));break}++n}return this.length-=n,e}},{key:l,value:function(t,e){return u(this,i(i({},e),{},{depth:0,customInspect:!1}))}}])&&a(e.prototype,r),n&&a(e,n),Object.defineProperty(e,"prototype",{writable:!1}),t}()},{buffer:20,util:18}],125:[function(t,e,r){(function(t){(function(){function r(t,e){i(t,e),n(t)}function n(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function i(t,e){t.emit("error",e)}e.exports={destroy:function(e,o){var a=this,s=this._readableState&&this._readableState.destroyed,c=this._writableState&&this._writableState.destroyed;return s||c?(o?o(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,t.nextTick(i,this,e)):t.nextTick(i,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!o&&e?a._writableState?a._writableState.errorEmitted?t.nextTick(n,a):(a._writableState.errorEmitted=!0,t.nextTick(r,a,e)):t.nextTick(r,a,e):o?(t.nextTick(n,a),o(e)):t.nextTick(n,a)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(t,e){var r=t._readableState,n=t._writableState;r&&r.autoDestroy||n&&n.autoDestroy?t.destroy(e):t.emit("error",e)}}}).call(this)}).call(this,t("_process"))},{_process:98}],126:[function(t,e,r){var n=t("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;function i(){}e.exports=function t(e,r,o){if("function"==typeof r)return t(e,null,r);r||(r={}),o=function(t){var e=!1;return function(){if(!e){e=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];t.apply(this,n)}}}(o||i);var a=r.readable||!1!==r.readable&&e.readable,s=r.writable||!1!==r.writable&&e.writable,c=function(){e.writable||l()},u=e._writableState&&e._writableState.finished,l=function(){s=!1,u=!0,a||o.call(e)},f=e._readableState&&e._readableState.endEmitted,h=function(){a=!1,f=!0,s||o.call(e)},p=function(t){o.call(e,t)},d=function(){var t;return a&&!f?(e._readableState&&e._readableState.ended||(t=new n),o.call(e,t)):s&&!u?(e._writableState&&e._writableState.ended||(t=new n),o.call(e,t)):void 0},y=function(){e.req.on("finish",l)};return!function(t){return t.setHeader&&"function"==typeof t.abort}(e)?s&&!e._writableState&&(e.on("end",c),e.on("close",c)):(e.on("complete",l),e.on("abort",d),e.req?y():e.on("request",y)),e.on("end",h),e.on("finish",l),!1!==r.error&&e.on("error",p),e.on("close",d),function(){e.removeListener("complete",l),e.removeListener("abort",d),e.removeListener("request",y),e.req&&e.req.removeListener("finish",l),e.removeListener("end",c),e.removeListener("close",c),e.removeListener("finish",l),e.removeListener("end",h),e.removeListener("error",p),e.removeListener("close",d)}}},{"../../../errors":117}],127:[function(t,e,r){e.exports=function(){throw new Error("Readable.from is not available in the browser")}},{}],128:[function(t,e,r){var n;var i=t("../../../errors").codes,o=i.ERR_MISSING_ARGS,a=i.ERR_STREAM_DESTROYED;function s(t){if(t)throw t}function c(t){t()}function u(t,e){return t.pipe(e)}e.exports=function(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];var l,f=function(t){return t.length?"function"!=typeof t[t.length-1]?s:t.pop():s}(r);if(Array.isArray(r[0])&&(r=r[0]),r.length<2)throw new o("streams");var h=r.map((function(e,i){var o=i<r.length-1;return function(e,r,i,o){o=function(t){var e=!1;return function(){e||(e=!0,t.apply(void 0,arguments))}}(o);var s=!1;e.on("close",(function(){s=!0})),void 0===n&&(n=t("./end-of-stream")),n(e,{readable:r,writable:i},(function(t){if(t)return o(t);s=!0,o()}));var c=!1;return function(t){if(!s&&!c)return c=!0,function(t){return t.setHeader&&"function"==typeof t.abort}(e)?e.abort():"function"==typeof e.destroy?e.destroy():void o(t||new a("pipe"))}}(e,o,i>0,(function(t){l||(l=t),t&&h.forEach(c),o||(h.forEach(c),f(l))}))}));return r.reduce(u)}},{"../../../errors":117,"./end-of-stream":126}],129:[function(t,e,r){var n=t("../../../errors").codes.ERR_INVALID_OPT_VALUE;e.exports={getHighWaterMark:function(t,e,r,i){var o=function(t,e,r){return null!=t.highWaterMark?t.highWaterMark:e?t[r]:null}(e,i,r);if(null!=o){if(!isFinite(o)||Math.floor(o)!==o||o<0)throw new n(i?r:"highWaterMark",o);return Math.floor(o)}return t.objectMode?16:16384}}},{"../../../errors":117}],130:[function(t,e,r){e.exports=t("events").EventEmitter},{events:37}],131:[function(t,e,r){(r=e.exports=t("./lib/_stream_readable.js")).Stream=r,r.Readable=r,r.Writable=t("./lib/_stream_writable.js"),r.Duplex=t("./lib/_stream_duplex.js"),r.Transform=t("./lib/_stream_transform.js"),r.PassThrough=t("./lib/_stream_passthrough.js"),r.finished=t("./lib/internal/streams/end-of-stream.js"),r.pipeline=t("./lib/internal/streams/pipeline.js")},{"./lib/_stream_duplex.js":118,"./lib/_stream_passthrough.js":119,"./lib/_stream_readable.js":120,"./lib/_stream_transform.js":121,"./lib/_stream_writable.js":122,"./lib/internal/streams/end-of-stream.js":126,"./lib/internal/streams/pipeline.js":128}],132:[function(t,e,r){var n=t("safe-buffer").Buffer,i=n.isEncoding||function(t){switch((t=""+t)&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(t){var e;switch(this.encoding=function(t){var e=function(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}(t);if("string"!=typeof e&&(n.isEncoding===i||!i(t)))throw new Error("Unknown encoding: "+t);return e||t}(t),this.encoding){case"utf16le":this.text=c,this.end=u,e=4;break;case"utf8":this.fillLast=s,e=4;break;case"base64":this.text=l,this.end=f,e=3;break;default:return this.write=h,void(this.end=p)}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(e)}function a(t){return t<=127?0:t>>5==6?2:t>>4==14?3:t>>3==30?4:t>>6==2?-1:-2}function s(t){var e=this.lastTotal-this.lastNeed,r=function(t,e,r){if(128!=(192&e[0]))return t.lastNeed=0,"�";if(t.lastNeed>1&&e.length>1){if(128!=(192&e[1]))return t.lastNeed=1,"�";if(t.lastNeed>2&&e.length>2&&128!=(192&e[2]))return t.lastNeed=2,"�"}}(this,t);return void 0!==r?r:this.lastNeed<=t.length?(t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,e,0,t.length),void(this.lastNeed-=t.length))}function c(t,e){if((t.length-e)%2==0){var r=t.toString("utf16le",e);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function u(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,r)}return e}function l(t,e){var r=(t.length-e)%3;return 0===r?t.toString("base64",e):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-r))}function f(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function h(t){return t.toString(this.encoding)}function p(t){return t&&t.length?this.write(t):""}r.StringDecoder=o,o.prototype.write=function(t){if(0===t.length)return"";var e,r;if(this.lastNeed){if(void 0===(e=this.fillLast(t)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<t.length?e?e+this.text(t,r):this.text(t,r):e||""},o.prototype.end=function(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"�":e},o.prototype.text=function(t,e){var r=function(t,e,r){var n=e.length-1;if(n<r)return 0;var i=a(e[n]);if(i>=0)return i>0&&(t.lastNeed=i-1),i;if(--n<r||-2===i)return 0;if(i=a(e[n]),i>=0)return i>0&&(t.lastNeed=i-2),i;if(--n<r||-2===i)return 0;if(i=a(e[n]),i>=0)return i>0&&(2===i?i=0:t.lastNeed=i-3),i;return 0}(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=r;var n=t.length-(r-this.lastNeed);return t.copy(this.lastChar,0,n),t.toString("utf8",e,n)},o.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length}},{"safe-buffer":108}],133:[function(t,e,r){(function(e,n){(function(){var i=t("process/browser.js").nextTick,o=Function.prototype.apply,a=Array.prototype.slice,s={},c=0;function u(t,e){this._id=t,this._clearFn=e}r.setTimeout=function(){return new u(o.call(setTimeout,window,arguments),clearTimeout)},r.setInterval=function(){return new u(o.call(setInterval,window,arguments),clearInterval)},r.clearTimeout=r.clearInterval=function(t){t.close()},u.prototype.unref=u.prototype.ref=function(){},u.prototype.close=function(){this._clearFn.call(window,this._id)},r.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},r.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},r._unrefActive=r.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout((function(){t._onTimeout&&t._onTimeout()}),e))},r.setImmediate="function"==typeof e?e:function(t){var e=c++,n=!(arguments.length<2)&&a.call(arguments,1);return s[e]=!0,i((function(){s[e]&&(n?t.apply(null,n):t.call(null),r.clearImmediate(e))})),e},r.clearImmediate="function"==typeof n?n:function(t){delete s[t]}}).call(this)}).call(this,t("timers").setImmediate,t("timers").clearImmediate)},{"process/browser.js":98,timers:133}],134:[function(t,e,r){var n=t("punycode");function i(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var o=/^([a-z0-9.+-]+:)/i,a=/:[0-9]*$/,s=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,c=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),u=["'"].concat(c),l=["%","/","?",";","#"].concat(u),f=["/","?","#"],h=/^[+a-z0-9A-Z_-]{0,63}$/,p=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,d={javascript:!0,"javascript:":!0},y={javascript:!0,"javascript:":!0},g={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},v=t("qs");function m(t,e,r){if(t&&"object"===_typeof(t)&&t instanceof i)return t;var n=new i;return n.parse(t,e,r),n}i.prototype.parse=function(t,e,r){if("string"!=typeof t)throw new TypeError("Parameter 'url' must be a string, not "+_typeof(t));var i=t.indexOf("?"),a=-1!==i&&i<t.indexOf("#")?"?":"#",c=t.split(a);c[0]=c[0].replace(/\\/g,"/");var m=t=c.join(a);if(m=m.trim(),!r&&1===t.split("#").length){var b=s.exec(m);if(b)return this.path=m,this.href=m,this.pathname=b[1],b[2]?(this.search=b[2],this.query=e?v.parse(this.search.substr(1)):this.search.substr(1)):e&&(this.search="",this.query={}),this}var w=o.exec(m);if(w){var S=(w=w[0]).toLowerCase();this.protocol=S,m=m.substr(w.length)}if(r||w||m.match(/^\/\/[^@/]+@[^@/]+/)){var T="//"===m.substr(0,2);!T||w&&y[w]||(m=m.substr(2),this.slashes=!0)}if(!y[w]&&(T||w&&!g[w])){for(var _,A,P=-1,C=0;C<f.length;C++){-1!==(k=m.indexOf(f[C]))&&(-1===P||k<P)&&(P=k)}-1!==(A=-1===P?m.lastIndexOf("@"):m.lastIndexOf("@",P))&&(_=m.slice(0,A),m=m.slice(A+1),this.auth=decodeURIComponent(_)),P=-1;for(C=0;C<l.length;C++){var k;-1!==(k=m.indexOf(l[C]))&&(-1===P||k<P)&&(P=k)}-1===P&&(P=m.length),this.host=m.slice(0,P),m=m.slice(P),this.parseHost(),this.hostname=this.hostname||"";var E="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!E)for(var O=this.hostname.split(/\./),M=(C=0,O.length);C<M;C++){var D=O[C];if(D&&!D.match(h)){for(var R="",j=0,x=D.length;j<x;j++)D.charCodeAt(j)>127?R+="x":R+=D[j];if(!R.match(h)){var I=O.slice(0,C),L=O.slice(C+1),N=D.match(p);N&&(I.push(N[1]),L.unshift(N[2])),L.length&&(m="/"+L.join(".")+m),this.hostname=I.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),E||(this.hostname=n.toASCII(this.hostname));var B=this.port?":"+this.port:"",F=this.hostname||"";this.host=F+B,this.href+=this.host,E&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==m[0]&&(m="/"+m))}if(!d[S])for(C=0,M=u.length;C<M;C++){var U=u[C];if(-1!==m.indexOf(U)){var H=encodeURIComponent(U);H===U&&(H=escape(U)),m=m.split(U).join(H)}}var V=m.indexOf("#");-1!==V&&(this.hash=m.substr(V),m=m.slice(0,V));var z=m.indexOf("?");if(-1!==z?(this.search=m.substr(z),this.query=m.substr(z+1),e&&(this.query=v.parse(this.query)),m=m.slice(0,z)):e&&(this.search="",this.query={}),m&&(this.pathname=m),g[S]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){B=this.pathname||"";var W=this.search||"";this.path=B+W}return this.href=this.format(),this},i.prototype.format=function(){var t=this.auth||"";t&&(t=(t=encodeURIComponent(t)).replace(/%3A/i,":"),t+="@");var e=this.protocol||"",r=this.pathname||"",n=this.hash||"",i=!1,o="";this.host?i=t+this.host:this.hostname&&(i=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&"object"===_typeof(this.query)&&Object.keys(this.query).length&&(o=v.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var a=this.search||o&&"?"+o||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||g[e])&&!1!==i?(i="//"+(i||""),r&&"/"!==r.charAt(0)&&(r="/"+r)):i||(i=""),n&&"#"!==n.charAt(0)&&(n="#"+n),a&&"?"!==a.charAt(0)&&(a="?"+a),e+i+(r=r.replace(/[?#]/g,(function(t){return encodeURIComponent(t)})))+(a=a.replace("#","%23"))+n},i.prototype.resolve=function(t){return this.resolveObject(m(t,!1,!0)).format()},i.prototype.resolveObject=function(t){if("string"==typeof t){var e=new i;e.parse(t,!1,!0),t=e}for(var r=new i,n=Object.keys(this),o=0;o<n.length;o++){var a=n[o];r[a]=this[a]}if(r.hash=t.hash,""===t.href)return r.href=r.format(),r;if(t.slashes&&!t.protocol){for(var s=Object.keys(t),c=0;c<s.length;c++){var u=s[c];"protocol"!==u&&(r[u]=t[u])}return g[r.protocol]&&r.hostname&&!r.pathname&&(r.pathname="/",r.path=r.pathname),r.href=r.format(),r}if(t.protocol&&t.protocol!==r.protocol){if(!g[t.protocol]){for(var l=Object.keys(t),f=0;f<l.length;f++){var h=l[f];r[h]=t[h]}return r.href=r.format(),r}if(r.protocol=t.protocol,t.host||y[t.protocol])r.pathname=t.pathname;else{for(var p=(t.pathname||"").split("/");p.length&&!(t.host=p.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==p[0]&&p.unshift(""),p.length<2&&p.unshift(""),r.pathname=p.join("/")}if(r.search=t.search,r.query=t.query,r.host=t.host||"",r.auth=t.auth,r.hostname=t.hostname||t.host,r.port=t.port,r.pathname||r.search){var d=r.pathname||"",v=r.search||"";r.path=d+v}return r.slashes=r.slashes||t.slashes,r.href=r.format(),r}var m=r.pathname&&"/"===r.pathname.charAt(0),b=t.host||t.pathname&&"/"===t.pathname.charAt(0),w=b||m||r.host&&t.pathname,S=w,T=r.pathname&&r.pathname.split("/")||[],_=(p=t.pathname&&t.pathname.split("/")||[],r.protocol&&!g[r.protocol]);if(_&&(r.hostname="",r.port=null,r.host&&(""===T[0]?T[0]=r.host:T.unshift(r.host)),r.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===p[0]?p[0]=t.host:p.unshift(t.host)),t.host=null),w=w&&(""===p[0]||""===T[0])),b)r.host=t.host||""===t.host?t.host:r.host,r.hostname=t.hostname||""===t.hostname?t.hostname:r.hostname,r.search=t.search,r.query=t.query,T=p;else if(p.length)T||(T=[]),T.pop(),T=T.concat(p),r.search=t.search,r.query=t.query;else if(null!=t.search){if(_)r.host=T.shift(),r.hostname=r.host,(E=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=E.shift(),r.hostname=E.shift(),r.host=r.hostname);return r.search=t.search,r.query=t.query,null===r.pathname&&null===r.search||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!T.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var A=T.slice(-1)[0],P=(r.host||t.host||T.length>1)&&("."===A||".."===A)||""===A,C=0,k=T.length;k>=0;k--)"."===(A=T[k])?T.splice(k,1):".."===A?(T.splice(k,1),C++):C&&(T.splice(k,1),C--);if(!w&&!S)for(;C--;C)T.unshift("..");!w||""===T[0]||T[0]&&"/"===T[0].charAt(0)||T.unshift(""),P&&"/"!==T.join("/").substr(-1)&&T.push("");var E,O=""===T[0]||T[0]&&"/"===T[0].charAt(0);_&&(r.hostname=O?"":T.length?T.shift():"",r.host=r.hostname,(E=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=E.shift(),r.hostname=E.shift(),r.host=r.hostname));return(w=w||r.host&&T.length)&&!O&&T.unshift(""),T.length>0?r.pathname=T.join("/"):(r.pathname=null,r.path=null),null===r.pathname&&null===r.search||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=t.auth||r.auth,r.slashes=r.slashes||t.slashes,r.href=r.format(),r},i.prototype.parseHost=function(){var t=this.host,e=a.exec(t);e&&(":"!==(e=e[0])&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)},r.parse=m,r.resolve=function(t,e){return m(t,!1,!0).resolve(e)},r.resolveObject=function(t,e){return t?m(t,!1,!0).resolveObject(e):e},r.format=function(t){return"string"==typeof t&&(t=m(t)),t instanceof i?t.format():i.prototype.format.call(t)},r.Url=i},{punycode:99,qs:101}],135:[function(t,e,r){(function(t){(function(){function r(e){try{if(!t.localStorage)return!1}catch(t){return!1}var r=t.localStorage[e];return null!=r&&"true"===String(r).toLowerCase()}e.exports=function(t,e){if(r("noDeprecation"))return t;var n=!1;return function(){if(!n){if(r("throwDeprecation"))throw new Error(e);r("traceDeprecation")?console.trace(e):console.warn(e),n=!0}return t.apply(this,arguments)}}}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],136:[function(t,e,r){e.exports=function t(e,r){if(e&&r)return t(e)(r);if("function"!=typeof e)throw new TypeError("need wrapper function");return Object.keys(e).forEach((function(t){n[t]=e[t]})),n;function n(){for(var t=new Array(arguments.length),r=0;r<t.length;r++)t[r]=arguments[r];var n=e.apply(this,t),i=t[t.length-1];return"function"==typeof n&&n!==i&&Object.keys(i).forEach((function(t){n[t]=i[t]})),n}}},{}],137:[function(t,e,r){e.exports=function(){for(var t={},e=0;e<arguments.length;e++){var r=arguments[e];for(var i in r)n.call(r,i)&&(t[i]=r[i])}return t};var n=Object.prototype.hasOwnProperty},{}],138:[function(t,e,r){var n=t("fable").ServiceProviderBase,i="#PICT-CSS",o=function(t){_inherits(r,t);var e=_createSuper(r);function r(t,n,o){var a;return _classCallCheck2(this,r),void 0===(a=e.call(this,t,n,o)).options.CSSElementAddress&&(a.options.CSSElementAddress=i),a.inlineCSSMap={},a}return _createClass2(r,[{key:"addCSS",value:function(t,e,r,n){var i=void 0!==r?r:1e3,o="string"==typeof n?n:"Unknown";this.inlineCSSMap[t]={Hash:t,Content:e,Provider:o,Priority:i}}},{key:"removeCSS",value:function(t){delete this.inlineCSSMap[t]}},{key:"generateCSS",value:function(){var t=this,e="",r=Object.keys(this.inlineCSSMap);r.sort((function(e,r){return t.inlineCSSMap[e].Priority-t.inlineCSSMap[r].Priority}));for(var n=0;n<r.length;n++){var i=this.inlineCSSMap[r[n]],o=i.Hash;i.Hash!=i.Provider&&(o="".concat(o," from ").concat(i.Provider)),e+="/* ".concat(o," */\n").concat(i.Content,"\n")}return e}},{key:"injectCSS",value:function(){this.services.ContentAssignment.assignContent(this.options.CSSElementAddress,this.generateCSS())}}]),r}(n);e.exports=o},{fable:50}],139:[function(t,e,r){var n=function(t){_inherits(r,t);var e=_createSuper(r);function r(t,n,i){var o;return _classCallCheck2(this,r),(o=e.call(this,t,n,i)).serviceType="PictContentAssignment",o.inBrowser=!1,o.hasDocument=!1,"object"==("undefined"==typeof window?"undefined":_typeof(window))&&(o.inBrowser=!0,void 0!==window.document&&"function"==typeof window.document.querySelectorAll&&(o.hasDocument=!0)),o.hasJquery=!1,o.jQuery=!1,o.inBrowser&&void 0!==window.jQuery&&(o.hasJquery=!0),o.customAssignFunction=!1,o.customPrependFunction=!1,o.customAppendFunction=!1,o.customReadFunction=!1,o.customGetElementFunction=!1,o.customReadAttributeFunction=!1,o.customSetAttributeFunction=!1,o.customRemoveAttributeFunction=!1,o.customReadClassFunction=!1,o.customSetClassFunction=!1,o.customRemoveClassFunction=!1,o}return _createClass2(r,[{key:"getElement",value:function(t){if(this.customGetElementFunction)return this.customGetElementFunction(t);if(this.hasJquery){var e=window.jQuery(t);if(0==e.length)return[];for(var r=[],n=0;n<e.length;n++)r.push(e[0]);return r}return this.inBrowser&&this.hasDocument?window.document.querySelectorAll(t):(this.log.trace("PICT Content GET ELEMENT for [".concat(t,"] will return empty because none of the browser methods are available")),[])}},{key:"assignContent",value:function(t,e){if(this.customAssignFunction)return this.customAssignFunction(t,e);if(this.hasJquery)for(var r=window.jQuery(t),n=0;n<r.length;n++)switch(r[n].tagName){case"INPUT":case"SELECT":case"TEXTAREA":r[n].value=e;break;case"SCRIPT":r[n].text=e;break;default:r[n].innerHTML=e}else if(this.inBrowser&&this.hasDocument)for(var i=window.document.querySelectorAll(t),o=0;o<i.length;o++)switch(i[o].tagName){case"INPUT":case"SELECT":case"TEXTAREA":i[o].value=e;break;case"SCRIPT":i[o].text=e;break;default:i[o].innerHTML=e}else this.log.trace("PICT Content ASSIGN to [".concat(t,"]:"),e)}},{key:"appendContent",value:function(t,e){if(this.customAppendFunction)return this.customAppendFunction(t,e);if(this.hasJquery)window.jQuery(t).append(e);else if(this.inBrowser&&this.hasDocument)for(var r=window.document.querySelectorAll(t),n=0;n<r.length;n++)r[n].insertAdjacentHTML("beforeend",e);else this.log.trace("PICT Content APPEND to [".concat(t,"]:"),e)}},{key:"prependContent",value:function(t,e){if(this.customAppendFunction)return this.customPrependFunction(t,e);if(this.hasJquery)window.jQuery(t).prepend(e);else if(this.inBrowser&&this.hasDocument)for(var r=window.document.querySelectorAll(t),n=0;n<r.length;n++)r[n].insertAdjacentHTML("afterbegin",e);else this.log.trace("PICT Content PREPEND in [".concat(t,"]:"),e)}},{key:"readContent",value:function(t){if(this.customReadFunction)return this.customReadFunction(t);if(this.hasJquery){var e=window.jQuery(t);switch(e.prop("tagName")){case"INPUT":case"SELECT":case"TEXTAREA":return e.val();case"SCRIPT":return e.text();default:return e.html()}}else{if(!this.inBrowser||!this.hasDocument)return this.log.trace("PICT Content READ from [".concat(t,"]...")),"";var r=window.document.querySelectorAll(t);if(r.length<1)return null;if(1==r.length)switch(r[0].tagName){case"INPUT":case"SELECT":case"TEXTAREA":return r[0].value;case"SCRIPT":return r[0].text;default:return r[0].innerHTML}}}},{key:"addClass",value:function(t,e){if(this.customSetClassFunction)return this.customSetClassFunction(t,e);if(this.hasJquery)window.jQuery(t).addClass(e);else if(this.inBrowser&&this.hasDocument)for(var r=window.document.querySelectorAll(t),n=0;n<r.length;n++)r[n].classList.add(e);else this.log.trace("PICT Content ADDCLASS to [".concat(t,"]:"),e)}},{key:"removeClass",value:function(t,e){if(this.customRemoveClassFunction)return this.customRemoveClassFunction(t,e);if(this.hasJquery)window.jQuery(t).removeClass(e);else if(this.inBrowser&&this.hasDocument)for(var r=window.document.querySelectorAll(t),n=0;n<r.length;n++)r[n].classList.remove(e);else this.log.trace("PICT Content REMOVECLASS from [".concat(t,"]:"),e)}},{key:"readAttribute",value:function(t,e){if(this.customReadAttributeFunction)return this.customReadAttributeFunction(t,e);if(this.hasJquery)window.jQuery(t).attr(e);else if(this.inBrowser&&this.hasDocument)for(var r=window.document.querySelectorAll(t),n=0;n<r.length;n++)r[n].getAttribute(e);else this.log.trace("PICT Content READATTRIBUTE from [".concat(t,"]:"),e)}},{key:"setAttribute",value:function(t,e,r){if(this.customSetAttributeFunction)return this.customSetAttributeFunction(t,e,r);if(this.hasJquery)window.jQuery(t).attr(e,r);else if(this.inBrowser&&this.hasDocument)for(var n=window.document.querySelectorAll(t),i=0;i<n.length;i++)n[i].setAttribute(e,r);else this.log.trace("PICT Content SETATTRIBUTE for [".concat(t,"] ATTRIBUTE [").concat(e,"]:"),r)}},{key:"removeAttribute",value:function(t,e){if(this.customRemoveAttributeFunction)return this.customRemoveAttributeFunction(t,e);if(this.hasJquery)window.jQuery(t).removeAttr(e);else if(this.inBrowser&&this.hasDocument)for(var r=window.document.querySelectorAll(t),n=0;n<r.length;n++)r[n].removeAttribute(e);else this.log.trace("PICT Content REMOVEATTRIBUTE for [".concat(t,"] ATTRIBUTE [").concat(e,"]"))}},{key:"hasClass",value:function(t,e){if(this.customReadClassFunction)return this.customReadClassFunction(t,e);if(this.hasJquery)return window.jQuery(t).hasClass(e);if(this.inBrowser&&this.hasDocument)for(var r=window.document.querySelectorAll(t),n=0;n<r.length;n++)return r[n].classList.contains(e);else this.log.trace("PICT Content HASCLASS for [".concat(t,"] CLASS [").concat(e,"]:"))}}]),r}(t("fable").ServiceProviderBase);e.exports=n},{fable:50}],140:[function(t,e,r){var n=function(t){_inherits(r,t);var e=_createSuper(r);function r(t,n,i){var o;return _classCallCheck2(this,r),(o=e.call(this,t,n,i)).serviceType="PictDataProvider",o}return _createClass2(r,[{key:"getDataByAddress",value:function(t,e){var r=void 0===e?{}:e;return this.fable.manifest.getValueByHash({AppData:this.AppData,Bundle:this.Bundle,Record:r},t)}}]),r}(t("fable").ServiceProviderBase);e.exports=n},{fable:50}],141:[function(t,e,r){var n=function(t){_inherits(r,t);var e=_createSuper(r);function r(t,n,i){var o;return _classCallCheck2(this,r),(o=e.call(this,t,n,i)).serviceType="PictMeadowProvider",o.fable.settings.PictDefaultURLPrefix?o.options.urlPrefix=o.fable.settings.PictDefaultURLPrefix:o.options.urlPrefix||(o.options.urlPrefix="/1.0/"),o.fable.settings.PictDefaultDownloadBatchSize?o.options.downloadBatchSize=o.fable.settings.PictDefaultDownloadBatchSize:o.options.downloadBatchSize||(o.options.downloadBatchSize=100),o.restClient=o.fable.instantiateServiceProviderWithoutRegistration("RestClient"),o.cache={},o.prepareRequestOptions=function(t){return t},o}return _createClass2(r,[{key:"initializeCache",value:function(t){this.cache.hasOwnProperty(t)||(this.cache[t]=this.fable.instantiateServiceProviderWithoutRegistration("ObjectCache"),this.cache[t].maxAge=3e4,this.cache[t].maxLength=1e4,this.fable.Bundle[t]=this.cache[t].RecordMap)}},{key:"getEntity",value:function(t,e,r){this.initializeCache(t),this.cache[t].prune(function(){var n=this,i=this.cache[t].read(e);if(i)return r(null,i);var o={url:"".concat(this.options.urlPrefix).concat(t,"/").concat(e)};return o=this.prepareRequestOptions(o),this.restClient.getJSON(o,(function(i,o,a){return a&&n.cache[t].put(a,e),r(i,a)}))}.bind(this))}},{key:"getEntitySetPage",value:function(t,e,r,n,i){var o="".concat(this.options.urlPrefix).concat(t,"s/FilteredTo/").concat(e,"/").concat(r,"/").concat(n);return this.restClient.getJSON(o,function(t,e,r){return i(t,r)}.bind(this))}},{key:"getEntitySetRecordCount",value:function(t,e,r){var n="".concat(this.options.urlPrefix).concat(t,"s/Count/FilteredTo/").concat(e);return this.restClient.getJSON(n,function(i,o,a){if(i)return this.log.error("Error getting entity count of [".concat(t,"] filtered to [").concat(e,"] from url [").concat(n,"]: ").concat(i)),r(i);var s=0;return a.Count&&(s=a.Count),r(i,s)}.bind(this))}},{key:"getEntitySet",value:function(t,e,r){this.initializeCache(t),this.cache[t].prune(function(){var n=this;return this.getEntitySetRecordCount(t,e,(function(i,o){if(i)return r(i);var a=o;if(isNaN(o))return n.log.error("Entity count did not return a number for [".concat(t,"] filtered to [").concat(e,"]... something is fatally wrong from the server accessed in getEntitySet call.")),r(new Error("Entity count did not return a number in getEntitySet."));for(var s=[],c=n.options.downloadBatchSize,u=0;u<a/c;u++)s.push("".concat(n.options.urlPrefix).concat(t,"s/FilteredTo/").concat(e,"/").concat(u*c,"/").concat(c));var l=[];n.fable.Utility.eachLimit(s,1,(function(t,e){n.restClient.getJSON(t,(function(t,r,n){return l=l.concat(n),e(t)}))}),(function(t){return r(t,l)}))}))}.bind(this))}}]),r}(t("fable").ServiceProviderBase);e.exports=n},{fable:50}],142:[function(t,e,r){var n=function(t){_inherits(r,t);var e=_createSuper(r);function r(t,n,i){var o;return _classCallCheck2(this,r),(o=e.call(this,t,n,i)).serviceType="PictTemplateProvider",o.templates={},o.templateSources={},o.defaultTemplates=[],o.loadTemplateFunction=function(t){return!1},o}return _createClass2(r,[{key:"addTemplate",value:function(t,e,r){this.templates[t]=e,this.templateSources[t]="string"==typeof r?r:"Direct addTemplate('".concat(t,"') function load into PictTemplateProvider [").concat(this.UUID,"]::[").concat(this.Hash,"]")}},{key:"addDefaultTemplate",value:function(t,e,r,n){var i={prefix:t,postfix:e,template:r,source:"string"==typeof n?n:"Direct addDefaultTemplate('".concat(t,"','").concat(e,"',..) function load into PictTemplateProvider [").concat(this.UUID,"]::[").concat(this.Hash,"]")};"string"!=typeof r&&this.log.error("PictTemplateProvider.addDefaultTemplate: pTemplate is not a string."),this.defaultTemplates.push(i)}},{key:"checkDefaultTemplateHash",value:function(t){for(var e=0;e<this.defaultTemplates.length;e++)if(t.indexOf(this.defaultTemplates[e].postfix)==t.length-this.defaultTemplates[e].postfix.length&&0==t.indexOf(this.defaultTemplates[e].prefix))return this.templates[t]=this.defaultTemplates[e].template,this.templateSources[t]="Auto created in checkDefaultTemplateHash('".concat(t,"') function by PictTemplateProvider [").concat(this.UUID,"]::[").concat(this.Hash,"] from [").concat(this.defaultTemplates[e].prefix,"]...[").concat(this.defaultTemplates[e].postfix,"]"),this.templates[t];return!1}},{key:"getTemplate",value:function(t){return this.templates.hasOwnProperty(t)||this.loadTemplate(t),this.templates.hasOwnProperty(t)||this.checkDefaultTemplateHash(t),!!this.templates.hasOwnProperty(t)&&this.templates[t]}},{key:"loadTemplate",value:function(t){var e=this.loadTemplateFunction(t);return e&&(this.templates[t]=e.template,this.templateSources[t]="Loaded in loadTemplate('".concat(t,"') function by PictTemplateProvider [").concat(this.UUID,"]::[").concat(this.Hash,"] from [").concat(e.source,"]")),e}}]),r}(t("fable").ServiceProviderBase);e.exports=n},{fable:50}],143:[function(t,e,r){var n=function(e){_inherits(n,e);var r=_createSuper(n);function n(e){var i;return _classCallCheck2(this,n),(i=r.call(this,e)).isBrowser=new Function("try {return (this===window);} catch(pError) {return false;}"),i.addAndInstantiateServiceType("TemplateProvider",t("./Pict-Template-Provider.js")),i.addAndInstantiateServiceType("EntityProvider",t("./Pict-Meadow-EntityProvider.js")),i.addAndInstantiateServiceType("DataProvider",t("./Pict-DataProvider.js")),i.addAndInstantiateServiceType("ContentAssignment",t("./Pict-Content-Assignment.js")),i.addAndInstantiateServiceType("CSSMap",t("./Pict-CSS.js")),i.instantiateServiceProvider("MetaTemplate"),i.instantiateServiceProvider("DataGeneration"),i.manifest=i.instantiateServiceProvider("Manifest"),i.AppData={},i.Bundle={},i.LogNoisiness=0,i.settings.Manifests&&i.loadManifestSet(i.settings.Manifests),i._DefaultPictTemplatesInitialized=!1,i.initializePictTemplateEngine(),i.addServiceType("PictView",t("pict-view")),i.addServiceType("PictApplication",t("pict-application")),i.views=i.servicesMap.PictView,i}return _createClass2(n,[{key:"loadManifestSet",value:function(t){if("object"!=_typeof(t))return this.log.warn("PICT [".concat(this.UUID,"] could not load Manifest Set; pManifestSet was not an object.")),!1;var e=Object.keys(t);if(e.length>0)for(var r=0;r<e.length;r++){var n=e[r];this.instantiateServiceProvider("Manifest",t[n],n)}}},{key:"addView",value:function(t,e,r){var n="object"==_typeof(e)?e:{},i="string"==typeof t?t:this.fable.getUUID();return void 0!==r?(r.hasOwnProperty("default_configuration")&&(n=this.fable.Utility.extend({},r.default_configuration,n)),this.instantiateServiceProviderFromPrototype("PictView",n,i,r)):this.instantiateServiceProvider("PictView",n,i)}},{key:"addApplication",value:function(t,e,r){var n="object"==_typeof(e)?e:{},i="string"==typeof t?t:this.fable.getUUID();return void 0!==r?(r.hasOwnProperty("default_configuration")&&(n=this.fable.Utility.extend({},r.default_configuration,n)),this.instantiateServiceProviderFromPrototype("PictApplication",n,i,r)):this.instantiateServiceProvider("PictApplication",n,i)}},{key:"initializePictTemplateEngine",value:function(){var t=this;if(!this._DefaultPictTemplatesInitialized){var e=function(e,r,n){var i=e.trim(),o="object"===_typeof(r)?r:{},a="function"==typeof n?n:function(){return""};t.LogNoisiness>4?t.log.trace("PICT Template [fEntityRender]::[".concat(i,"] with tmpData:"),o):t.LogNoisiness>0&&t.log.trace("PICT Template [fEntityRender]::[".concat(i,"]"));var s,c,u=!1,l=i.split("^");return l.length<2?(t.log.warn("Pict: Entity Render: Entity or entity ID not resolved for [".concat(i,"]")),a(Error("Pict: Entity Render: Entity or entity ID not resolved for [".concat(i,"]")),"")):(s=l[0].trim(),u=l[1].trim(),c=l[2].trim(),u=isNaN(u)?t.manifest.getValueByHash({AppData:t.AppData,Bundle:t.Bundle,Record:o},u):parseInt(u),s&&u?(t.log.trace("Pict: Entity Render: Entity [".concat(s,"] with ID [").concat(u,"] as template [").concat(c,"] from [").concat(i,"]")),void t.EntityProvider.getEntity(s,u,function(t,e){return t?(this.log.error("Pict: Entity Render: Error getting entity [".concat(s,"] with ID [").concat(u,"] for [").concat(i,"]: ").concat(t),t),a(t,"")):c?this.parseTemplateByHash(c,e,a):a(null,"")}.bind(t))):(t.log.warn("Pict: Entity Render: Entity or entity ID not resolved for [".concat(i,"]  Entity: ").concat(s," ID: ").concat(u)),a(Error("Pict: Entity Render: Entity or entity ID not resolved for [".concat(i,"]  Entity: ").concat(s," ID: ").concat(u)),"")))};this.MetaTemplate.addPatternAsync("{~E:","~}",e),this.MetaTemplate.addPatternAsync("{~Entity:","~}",e);var r=function(e,r){var n=e.trim(),i="object"===_typeof(r)?r:{};t.LogNoisiness>4?t.log.trace("PICT Template [fTemplateRender]::[".concat(n,"] with tmpData:"),i):t.LogNoisiness>0&&t.log.trace("PICT Template [fTemplateRender]::[".concat(n,"]"));var o=!1,a=!1,s=n.indexOf(":");return o=n.substring(0,s),s>-1?a=n.substring(s+1):o=n,o?a?t.parseTemplateByHash(o,t.manifest.getValueByHash({AppData:t.AppData,Bundle:t.Bundle,Record:i},a)):t.parseTemplateByHash(o,r):(t.log.warn("Pict: Template Render: TemplateHash not resolved for [".concat(n,"]")),"Pict: Template Render: TemplateHash not resolved for [".concat(n,"]"))},n=function(e,r,n){var i=e.trim(),o="object"===_typeof(r)?r:{},a="function"==typeof n?n:function(){return""};t.LogNoisiness>4?t.log.trace("PICT Template [fTemplateRenderAsync]::[".concat(i,"] with tmpData:"),o):t.LogNoisiness>0&&t.log.trace("PICT Template [fTemplateRenderAsync]::[".concat(i,"]"));var s=!1,c=!1,u=i.indexOf(":");return s=i.substring(0,u),u>-1?c=i.substring(u+1):s=i,s?c?t.parseTemplateByHash(s,t.manifest.getValueByHash({AppData:t.AppData,Bundle:t.Bundle,Record:o},c),(function(t,e){return t?a(t,""):a(null,e)})):t.parseTemplateByHash(s,r,(function(t,e){return t?a(t,""):a(null,e)})):(t.log.warn("Pict: Template Render Async: TemplateHash not resolved for [".concat(i,"]")),"Pict: Template Render Async: TemplateHash not resolved for [".concat(i,"]"))};this.MetaTemplate.addPatternBoth("{~T:","~}",r,n),this.MetaTemplate.addPatternBoth("{~Template:","~}",r,n);var i=function(e,r){var n=e.trim(),i="object"===_typeof(r)?r:{};t.LogNoisiness>4?t.log.trace("PICT Template [fTemplateSetRender]::[".concat(n,"] with tmpData:"),i):t.LogNoisiness>0&&t.log.trace("PICT Template [fTemplateSetRender]::[".concat(n,"]"));var o=!1,a=!1,s=n.indexOf(":");return o=n.substring(0,s),s>-1?a=n.substring(s+1):o=n,o?a?t.parseTemplateSetByHash(o,t.manifest.getValueByHash({AppData:t.AppData,Bundle:t.Bundle,Record:i},a)):t.parseTemplateSetByHash(o,r):(t.log.warn("Pict: Template Render: TemplateHash not resolved for [".concat(n,"]")),"Pict: Template Render: TemplateHash not resolved for [".concat(n,"]"))},o=function(e,r,n){var i=e.trim(),o="object"===_typeof(r)?r:{},a="function"==typeof n?n:function(){return""};t.LogNoisiness>4?t.log.trace("PICT Template [fTemplateSetRenderAsync]::[".concat(i,"] with tmpData:"),o):t.LogNoisiness>0&&t.log.trace("PICT Template [fTemplateSetRenderAsync]::[".concat(i,"]"));var s=!1,c=!1,u=i.indexOf(":");return s=i.substring(0,u),u>-1?c=i.substring(u+1):s=i,s?c?t.parseTemplateSetByHash(s,t.manifest.getValueByHash({AppData:t.AppData,Bundle:t.Bundle,Record:o},c),(function(t,e){return t?a(t,""):a(null,e)})):t.parseTemplateSetByHash(s,r,(function(t,e){return t?a(t,""):a(null,e)})):(t.log.warn("Pict: Template Render Async: TemplateHash not resolved for [".concat(i,"]")),a(new Error("Pict: Template Render Async: TemplateHash not resolved for [".concat(i,"]")),""))};this.MetaTemplate.addPatternBoth("{~TS:","~}",i,o),this.MetaTemplate.addPatternBoth("{~TemplateSet:","~}",i,o);var a=function(e,r){var n=e.trim(),i="object"===_typeof(r)?r:{};t.LogNoisiness>4?t.log.trace("PICT Template [fDataRender]::[".concat(n,"] with tmpData:"),i):t.LogNoisiness>3&&t.log.trace("PICT Template [fDataRender]::[".concat(n,"]"));var o=t.manifest.getValueByHash({AppData:t.AppData,Bundle:t.Bundle,Record:i},n);return null==o||"undefined"==o||void 0===o?"":o};this.MetaTemplate.addPattern("{~D:","~}",a),this.MetaTemplate.addPattern("{~Data:","~}",a),this.MetaTemplate.addPattern("{~Dollars:","~}",(function(e,r){var n=e.trim(),i="object"===_typeof(r)?r:{};t.LogNoisiness>4?t.log.trace("PICT Template [fDollars]::[".concat(n,"] with tmpData:"),i):t.LogNoisiness>3&&t.log.trace("PICT Template [fDollars]::[".concat(n,"]"));var o=t.manifest.getValueByHash({AppData:t.AppData,Bundle:t.Bundle,Record:i},n);return t.DataFormat.formatterDollars(o)})),this.MetaTemplate.addPattern("{~Digits:","~}",(function(e,r){var n=e.trim(),i="object"===_typeof(r)?r:{};t.LogNoisiness>4?t.log.trace("PICT Template [fDigits]::[".concat(n,"] with tmpData:"),i):t.LogNoisiness>3&&t.log.trace("PICT Template [fDigits]::[".concat(n,"]"));var o=t.manifest.getValueByHash({AppData:t.AppData,Bundle:t.Bundle,Record:i},n);return t.DataFormat.formatterAddCommasToNumber(t.DataFormat.formatterRoundNumber(o,2))})),this.MetaTemplate.addPattern("{~DateYMD:","~}",(function(e,r){var n=e.trim(),i="object"===_typeof(r)?r:{},o=t.manifest.getValueByHash({AppData:t.AppData,Bundle:t.Bundle,Record:i},n);t.LogNoisiness>4?t.log.trace("PICT Template [fDateFormat]::[".concat(n,"] with tmpData:"),i):t.LogNoisiness>3&&t.log.trace("PICT Template [fDateFormat]::[".concat(n,"]"));var a=t.fable.Dates.dayJS.utc(o);try{a=t.options.Timezone?a.tz(t.options.Timezone):a.tz(t.fable.Dates.dayJS.tz.guess())}catch(e){t.log.error("Error casting Document date ".concat(tmpSQLDateTime," to the Document timezone using tz in this.AppData.DocumentData.Timezone: [").concat(t.AppData.DocumentData.Timezone,"] .. casting to the browser guess which is [").concat(t.fable.Dates.dayJS.tz.guess(),"].")),a=a.tz(t.fable.Dates.dayJS.tz.guess())}return a.format("YYYY-MM-DD")})),this.MetaTemplate.addPattern("{~DateFormat:","~}",(function(e,r){var n=e.trim(),i="object"===_typeof(r)?r:{},o=n.split("^");if(o.length<2)return t.log.error("PICT Template [fDateFormat]::[".concat(n,"] did not have a valid format string and date.")),"";var a=t.manifest.getValueByHash({AppData:t.AppData,Bundle:t.Bundle,Record:i},o[0]);t.LogNoisiness>4?t.log.trace("PICT Template [fDateFormat]::[".concat(n,"] with tmpData:"),i):t.LogNoisiness>3&&t.log.trace("PICT Template [fDateFormat]::[".concat(n,"]"));var s=t.fable.Dates.dayJS.utc(a);try{s=t.options.Timezone?s.tz(t.options.Timezone):s.tz(t.fable.Dates.dayJS.tz.guess())}catch(e){t.log.error("Error casting Document date ".concat(tmpSQLDateTime," to the Document timezone using tz in this.AppData.DocumentData.Timezone: [").concat(t.AppData.DocumentData.Timezone,"] .. casting to the browser guess which is [").concat(t.fable.Dates.dayJS.tz.guess(),"].")),s=s.tz(t.fable.Dates.dayJS.tz.guess())}return s.format(o[1])}));var s=function(e,r){var n=e.trim(),i="object"===_typeof(r)?r:{};t.LogNoisiness>4?t.log.trace("PICT Template [fNotEmptyRender]::[".concat(n,"] with tmpData:"),i):t.LogNoisiness>2&&t.log.trace("PICT Template [fNotEmptyRender]::[".concat(n,"]"));var o=n.split("|");return t.manifest.getValueByHash({AppData:t.AppData,Bundle:t.Bundle,Record:i},o[0])?o[1]:""};this.MetaTemplate.addPattern("{~NotEmpty:","~}",s),this.MetaTemplate.addPattern("{~NE:","~}",s);var c=function(e,r){var n=e.trim();t.LogNoisiness>3&&t.log.trace("PICT Template [fRandomNumberString]::[".concat(n,"]"));var i=4,o=9999;if(n.length>0){var a=n.split(",");a.length>0&&(i=parseInt(a[0])),a.length>1&&(o=parseInt(a[1]))}return t.DataGeneration.randomNumericString(i,o)};this.MetaTemplate.addPattern("{~RandomNumberString:","~}",c),this.MetaTemplate.addPattern("{~RNS:","~}",c);var u=function(e,r){var n=e.trim();t.LogNoisiness>3&&t.log.trace("PICT Template [fRandomNumber]::[".concat(n,"]"));var i=0,o=9999999;if(n.length>0){var a=n.split(",");a.length>0&&(i=parseInt(a[0])),a.length>1&&(o=parseInt(a[1]))}return t.DataGeneration.randomIntegerBetween(i,o)};this.MetaTemplate.addPattern("{~RandomNumber:","~}",u),this.MetaTemplate.addPattern("{~RN:","~}",u);this.MetaTemplate.addPattern("{~PascalCaseIdentifier:","~}",(function(e,r){var n=e.trim(),i="object"===_typeof(r)?r:{};t.LogNoisiness>4?t.log.trace("PICT Template [fPascalCaseIdentifier]::[".concat(n,"] with tmpData:"),i):t.LogNoisiness>3&&t.log.trace("PICT Template [fPascalCaseIdentifier]::[".concat(n,"]"));var o=t.manifest.getValueByHash({AppData:t.AppData,Bundle:t.Bundle,Record:i},n);return null==o||"undefined"==o||void 0===o?"":t.DataFormat.cleanNonAlphaCharacters(t.DataFormat.capitalizeEachWord(o))}));var l=function(e,r){var n=e.trim(),i="object"===_typeof(r)?r:{},o=t.manifest.getValueByHash({AppData:t.AppData,Bundle:t.Bundle,Record:i},n),a=_typeof(o);return null==o||"undefined"==a?t.log.trace("PICT Template Log Value: [".concat(n,"] is ").concat(a,".")):"object"==a?t.log.trace("PICT Template Log Value: [".concat(n,"] is an obect."),o):t.log.trace("PICT Template Log Value: [".concat(n,"] is a ").concat(a," = [").concat(o,"]")),""};this.MetaTemplate.addPattern("{~LogValue:","~}",l),this.MetaTemplate.addPattern("{~LV:","~}",l);var f=function(e,r){var n=e.trim();return t.log.trace("PICT Template Log Message: ".concat(n)),""};this.MetaTemplate.addPattern("{~LogStatement:","~}",f),this.MetaTemplate.addPattern("{~LS:","~}",f);this.MetaTemplate.addPattern("{~Breakpoint","~}",(function(e,r){var n=e.trim(),i=new Error("PICT Template Breakpoint: ".concat(n));return t.log.trace("PICT Template Breakpoint: ".concat(n),i.stack),""})),this._DefaultPictTemplatesInitialized=!0}}},{key:"parseTemplate",value:function(t,e,r){var n="object"===_typeof(e)?e:{};return this.MetaTemplate.parseString(t,n,r)}},{key:"parseTemplateByHash",value:function(t,e,r){var n=this.TemplateProvider.getTemplate(t);return n||(n=""),this.parseTemplate(n,e,r)}},{key:"parseTemplateSet",value:function(t,e,r){var n=this,i="";if("function"!=typeof r){if(Array.isArray(e)||"object"==_typeof(e)){if(Array.isArray(e))for(var o=0;o<e.length;o++)i+=this.parseTemplate(t,e[o]);else for(var a=Object.keys(e),s=0;s<a.length;s++)i+=this.parseTemplate(t,e[a[s]]);return i}return""}if(!Array.isArray(e)&&"object"!=_typeof(e))return r(Error("Pict: Template Set: pDataSet is not an array or object."),"");this.Utility.eachLimit(e,1,(function(e,r){return n.parseTemplate(t,e,(function(t,e){return i+=e,r()}))}),(function(t){return r(t,i)}))}},{key:"parseTemplateSetByHash",value:function(t,e,r){var n=this.TemplateProvider.getTemplate(t);return n||(n=""),this.parseTemplateSet(n,e,r)}}]),n}(t("fable"));e.exports=n,e.exports.PictApplicationClass=t("pict-application"),e.exports.PictViewClass=t("pict-view"),e.exports.EnvironmentLog=t("./environments/Pict-Environment-Log.js"),e.exports.EnvironmentObject=t("./environments/Pict-Environment-Object.js"),e.exports.isBrowser=new Function("try {return (this===window);} catch(pError) {return false;}")},{"./Pict-CSS.js":138,"./Pict-Content-Assignment.js":139,"./Pict-DataProvider.js":140,"./Pict-Meadow-EntityProvider.js":141,"./Pict-Template-Provider.js":142,"./environments/Pict-Environment-Log.js":144,"./environments/Pict-Environment-Object.js":145,fable:50,"pict-application":93,"pict-view":94}],144:[function(t,e,r){var n=function(){function t(e,r){_classCallCheck2(this,t),this.contentMap="object"==_typeof(r)?r:{},this.pict=e,this.truncateContentLength=256,this.storeEventLog=!0,this.eventLog={},this.eventLog.GetElement=[],this.eventLog.Read=[],this.eventLog.Prepend=[],this.eventLog.Append=[],this.eventLog.Assign=[],this.pict.ContentAssignment.customGetElementFunction=this.customGetElementFunction.bind(this),this.pict.ContentAssignment.customReadFunction=this.customReadFunction.bind(this),this.pict.ContentAssignment.customAppendFunction=this.customAppendFunction.bind(this),this.pict.ContentAssignment.customPrependFunction=this.customPrependFunction.bind(this),this.pict.ContentAssignment.customAssignFunction=this.customAssignFunction.bind(this),this.pict.ContentAssignment.customReadAttributeFunction=this.customReadAttributeFunction.bind(this),this.pict.ContentAssignment.customSetAttributeFunction=this.customSetAttributeFunction.bind(this)}return _createClass2(t,[{key:"createEventLogEntry",value:function(t,e){var r=void 0===e?"":e;return{TimeStamp:this.pict.log.getTimeStamp(),Hash:t,Content:r}}},{key:"customGetElementFunction",value:function(t){return this.storeEventLog&&this.eventLog.GetElement.push(this.createEventLogEntry(t)),this.pict.log.info("Mocking an GET of Address -> [".concat(t,"]")),""}},{key:"customReadFunction",value:function(t){return this.storeEventLog&&this.eventLog.Read.push(this.createEventLogEntry(t)),this.pict.log.info("Mocking an READ from Address -> [".concat(t,"]")),this.contentMap.hasOwnProperty(t)?this.contentMap[t]:(this.pict.log.warn("Mock read from Address ".concat(t," did not find a value in the content map.")),"")}},{key:"customAppendFunction",value:function(t,e){return this.storeEventLog&&this.eventLog.Append.push(this.createEventLogEntry(t,e)),e.length>this.truncateContentLength?this.pict.log.info("Mocking an APPEND to Address -> [".concat(t,"] (log truncated to first ").concat(this.truncateContentLength," characters)"),{Content:e.substring(0,this.truncateContentLength)}):this.pict.log.info("Mocking an APPEND to Address -> [".concat(t,"]"),{Content:e}),""}},{key:"customPrependFunction",value:function(t,e){return this.storeEventLog&&this.eventLog.Prepend.push(this.createEventLogEntry(t,e)),e.length>this.truncateContentLength?this.pict.log.info("Mocking an PREPEND to Address -> [".concat(t,"] (log truncated to first ").concat(this.truncateContentLength," characters)"),{Content:e.substring(0,this.truncateContentLength)}):this.pict.log.info("Mocking an PREPEND to Address -> [".concat(t,"]"),{Content:e}),""}},{key:"customAssignFunction",value:function(t,e){return this.storeEventLog&&this.eventLog.Assign.push(this.createEventLogEntry(t,e)),e.length>this.truncateContentLength?this.pict.log.info("Mocking an ASSIGN to Address -> [".concat(t,"] (log truncated to first ").concat(this.truncateContentLength," characters)"),{Content:e.substring(0,this.truncateContentLength)}):this.pict.log.info("Mocking an ASSIGN to Address -> [".concat(t,"]"),{Content:e}),""}},{key:"customReadAttributeFunction",value:function(t,e){return this.pict.log.info("Mocking an READ ATTRIBUTE from Address -> [".concat(t,"]"),{Attribute:e}),""}},{key:"customSetAttributeFunction",value:function(t,e,r){return r.length>this.truncateContentLength?this.pict.log.info("Mocking an SET ATTRIBUTE to Address -> [".concat(t,"] (log truncated to first ").concat(this.truncateContentLength," characters)"),{Attribute:e,Content:r.substring(0,this.truncateContentLength)}):this.pict.log.info("Mocking an SET ATTRIBUTE to Address -> [".concat(t,"]"),{Attribute:e,Content:r}),""}}]),t}();e.exports=n},{}],145:[function(t,e,r){var n=function(){function t(e,r){_classCallCheck2(this,t),this.contentMap="object"==_typeof(r)?r:{},this.contentMap._ATTRIBUTE_MAP={},this.contentMap._CLASS_MAP={},this.pict=e,this.truncateContentLength=256,this.storeEventLog=!0,this.eventLog={},this.eventLog.GetElement=[],this.eventLog.Read=[],this.eventLog.Prepend=[],this.eventLog.Append=[],this.eventLog.Assign=[],this.eventLog.ReadAttribute=[],this.eventLog.SetAttribute=[],this.eventLog.RemoveAttribute=[],this.eventLog.ReadClass=[],this.eventLog.SetClass=[],this.eventLog.RemoveClass=[],this.pict.ContentAssignment.customGetElementFunction=this.customGetElementFunction.bind(this),this.pict.ContentAssignment.customReadFunction=this.customReadFunction.bind(this),this.pict.ContentAssignment.customAppendFunction=this.customAppendFunction.bind(this),this.pict.ContentAssignment.customPrependFunction=this.customPrependFunction.bind(this),this.pict.ContentAssignment.customAssignFunction=this.customAssignFunction.bind(this),this.pict.ContentAssignment.customReadAttributeFunction=this.customReadAttributeFunction.bind(this),this.pict.ContentAssignment.customSetAttributeFunction=this.customSetAttributeFunction.bind(this),this.pict.ContentAssignment.customRemoveAttributeFunction=this.customRemoveAttributeFunction.bind(this),this.pict.ContentAssignment.customReadClassFunction=this.customReadClassFunction.bind(this),this.pict.ContentAssignment.customSetClassFunction=this.customSetClassFunction.bind(this),this.pict.ContentAssignment.customRemoveClassFunction=this.customRemoveClassFunction.bind(this)}return _createClass2(t,[{key:"createEventLogEntry",value:function(t,e){var r=void 0===e?"":e;return{TimeStamp:this.pict.log.getTimeStamp(),Hash:t,Content:r}}},{key:"customGetElementFunction",value:function(t){return this.storeEventLog&&this.eventLog.GetElement.push(this.createEventLogEntry(t)),this.pict.log.info("Mocking an GET of Address -> [".concat(t,"]")),""}},{key:"customReadFunction",value:function(t){return this.storeEventLog&&this.eventLog.Read.push(this.createEventLogEntry(t)),this.pict.log.info("Mocking an READ from Address -> [".concat(t,"]")),this.contentMap.hasOwnProperty(t)?this.contentMap[t]:(this.pict.log.warn("Mock read from Address ".concat(t," did not find a value in the content map.")),"")}},{key:"customAppendFunction",value:function(t,e){return this.contentMap[t]=void 0===this.contentMap[t]?e:this.contentMap[t]+e,this.storeEventLog&&this.eventLog.Append.push(this.createEventLogEntry(t,e)),e.length>this.truncateContentLength?this.pict.log.info("Mocking an APPEND to Address -> [".concat(t,"] (log truncated to first ").concat(this.truncateContentLength," characters)"),{Content:e.substring(0,this.truncateContentLength)}):this.pict.log.info("Mocking an APPEND to Address -> [".concat(t,"]"),{Content:e}),""}},{key:"customPrependFunction",value:function(t,e){return this.contentMap[t]=void 0===this.contentMap[t]?e:e+this.contentMap[t],this.storeEventLog&&this.eventLog.Prepend.push(this.createEventLogEntry(t,e)),e.length>this.truncateContentLength?this.pict.log.info("Mocking an PREPEND to Address -> [".concat(t,"] (log truncated to first ").concat(this.truncateContentLength," characters)"),{Content:e.substring(0,this.truncateContentLength)}):this.pict.log.info("Mocking an PREPEND to Address -> [".concat(t,"]"),{Content:e}),""}},{key:"customAssignFunction",value:function(t,e){return this.contentMap[t]=e,this.storeEventLog&&this.eventLog.Prepend.push(this.createEventLogEntry(t,e)),e.length>this.truncateContentLength?this.pict.log.info("Mocking an ASSIGN to Address -> [".concat(t,"] (log truncated to first ").concat(this.truncateContentLength," characters)"),{Content:e.substring(0,this.truncateContentLength)}):this.pict.log.info("Mocking an ASSIGN to Address -> [".concat(t,"]"),{Content:e}),""}},{key:"initializeAttributeMapLocation",value:function(t,e){this.contentMap._ATTRIBUTE_MAP.hasOwnProperty(t)||(this.contentMap._ATTRIBUTE_MAP[t]={}),this.contentMap._ATTRIBUTE_MAP[t].hasOwnProperty(e)||(this.contentMap._ATTRIBUTE_MAP[t][e]=!1)}},{key:"initializeClassMapLocation",value:function(t){this.contentMap._CLASS_MAP.hasOwnProperty(t)||(this.contentMap._CLASS_MAP[t]=[])}},{key:"customReadAttributeFunction",value:function(t,e){this.initializeAttributeMapLocation(t,e);var r=this.contentMap._ATTRIBUTE_MAP[t][e];return this.storeEventLog&&this.eventLog.Assign.push(this.createEventLogEntry(t,e)),r.length>this.truncateContentLength?this.pict.log.info("Mocking an ATTRIBUTE READ for Address -> [".concat(t,"] (log truncated to first ").concat(this.truncateContentLength," characters)"),{Content:r.substring(0,this.truncateContentLength)}):this.pict.log.info("Mocking an ATTRIBUTE READ for Address -> [".concat(t,"]::[").concat(e,"]"),{Content:r}),r}},{key:"customSetAttributeFunction",value:function(t,e,r){return this.initializeAttributeMapLocation(t,e),this.contentMap._ATTRIBUTE_MAP[t][e]=r,this.storeEventLog&&this.eventLog.Assign.push(this.createEventLogEntry(t,e)),r.length>this.truncateContentLength?this.pict.log.info("Mocking an ATTRIBUTE SET for Address -> [".concat(t,"] (log truncated to first ").concat(this.truncateContentLength," characters)"),{Content:r.substring(0,this.truncateContentLength)}):this.pict.log.info("Mocking an ATTRIBUTE SET for Address -> [".concat(t,"]::[").concat(e,"]"),{Content:r}),r}},{key:"customRemoveAttributeFunction",value:function(t,e){this.initializeAttributeMapLocation(t,e);var r=this.contentMap._ATTRIBUTE_MAP[t][e];return this.storeEventLog&&this.eventLog.Assign.push(this.createEventLogEntry(t,e)),r.length>this.truncateContentLength?this.pict.log.info("Mocking an ATTRIBUTE REMOVE for Address -> [".concat(t,"] (log truncated to first ").concat(this.truncateContentLength," characters)"),{Content:r.substring(0,this.truncateContentLength)}):this.pict.log.info("Mocking an ATTRIBUTE REMOVE for Address -> [".concat(t,"]::[").concat(e,"]"),{Content:r}),delete this.contentMap._ATTRIBUTE_MAP[t][e],!0}},{key:"customReadClassFunction",value:function(t,e){this.initializeClassMapLocation(t);var r=this.contentMap._CLASS_MAP[t].indexOf(e)>-1;return this.storeEventLog&&this.eventLog.Assign.push(this.createEventLogEntry(t,e)),this.pict.log.info("Mocking an CLASS READ for Address -> [".concat(t,"]::[").concat(e,"]"),{Content:r}),r}},{key:"customSetClassFunction",value:function(t,e){this.initializeClassMapLocation(t);var r=this.contentMap._CLASS_MAP[t];return!this.contentMap._CLASS_MAP[t].indexOf(e)>-1&&this.contentMap._CLASS_MAP[t].push(e),this.storeEventLog&&this.eventLog.Assign.push(this.createEventLogEntry(t,e)),this.pict.log.info("Mocking an CLASS SET for Address -> [".concat(t,"]::[").concat(e,"]"),{Content:r.join(" ")}),r}},{key:"customRemoveClassFunction",value:function(t,e){this.initializeClassMapLocation(t);var r=this.contentMap._CLASS_MAP[t];return this.contentMap._CLASS_MAP[t].splice(e),this.storeEventLog&&this.eventLog.Assign.push(this.createEventLogEntry(t,e)),this.pict.log.info("Mocking an CLASS REMOVE for Address -> [".concat(t,"]::[").concat(e,"]"),{Content:r.join(" ")}),r}}]),t}();e.exports=n},{}]},{},[143])(143)}));
//# sourceMappingURL=pict.compatible.min.js.map
